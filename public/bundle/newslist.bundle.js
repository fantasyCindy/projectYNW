!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/public/bundle/",t(0)}([function(e,t){"use strict";function n(e){var t=$.Deferred();e=_.extend({type:"",page:1,row:20},e);var n={backnews_type:e.type,currentPage:e.page,pageSize:e.row};return $.getJSON("/article/queryNews.htm",n,function(n){n.pageNumber=_.max([1,Math.ceil(+n.total/e.row)]),t.resolve(n)}),t.promise()}var r=["","热门资讯","涨停揭秘","宏观要闻","个股资讯"],o=function(){function e(e){return _.map(e,function(e){return e.create_time=yn.timeFormat(e.create_time),e.create_time=e.create_time.substr(0,10),e.content=yn.filterHTML(e.content,{trim:!0,substr:200}),e})}var t,o,i,a,c,u=1,s=6,l=$("body");return{init:function(){var e=this;t=$("#newslist"),o=t.find(".items"),a=$("#title-top"),i=yn.bootpag(".list"),i.on("page",function(t,n){u=n,e.render(c),l.velocity("scroll",{duration:350,offset:0})});var n=new yn.loading;n.container=o,n.type=3,n.margin=200,n.render()},render:function(t){c=t,a.text(r[c]),n({page:u,row:s,type:c}).done(function(t){console.log("资讯",t),t.rows=e(t.rows),o.html(template("newslist-item-template",t.rows)),i.bootpag({page:u,total:t.pageNumber})})}}}(),i=function(){function e(e){return _.map(e,function(e){return e.title=e.title.substr(0,18)+"...",e})}var t,o=1,i=5;return{init:function(){t=$(".yn-right")},render:function(a){n({page:o,row:i,type:a}).done(function(n){console.log("其他资讯",n),n.title=r[a],n._type=a,n.rows=e(n.rows),t.find(".news-item-"+a).html(template("list-template",n))})}}}();$(function(){var e=yn.MarketIndex();e.render($("#stockIndex"),"column"),o.init(),i.init();var t=[{t:1,key:1},{t:2,key:2},{t:3,key:3},{t:4,key:4}],n=0,r=window.location.href.match(/list=([1-4])/);r&&(n=r[1]-1),t[n].t=0,t.sort(function(e,t){return e.t-t.t}),o.render(t[0].key),i.render(t[1].key),i.render(t[2].key),i.render(t[3].key)})}]);