!function(n){function e(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return n[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=n,e.c=t,e.p="/public/bundle/",e(0)}([function(n,e,t){"use strict";t(1),$(function(){r.init(),r.event(),yn.centerMenu.init({render:"center",light:"修改密码"})});var r=function(){var n,e,t,r,i,u,a;return{init:function(){n=$("#myInfo"),e=$("#old"),t=$("#new"),r=$("#confirm"),i=$(".submit")},event:function(){i.on("click",function(){if(!_.trim(e.val()))return layer.msg("原密码不能为空");if(!_.trim(t.val()))return layer.msg("新密码不能为空");if(!_.trim(r.val()))return layer.msg("确认密码不能为空");if(u=/^[a-zA-Z0-9_]{6,}/.test(_.trim(t.val())),a=_.trim(t.val())===_.trim(r.val()),!u)return layer.msg("新密码格式错误");if(!a)return layer.msg("两次密码不一致");var i={user_id:ynUserId,oldPassword:_.trim(e.val()),newPassword:_.trim(t.val())};$.post("/auth/user/editPassword.htm",i,function(e){return"16"==e.status?void layer.alert("原密码错误, 请重试..."):void("success"==e.status&&(layer.msg("修改成功"),n.find("input").val("")))},"json")})}}}()},function(n,e){"use strict";yn.navigation.name=ynconfig.navigation.g,yn.logout.path=__path,ynIsLogin||(setTimeout(function(){yn.login.render()},100),yn.login.onClose=function(){location.href=__path}),yn.centerMenu=function(){var n,e,t,r,i=function(n){return _.map(n,function(n){var e=_.trim(n.menuname)==r?"select":"";return'<a class="item '+e+'" id="'+n.menu_id+' " href="/'+n.menuurl+'">\n                    <span class="txt ">'+n.menuname+'</span>\n                    <i class="fa fa-angle-right "></i>\n                </a>'}).join("")};return{init:function(i){n=$("#centerMenu"),e=n.find(".items"),t=n.find(".title .name"),r=i.light||"",i.render&&this.render({type:i.render})},render:function(n){n=_.extend({type:"center"},n);var r={center:{title:"个人设置",url:"/menu/queryWebUserMenu.htm"},my:{title:"个人中心",url:"/menu/queryWebUserMyMenu.htm"}},u=r[n.type],a=u.url;t.text(u.title),new yn.loading({container:e,margin:200}).render(),$.getJSON(a,{user_id:ynUserId},function(n){return e.html(i(n))})}}}()}]);