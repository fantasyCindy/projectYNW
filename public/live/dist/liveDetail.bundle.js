/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "//public/live//dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./public/live/liveDetail.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./enum/error-type.js":
/*!****************************!*\
  !*** ./enum/error-type.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    \"1\": \"请求成功\",\n    \"-1\": \"请求繁忙\",\n    \"10001\": \"股票代码不存在\",\n    \"10002\": \"查询条件为空\",\n    \"20001\": \"用户未登录\",\n    \"20002\": \"token为空\",\n    \"20003\": \"用户名不存在\",\n    \"20004\": \"密码为空\",\n    \"20005\": \"密码不匹配\",\n    \"20006\": \"登录失败\",\n    \"20007\": \"用户不存在\",\n    \"20008\": \"操作失败\",\n    \"20009\": \"密码不一致\",\n    \"20010\": \"TOKEN 错误\",\n    \"20011\": \"参数错误\",\n    \"20012\": \"获取验证码失败\",\n    \"20013\": \"期刊ID为空\",\n    \"20014\": \"直播室ID为空\",\n    \"20015\": \"提问内容为空\",\n    \"20016\": \"直播室未开启\",\n    \"20017\": \"直播老师未关联直播室\",\n    \"20018\": \"期刊不存在\",\n    \"20019\": \"已在其他终端登陆\",\n    \"20020\": \"提问次数超出限制\",\n    \"20021\": \"该条问题已被采纳过\",\n    \"20022\": \"不是该问题提问人\",\n    \"30001\": \"手机验证码为空\",\n    \"30002\": \"图片验证码错误\",\n    \"30003\": \"手机验证码错误\",\n    \"30004\": \"账号已存在\",\n    \"30005\": \"注册异常\",\n    \"30006\": \"第三方第一次登录\",\n    \"30007\": \"第三方非法用户\",\n    \"30008\": \"手机号为空\",\n    \"30009\": \"手机号已被绑定\",\n    \"30010\": \"手机号错误\",\n    \"30011\": \"该号码不是约投顾的工作电话，慎防假冒！\",\n    \"40001\": \"参数为空\",\n    \"40002\": \"服务器异常\",\n    \"40003\": \"已点赞\",\n    \"40004\": \"评论失败\",\n    \"40005\": \"起始值为空\",\n    \"40006\": \"查询失败\",\n    \"40007\": \"请求方向格式错误\",\n    \"40008\": \"用户自选股已经存在\",\n    \"40009\": \"关注\",\n    \"40010\": \"没有此股票信息\",\n    \"40011\": \"取消关注\",\n    \"40012\": \"直播老师不存在\",\n    \"40013\": \"股票代码和名称不匹配\",\n    \"40014\": \"买入股票时资本不够\",\n    \"50001\": \"消息为空\",\n    \"50002\": \"老师不能提问\",\n    \"50003\": \"老师不能关注\",\n    \"60000\": \"支付成功\",\n    \"60001\": \"商品ID为空\",\n    \"60002\": \"商品类型为空\",\n    \"60003\": \"订单类型为空\",\n    \"60004\": \"订单ID为空\",\n    \"60005\": \"订单不存在\",\n    \"60006\": \"支付失败\",\n    \"60007\": \"签名为空\",\n    \"60008\": \"未传支付密码\",\n    \"60009\": \"支付密码错误\",\n    \"60010\": \"账户余额不足\",\n    \"60011\": \"用户没有开通账户\",\n    \"60012\": \"支付密码格式不正确\",\n    \"60013\": \"充值来源错误\",\n    \"60014\": \"订单金额类型不存在\",\n    \"60015\": \"订单金额错误\",\n    \"60016\": \"产品购买数量错误\",\n    \"60017\": \"礼物不存在\",\n    \"60018\": \"商品类型不存在\",\n    \"60019\": \"商品不存在\",\n    \"60020\": \"商品已购买\",\n    \"60021\": \"商品已付款请等待客服人员与您联系\",\n    \"60022\": \"商品未购买\",\n    \"60023\": \"商品购买时间已过\",\n    \"70001\": \"组合不存在\",\n    \"70002\": \"组合已技术评价\",\n    \"70003\": \"收益信息为空\",\n    \"70004\": \"委托记录为空\",\n    \"80000\": '该手机号被用户举报，涉嫌违规操作，目前不能注册账号',\n    \"80001\": '您输入的内容违反相关规定，不能予以展示!',\n    \"90000\": \"身份证号格式验证不通过\",\n    \"90001\": \"已通过实名制验证\",\n    \"90002\": \"还没有进行实名制验证\",\n    \"90003\": \"还没有进行风险评估\",\n    \"90004\": \"当天实名验证次数到达上线\",\n    \"100001\": \"活动注册成功\",\n    \"100002\": \"活动注册失败\",\n    \"100003\": \"活动已过期\",\n    \"100005\": \"用户不符合活动条件\"\n};\n\n//# sourceURL=webpack:///./enum/error-type.js?");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/live/live-askStock-list.css":
/*!****************************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/live/live-askStock-list.css ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*问股弹窗*/\\r\\n\\r\\n#teacher-ask-win {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    background: rgba(0, 0, 0, .4);\\r\\n    z-index: 999;\\r\\n}\\r\\n\\r\\n.teacher-ask-wrap {\\r\\n    width: 800px;\\r\\n    height: 715px;\\r\\n    background: #fff;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    margin-left: -400px;\\r\\n    margin-top: -358px;\\r\\n    word-break: normal;\\r\\n}\\r\\n\\r\\n\\r\\n/**/\\r\\n\\r\\n.category table {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.category td {\\r\\n    text-align: center;\\r\\n    padding: 18px 0;\\r\\n    background: #E4E4E4;\\r\\n    cursor: pointer;\\r\\n    border-left: 1px solid rgb(200, 200, 200);\\r\\n    color: #333;\\r\\n    font-size: 18px;\\r\\n}\\r\\n\\r\\n.category td:first-child {\\r\\n    border-left: none\\r\\n}\\r\\n\\r\\n.category td.select {\\r\\n    background: #C81E26;\\r\\n    color: white;\\r\\n    border-color: #d72621\\r\\n}\\r\\n\\r\\n.totalCount {\\r\\n    color: #F6554A;\\r\\n    font-size: 16px;\\r\\n    padding: 20px 28px;\\r\\n}\\r\\n\\r\\n.teacher-ask-wrap .ask-items {\\r\\n    padding: 0 28px;\\r\\n    height: 520px;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.list-question {\\r\\n    border-bottom: 1px dotted #ececec;\\r\\n    padding-bottom: 15px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.list-item {\\r\\n    display: block;\\r\\n    padding: 15px 0;\\r\\n    background: rgba(247, 247, 247, 1);\\r\\n    padding: 15px 10px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.list-item .line1 .ask-icon {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    background: url(/public/images/live/q_icon.png) no-repeat;\\r\\n    position: relative;\\r\\n    top: 3px\\r\\n}\\r\\n\\r\\n.list-item .line1 .answer-icon {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    background: url(/public/images/live/a_icon.png) no-repeat;\\r\\n    position: relative;\\r\\n    top: 3px\\r\\n}\\r\\n\\r\\n.list-item .line1 .value {\\r\\n    width: 694px;\\r\\n    display: inline-block;\\r\\n    font-size: 14px;\\r\\n    color: #666;\\r\\n    line-height: 24px;\\r\\n    margin-left: 25px;\\r\\n    margin-top: -20px;\\r\\n}\\r\\n\\r\\n.list-item .line2 {\\r\\n    font-size: 12px;\\r\\n    margin-top: 10px;\\r\\n    padding-left: 18px;\\r\\n    position: relative;\\r\\n    line-height: 25px;\\r\\n    height: 25px;\\r\\n}\\r\\n\\r\\n.list-item .line2>* {\\r\\n    margin: 0 5px;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.askPrice {\\r\\n    color: #DD503F;\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.list-item .line2 .time {\\r\\n    color: gray\\r\\n}\\r\\n\\r\\n.list-item .line2 .answerCount {\\r\\n    position: absolute;\\r\\n    right: 80px\\r\\n}\\r\\n\\r\\n.list-item .line2 .answerCount .value {\\r\\n    color: #d72621\\r\\n}\\r\\n\\r\\n.list-item .line2 .askButton {\\r\\n    width: 62px;\\r\\n    height: 24px;\\r\\n    text-align: center;\\r\\n    line-height: 23px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    margin-left: 20px;\\r\\n    border: 1px solid #F6554A;\\r\\n    border-radius: 3px;\\r\\n    color: #d72621;\\r\\n    font-size: 12px;\\r\\n    cursor: pointer\\r\\n}\\r\\n\\r\\n.list-item .line2 .askButton:hover {\\r\\n    background: #F6554A;\\r\\n    color: white;\\r\\n    transition: all 0.3s\\r\\n}\\r\\n\\r\\n.list-item .line2 .ignoreButton {\\r\\n    width: 62px;\\r\\n    height: 24px;\\r\\n    text-align: center;\\r\\n    line-height: 23px;\\r\\n    position: absolute;\\r\\n    right: 73px;\\r\\n    top: 0;\\r\\n    margin-left: 20px;\\r\\n    border: 1px solid #5EA5F5;\\r\\n    border-radius: 3px;\\r\\n    color: #5EA5F5;\\r\\n    font-size: 12px;\\r\\n    cursor: pointer\\r\\n}\\r\\n\\r\\n.list-item .line2 .ignoreButton:hover {\\r\\n    background: #5EA5F5;\\r\\n    color: white;\\r\\n    transition: all 0.3s\\r\\n}\\r\\n\\r\\n.list-question .line2 {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n\\r\\n/*个人中心回答问股弹窗*/\\r\\n\\r\\n.teacher-ask-container {\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n#answerWindow {\\r\\n    background: rgba(242, 242, 242, 1);\\r\\n    border-radius: 4px;\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    z-index: 1000;\\r\\n    box-shadow: 2px 0px 8px rgba(6, 13, 36, 0.36);\\r\\n}\\r\\n\\r\\n#answerWindow .answerWindow-wrap {\\r\\n    border-radius: 5px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#answerWindow .question {\\r\\n    background: none;\\r\\n    padding: 10px 20px;\\r\\n    font-size: 14px;\\r\\n    line-height: 24px;\\r\\n    color: #666666;\\r\\n}\\r\\n\\r\\n#answerWindow .title {\\r\\n    position: relative;\\r\\n    padding: 10px;\\r\\n    border-bottom: none;\\r\\n    overflow: hidden;\\r\\n    padding-left: 20px;\\r\\n}\\r\\n\\r\\n#answerWindow .title .close-window {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n    top: 10px;\\r\\n    width: 12px;\\r\\n    height: 12px;\\r\\n    background: url(/public/images/live/cha.png);\\r\\n    cursor: pointer\\r\\n}\\r\\n\\r\\n#answerWindow .title .icon-title {\\r\\n    float: left;\\r\\n    font-size: 16px;\\r\\n    position: relative;\\r\\n    top: 4px;\\r\\n    margin-right: 5px\\r\\n}\\r\\n\\r\\n#answerWindow .title .name,\\r\\n#answerWindow .category .name {\\r\\n    font-size: 16px;\\r\\n    color: #333;\\r\\n}\\r\\n\\r\\n#answerWindow .title .name:before,\\r\\n#answerWindow .category .name:before {\\r\\n    display: inline-block;\\r\\n    content: \\\"\\\";\\r\\n    width: 3px;\\r\\n    height: 15px;\\r\\n    background: #DD503F;\\r\\n    margin-right: 5px;\\r\\n    position: relative;\\r\\n    top: 2px;\\r\\n}\\r\\n\\r\\n#answerWindow .content {\\r\\n    padding: 15px 20px 10px;\\r\\n}\\r\\n\\r\\n#answerWindow .category {\\r\\n    margin-bottom: 15px\\r\\n}\\r\\n\\r\\n#answerWindow .category .item {\\r\\n    border: 1px solid #F6554A;\\r\\n    width: 60px;\\r\\n    height: 22px;\\r\\n    text-align: center;\\r\\n    line-height: 18px;\\r\\n    margin-right: 16px;\\r\\n    border-radius: 15px;\\r\\n    cursor: pointer;\\r\\n    font-size: 14px;\\r\\n    color: #F6554A;\\r\\n    transition: .3s;\\r\\n}\\r\\n\\r\\n#answerWindow .category .item.select,\\r\\n#answerWindow .category .item:hover {\\r\\n    border-color: #F6554A;\\r\\n    background: #F6554A;\\r\\n    color: white\\r\\n}\\r\\n\\r\\n#answerWindow .judge {\\r\\n    margin-bottom: 15px\\r\\n}\\r\\n\\r\\n#answerWindow .judge button {\\r\\n    padding: 3px 10px;\\r\\n    border-color: gray;\\r\\n    background: white;\\r\\n    color: #202020;\\r\\n    margin: 0 5px\\r\\n}\\r\\n\\r\\n#answerWindow .edui-editor {\\r\\n    border: 1px solid #ececec;\\r\\n}\\r\\n\\r\\n#answerWindow .judge button.up.select {\\r\\n    background: #d72621;\\r\\n    border-color: #d72621;\\r\\n    color: white\\r\\n}\\r\\n\\r\\n#answerWindow .judge button.down.select {\\r\\n    background: green;\\r\\n    border-color: green;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n#answerWindow button.submit {\\r\\n    display: block;\\r\\n    margin: auto;\\r\\n    width: 80px;\\r\\n    height: 31px;\\r\\n    line-height: 22px;\\r\\n    color: #fff;\\r\\n    background: rgba(246, 85, 74, 1);\\r\\n    border: none;\\r\\n    border-radius: 4px;\\r\\n    text-align: center;\\r\\n    float: right;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n#answerWindow .bottom {\\r\\n    margin-top: 10px\\r\\n}\\r\\n\\r\\n#answerWindow .search {\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n#answerWindow .search input {\\r\\n    padding: 0 5px;\\r\\n    width: 112px;\\r\\n    height: 31px;\\r\\n    background: #fff;\\r\\n}\\r\\n\\r\\n#answerWindow .search .fa-search {\\r\\n    position: relative;\\r\\n    right: 30px;\\r\\n    color: gray\\r\\n}\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/live/live-askStock-list.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/module/ui/pay-animation.css":
/*!****************************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/module/ui/pay-animation.css ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \".pay-show-item {\\r\\n    background: rgba(41, 41, 63, 0.85);\\r\\n    display: inline-block;\\r\\n    width: 260px;\\r\\n    height: 60px;\\r\\n    margin-top: 20px;\\r\\n    border-radius: 30px;\\r\\n    position: fixed;\\r\\n    left: -320px;\\r\\n    top:40%;\\r\\n}\\r\\n\\r\\n.pay-show-item .avatar {\\r\\n    width: 60px;\\r\\n    height: 60px;\\r\\n    overflow: hidden;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n\\r\\n.pay-show-item .avatar img {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.pay-show-item .info {\\r\\n    position: absolute;\\r\\n    top: 5px;\\r\\n    left: 70px;\\r\\n    font-size: 17px;\\r\\n    width: 140px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.pay-show-item .title {\\r\\n    color: white;\\r\\n    height: 20px;\\r\\n    overflow: hidden;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.pay-show-item .sub {\\r\\n    color: #ff8d00;\\r\\n    margin-top: 4px;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.pay-show-item .gift {\\r\\n    position: absolute;\\r\\n    top: -10px;\\r\\n    right: -15px;\\r\\n}\\r\\n\\r\\n.pay-show-item .count {\\r\\n    font-size: 35px;\\r\\n    color: #ff3b01;\\r\\n    position: absolute;\\r\\n    right: -70px;\\r\\n    top: 10px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/module/ui/pay-animation.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/module/ui/pay-confirm.css":
/*!**************************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/module/ui/pay-confirm.css ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \".hide {\\n    display: none;\\n}\\n\\n.fr {\\n    float: right;\\n}\\n\\n.color666 {\\n    color: #666;\\n}\\n\\n.inline {\\n    display: inline-block;\\n}\\n\\n.pay-confirm-overlay {\\n    width: 100%;\\n    height: 100%;\\n    position: fixed;\\n    left: 0;\\n    top: 0;\\n    background: rgba(0, 0, 0, .4);\\n    text-align: center;\\n    z-index: 10000;\\n}\\n\\n.pay-confirm-box {\\n    display: inline-block;\\n    margin-top: 200px;\\n    background: white;\\n    border-radius:2px;\\n    position: relative;\\n    width: 500px;\\n    text-align: left;\\n    margin: auto;\\n    margin-top: 245px;\\n    box-shadow: 7px 4px 20px 0px hsla(0, 0%, 65%, 0.38);\\n}\\n\\n.pay-confirm-box .title {\\n    text-align: left;\\n    padding: 12px 20px;\\n    font-size: 16px;\\n    border-bottom: 1px solid rgb(219, 219, 219);\\n    font-weight: bold;\\n}\\n\\n.pay-confirm-box .content {\\n    padding:20px 30px 25px;\\n}\\n\\n.pay-confirm-box .close {\\n    width:9px;\\n    height:9px;\\n    background:url(/public/v2/base/images/close-icon.png) no-repeat;\\n    position: absolute;\\n    top: 16px;\\n    right: 17px;\\n    cursor: pointer;\\n}\\n\\n.payment {\\n    padding-bottom: 25px;\\n    border-bottom: 1px dashed #cecece;\\n}\\n\\n.pay-item-tip .payment {\\n    text-align: center;\\n    border-bottom: none;\\n    line-height:26px;\\n    color:#666;\\n    padding-bottom:0;\\n    font-size:16px;\\n}\\n\\n.payment .name {\\n    font-size: 16px;\\n    margin-bottom: 15px;\\n}\\n\\n.payment .price {\\n    margin-bottom: 15px;\\n    font-size: 16px;\\n}\\n\\n.payment .value {\\n    color: #d72612;\\n}\\n\\n.pay-confirm-box .submits {\\n    text-align: center;\\n    margin-top: 15px;\\n}\\n\\n.pay-confirm-box .pay-btn {\\n    display: inline-block;\\n    padding: 6px 35px;\\n    border-radius: 5px;\\n    background: #F6554A;\\n    color: white;\\n    font-size: 16px;\\n    cursor: pointer;\\n    margin: 0 10px;\\n}\\n.pay-confirm-box .pay-btn.jump{\\n    padding:9px 20px;\\n}\\n.pay-confirm-box .pay-btn.finish{\\n    padding:6px 46px;\\n}\\n\\n.pay-item-tip .submits {\\n    text-align: center;\\n    margin-top:20px;\\n}\\n\\n.pay-item-tip .wrong {\\n    background: #a3a2a2\\n}\\n\\n.agree .blue {\\n    color: #1176E8;\\n}\\n\\n.agree input {\\n    position: relative;\\n    top: 2px;\\n    left: -3px;\\n}\\n\\n.agree .txt {\\n    color: #999;\\n}\\n\\n.agree-tip {\\n    margin-top:10px;\\n    font-size: 12px;\\n}\\n\\n.orderNum-value {\\n    color: #666\\n}\\n\\n\\n/*  */\\n\\n.defray-content {\\n    padding: 12px 0 0 0;\\n    border-bottom: 1px dashed #cecece;\\n}\\n\\n.defray-item {\\n    height: 43px;\\n    margin: 12px auto;\\n}\\n\\n.yn_pay {\\n    width: 340px;\\n    position: relative;\\n    top: 4px;\\n    color: #333;\\n    font-size: 16px;\\n}\\n\\n.type-alipay {\\n    background: url(/public/v2/base/images/zhifubao.png) no-repeat;\\n    padding-left: 45px;\\n}\\n\\n.type-wx {\\n    background: url(/public/v2/base/images/weixin.png) no-repeat;\\n    padding-left: 45px;\\n}\\n\\n.type-nb {\\n    background: url(/public/v2/base/images/yue.png) no-repeat;\\n    padding-left: 45px;\\n}\\n\\n.defray-item .rounded {\\n    width: 14px;\\n    height: 14px;\\n    position: relative;\\n    top: 7px;\\n    border: 1px solid #B3B3B3;\\n    -moz-border-radius: 50px;\\n    -webkit-border-radius: 50px;\\n    border-radius: 50px;\\n}\\n\\n.defray-item.thisclass .rounded {\\n    border: 1px solid #CB1F13;\\n}\\n\\n.rounded label {\\n    width: 10px;\\n    height: 10px;\\n    position: absolute;\\n    top: 1px;\\n    left: 1px;\\n    cursor: pointer;\\n    background: #B3B3B3;\\n    -moz-border-radius: 50px;\\n    -webkit-border-radius: 50px;\\n    border-radius: 50px;\\n}\\n\\n.defray-item.thisclass .rounded label {\\n    background: #CB1F13;\\n}\\n.defray-item.disable .rounded{\\n    background: #cccccc;\\n}\\n.defray-item.disable .rounded label {\\n    background: #cccccc;\\n}\\n\\n\\n/*.rounded label:after {\\n    content: '';\\n    width: 11px;\\n    height: 7px;\\n    position: absolute;\\n    top: 5px;\\n    left: 4px;\\n    border: 3px solid #fcfff4;\\n    border-top: none;\\n    border-right: none;\\n    background: transparent;\\n    filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=0);\\n    opacity: 0;\\n    transition: all .3s;\\n    -moz-transform: rotate(-45deg);\\n    -ms-transform: rotate(-45deg);\\n    -webkit-transform: rotate(-45deg);\\n    transform: rotate(-45deg);\\n}*/\\n\\n\\n/*.rounded label.disable {\\n    background: #D7D7D7;\\n}*/\\n\\n\\n/*.rounded label:hover::after {\\n    filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=30);\\n    opacity: 0.3;\\n}*/\\n\\n\\n/*.rounded input[type=radio] {\\n     position:relative;\\n    top:1px;\\n    left:1px;\\n    visibility: hidden;\\n}*/\\n\\n\\n/*.rounded input[type=radio]:checked+label {\\n    background: #CB1F13;\\n    top: 1px;\\n    left: 1px;\\n}*/\\n\\n\\n/*  */\\n\\n.balance-icon {\\n    display: inline-block;\\n    width: 20px;\\n    height: 20px;\\n    background: url(/public/v2/base/images/balance-icon.png) no-repeat;\\n    position: relative;\\n    top: 4px;\\n    left: 10px;\\n}\\n\\n.yn_balance {\\n    color: #666;\\n    font-size: 14px;\\n    height: 20px;\\n    line-height: 20px;\\n    border: 1px solid #E7E5E5;\\n    border-left: none;\\n    box-shadow: 5px 3px 10px #ececec;\\n    padding: 2px 10px;\\n}\\n\\n.balance-arrow {\\n    display: inline-block;\\n    width: 10px;\\n    height: 24px;\\n    background: url(/public/images/arrow.png) no-repeat;\\n    margin-left: 10px;\\n    position: relative;\\n    top: 6px;\\n    left: 5px;\\n}\\n\\n.pay-confirm-overlay .colorRed {\\n    color: #F6554A;\\n}\\n\\n.orderNum {\\n    font-size: 16px;\\n}\\n\\n.yn-balance-value {\\n    margin-right: 10px;\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/module/ui/pay-confirm.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/module/ui/stockList.css":
/*!************************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/module/ui/stockList.css ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#ynStcokListSpacial {\\r\\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\\r\\n    border: 2px solid #3274D8;\\r\\n    background: white;\\r\\n    display: none;\\r\\n    position: fixed;\\r\\n    overflow: hidden;\\r\\n    z-index: 50000\\r\\n}\\r\\n\\r\\n#ynStcokListSpacial .ynStockList td {\\r\\n    padding: 8px 15px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#ynStcokListSpacial .ynStockList:hover td,\\r\\n#ynStcokListSpacial .ynStockList:first-child td {\\r\\n    background: #3274D8;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n\\r\\n/* after */\\r\\n\\r\\n.ynStcokListSpacial {\\r\\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\\r\\n    border: 2px solid #3274D8;\\r\\n    background: white;\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    z-index: 50000;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.ynStcokListSpacial .ynStockList td {\\r\\n    padding: 8px 15px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.ynStcokListSpacial .ynStockList:hover td,\\r\\n.ynStcokListSpacial .ynStockList:first-child td {\\r\\n    background: #3274D8;\\r\\n    color: white;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/module/ui/stockList.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/v2/base/askWindow.css":
/*!**********************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/v2/base/askWindow.css ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes zoomIn {\\n    from {\\n        opacity: 0;\\n        transform: scale3d(.3, .3, .3);\\n    }\\n    50% {\\n        opacity: 1;\\n    }\\n}\\n\\n.clear:after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n    _zoom: 1;\\n    *zoom: 1;\\n}\\n\\n.zoomIn {\\n    animation-name: zoomIn;\\n}\\n\\n* {\\n    box-sizing: border-box;\\n    margin: 0;\\n}\\n\\n#askTeacher-wrap {\\n    width: 100%;\\n    height: 100%;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    background: rgba(0, 0, 0, .4);\\n    display: none;\\n}\\n\\n#askTeacherWindow {\\n    position: absolute;\\n    top: 30% !important;\\n    left: 50% !important;\\n    margin-left: -450px !important;\\n    border: 1px solid rgb(200, 200, 200);\\n    background: white;\\n    width: 900px;\\n    font-size: 13px;\\n    box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\\n    border-radius: 6px;\\n}\\n\\n#askTeacherWindow .onlyInvite {\\n    min-height: 150px;\\n    text-align: center;\\n}\\n\\n#askTeacherWindow .onlyInvite button {\\n    margin: 20px auto;\\n    display: inline-block;\\n    width: 100px;\\n}\\n\\n#askTeacherWindow>.close {\\n    width: 9px;\\n    height: 9px;\\n    background: url(/public/v2/base/images/close-icon.png);\\n    position: absolute;\\n    right: 10px;\\n    top: 10px;\\n    cursor: pointer;\\n}\\n\\n#askTeacherWindow .left {\\n    float: left;\\n    width: 65%;\\n    border-right: 1px solid rgb(200, 200, 200);\\n    padding: 20px;\\n}\\n\\n#askTeacherWindow .right {\\n    float: right;\\n    width: 35%;\\n}\\n\\n#askTeacherWindow .left .title {\\n    position: relative;\\n    overflow: hidden;\\n    border-left: 3px solid #d72621;\\n    padding-left: 10px;\\n    margin: 10px 0;\\n}\\n\\n#askTeacherWindow .left .title .name {\\n    font-weight: bold;\\n    font-size: 16px;\\n}\\n\\n#askTeacherWindow .left .title .times {\\n    position: absolute;\\n    right: 0px;\\n}\\n\\n#askTeacherWindow .left .title .times .value {\\n    color: #d72621;\\n    font-weight: bold;\\n    margin: 0 2px;\\n}\\n\\n#askTeacherWindow .left .invite {\\n    width: 100%;\\n    height: 38px;\\n    border: 1px solid rgb(230, 230, 230);\\n    position: relative;\\n}\\n\\n#askTeacherWindow .price {\\n    display: inline-block;\\n    float: right;\\n    height: 36px;\\n    line-height: 36px;\\n    margin-right: 7px;\\n}\\n\\n#askTeacherWindow .priceNum {\\n    color: #DD503F;\\n    font-weight: bold;\\n    margin: 0 5px;\\n}\\n\\n#askTeacherWindow .left .invite .list {\\n    position: absolute;\\n    background: white;\\n    width: 542px;\\n    left: 0;\\n    top: 37px;\\n    padding: 15px;\\n    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);\\n    border: 1px solid rgb(200, 200, 200);\\n    z-index: 2;\\n}\\n\\n#askTeacherWindow .left .invite .list .close {\\n    width: 9px;\\n    height: 9px;\\n    background: url(/public/v2/base/images/close-icon.png);\\n    float: right;\\n    cursor: pointer;\\n}\\n\\n#askTeacherWindow .left .invite .list .list-wrap {\\n    margin-top: 10px;\\n    overflow: auto;\\n    height: 200px;\\n    float: left;\\n}\\n\\n#askTeacherWindow .left .invite .select {\\n    height: 36px;\\n    line-height: 36px;\\n    font-size: 13px;\\n    float: left;\\n    padding: 0 5px;\\n    color: #62a5d9;\\n}\\n\\n#askTeacherWindow .left .invite .select .item {\\n    margin-right: 8px;\\n}\\n\\n#askTeacherWindow .left .invite .select .fa {\\n    margin-left: 5px;\\n    cursor: pointer;\\n}\\n\\n#askTeacherWindow .left .invite input {\\n    float: left;\\n    padding: 10px;\\n    border: none;\\n    padding-left: 0;\\n}\\n\\n#askTeacherWindow .left .values {\\n    margin: 10px 0;\\n}\\n\\n#askTeacherWindow .left textarea {\\n    width: 100%;\\n    padding: 10px;\\n}\\n\\n#askTeacherWindow .bottom {\\n    /*overflow: hidden;*/\\n    position: relative;\\n}\\n\\n#askTeacherWindow .bottom .msg {\\n    padding: 0 0 10px 0;\\n}\\n\\n#askTeacherWindow .bottom .msg .msg-code {\\n    margin: 0 5px;\\n    color: #d72621;\\n}\\n\\n#askTeacherWindow .bottom .msg .fa {\\n    margin-right: 5px;\\n}\\n\\n#askTeacherWindow .actions {\\n    display: inline-block;\\n    float: left;\\n    position: relative;\\n    width: 300px;\\n}\\n\\n#askTeacherWindow .action.search input {\\n    padding: 5px;\\n}\\n\\n#askTeacherWindow .action.search .icon {\\n    color: gray;\\n    position: relative;\\n    left: -25px;\\n}\\n\\n#askTeacherWindow .submit {\\n    display: inline-block;\\n    float: right;\\n}\\n\\n#askTeacherWindow .submit .wordCount {\\n    position: relative;\\n    top: 6px;\\n    right: 10px;\\n}\\n\\n#askTeacherWindow .right {\\n    padding: 25px;\\n}\\n\\n#askTeacherWindow .right .content {\\n    overflow: auto;\\n}\\n\\n#askTeacherWindow .right .title {\\n    color: #575757;\\n    font-size: 15px;\\n}\\n\\n#askTeacherWindow .right .items {\\n    overflow: auto;\\n    max-height: 278px;\\n}\\n\\n#askTeacherWindow .teacher-item {\\n    display: block;\\n    overflow: hidden;\\n    padding: 10px 0;\\n    border-bottom: 1px solid rgb(245, 245, 245);\\n    cursor: pointer;\\n    float: left;\\n    width: 245px;\\n}\\n\\n#askTeacherWindow .teacher-item:hover {\\n    background: rgb(245, 245, 245);\\n}\\n\\n#askTeacherWindow .teacher-item:first-child {\\n    border-top: none;\\n}\\n\\n#askTeacherWindow .teacher-item .avatar {\\n    width: 50px;\\n    height: 50px;\\n    overflow: hidden;\\n    float: left;\\n    border-radius: 2px;\\n}\\n\\n#askTeacherWindow .teacher-item .avatar img {\\n    height: 100%;\\n}\\n\\n#askTeacherWindow .teacher-item .info {\\n    float: left;\\n    margin-left: 10px;\\n}\\n\\n#askTeacherWindow .teacher-item .info .value {\\n    color: #ca2723;\\n    margin-right: 10px;\\n    margin-left: 5px;\\n}\\n\\n#askTeacherWindow .teacher-item .info .line1 {\\n    font-size: 16px;\\n    margin-bottom: 10px;\\n}\\n\\n#askTeacherWindow .teacher-item .info .line2 {\\n    font-size: 13px;\\n    color: gray;\\n}\\n\\n#askTeacherWindow input,\\n#askTeacherWindow textarea {\\n    outline: none;\\n    resize: none;\\n    border: 1px solid rgb(235, 235, 235);\\n}\\n\\n.submit button {\\n    color: white;\\n    font-family: \\\"Hiragino Sans GB\\\", \\\"Hiragino Sans GB W3\\\", \\\"Microsoft YaHei\\\", tahoma, arial;\\n    font-size: 12px;\\n    padding: 5px 15px;\\n    border-width: 1px;\\n    border-style: solid;\\n    border-image: initial;\\n    border-radius: 2px;\\n    background: rgb(215, 38, 33);\\n    border-color: rgb(215, 38, 33);\\n}\\n\\n\\n/*askSuccess*/\\n\\n#askSuccess {\\n    width: 100%;\\n    height: 100%;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    background: rgba(0, 0, 0, .4);\\n    z-index: 3;\\n    display: none;\\n    cursor: pointer;\\n}\\n\\n#askSuccess .askSuccess-wrap {\\n    width: 391px;\\n    background: #fff;\\n    border-radius: 4px;\\n    box-shadow: 0px 0px 4px rgba(102, 102, 102, 0.73);\\n    position: absolute;\\n    top: 40%;\\n    left: 50%;\\n    margin-left: -195px;\\n    text-align: center;\\n    padding: 28px 0;\\n    font-size: 16px;\\n    color: #666666;\\n}\\n\\n#askSuccess .askSuccess-img {\\n    width: 60px;\\n    height: 60px;\\n    background: url('/public/v2/base/images/askSuccess.png') no-repeat;\\n    margin: 0 auto 15px auto;\\n}\\n\\n#askSuccess .askSuccess-text {\\n    margin: 12px auto 0 auto;\\n}\\n\\n#askSuccess .askSuccess-text.first {\\n    margin-bottom: 18px;\\n}\\n\\n#askSuccess .askSuccess-red {\\n    color: #DD503F;\\n}\\n\\n\\n/*提问某个投顾*/\\n\\n#askAimed-wrap {\\n    width: 100%;\\n    height: 100%;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    background: rgba(0, 0, 0, .4);\\n    display: none;\\n    z-index:3;\\n}\\n\\n#askAimedTeacher {\\n    width: 534px;\\n    /*height: 257px;*/\\n    padding: 20px 25px;\\n    background: #fff;\\n    position: fixed;\\n    top: 30%;\\n    left: 50%;\\n    margin-left: -277px;\\n    border-radius: 6px;\\n    box-shadow: 2px 2px 20px rgba(0, 0, 0, .3);\\n}\\n\\n#askAimedTeacher .aim-close-win {\\n    width: 9px;\\n    height: 9px;\\n    background: url(/public/v2/base/images/close-icon.png);\\n    float: right;\\n    cursor: pointer;\\n    position: relative;\\n    top: -10px;\\n    right: -15px;\\n}\\n\\n#askAimedTeacher .aim-title {\\n    position: relative;\\n    overflow: hidden;\\n    border-left: 3px solid #d72621;\\n    padding-left: 10px;\\n    font-size: 16px;\\n}\\n\\n#askAimedTeacher .aim-times {\\n    float: right;\\n    font-size: 12px;\\n    color: #333;\\n    position: relative;\\n    top: 2px;\\n}\\n\\n#askAimedTeacher #textarea {\\n    width: 100%;\\n    height: 150px;\\n    padding: 13px;\\n    font-size: 13px;\\n    line-height: 19px;\\n}\\n\\n#askAimedTeacher .aim-content {\\n    margin: 14px auto 14px auto;\\n}\\n\\n#askAimedTeacher .aim-bottom {\\n    /* position: relative;\\n    top: -5px;*/\\n}\\n\\n#askAimedTeacher .aim-line {\\n    display: inline-block;\\n    float: right;\\n    font-size: 14px;\\n}\\n\\n#askAimedTeacher .aim-word,\\n#askAimedTeacher .aim-price {\\n    color: #999999;\\n    margin: 0 5px;\\n}\\n\\n#askAimedTeacher .aim-num,\\n.aim-value {\\n    color: #DD503F;\\n}\\n\\n#askAimedTeacher .aim-red {\\n    color: #DD503F;\\n    margin-left: 5px;\\n}\\n\\n#askAimedTeacher .aim-submit {\\n    display: inline-block;\\n    width: 57px;\\n    height: 31px;\\n    line-height: 31px;\\n    text-align: center;\\n    color: #fff;\\n    background: rgba(215, 38, 33, 1);\\n    border-radius: 2px;\\n    cursor: pointer;\\n}\\n\\n#askAimedTeacher #stockCode {\\n    display: inline-block;\\n    width: 122px;\\n    height: 29px;\\n    background: rgba(255, 255, 255, 1);\\n    font-size: 12px;\\n    padding-left: 5px;\\n}\\n\\n#askAimedTeacher .aim-msg {\\n    margin-bottom: 10px;\\n}\\n\\n#askAimedTeacher .msg-code {\\n    margin: 0 5px;\\n    color: #d72621;\\n}\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/v2/base/askWindow.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/v2/base/stockList.css":
/*!**********************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/v2/base/stockList.css ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#ynStcokListSpacial {\\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\\n    border: 2px solid #3274D8;\\n    background: white;\\n    display: none;\\n    position: fixed;\\n    overflow: hidden;\\n    z-index: 50000\\n}\\n#ynStcokListSpacial tr{\\n\\n}\\n#ynStcokListSpacial .ynStockList td {\\n    padding: 8px 15px;\\n    cursor: pointer;\\n}\\n\\n#ynStcokListSpacial .ynStockList:hover td,\\n#ynStcokListSpacial .ynStockList:first-child td {\\n    background: #3274D8;\\n    color: white;\\n}\\n\\n\\n/* after */\\n\\n.ynStcokListSpacial {\\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\\n    border: 2px solid #3274D8;\\n    background: white;\\n    display: none;\\n    position: absolute;\\n    z-index: 50000;\\n    top: 0;\\n    left: 0;\\n}\\n\\n.ynStcokListSpacial .ynStockList td {\\n    padding: 8px 15px;\\n    cursor: pointer;\\n    line-height:20px;\\n}\\n\\n.ynStcokListSpacial .ynStockList:hover td,\\n.ynStcokListSpacial .ynStockList:first-child td {\\n    background: #3274D8;\\n    color: white;\\n}\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/v2/base/stockList.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/v2/module/userAuth.css":
/*!***********************************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader!./public/v2/module/userAuth.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js */ \"./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#auth-verify {\\r\\n    width: 450px;\\r\\n    background: white;\\r\\n    border: 1px solid #ededed;\\r\\n    box-shadow: 8px 7px 13px rgba(201, 201, 201, 0.19);\\r\\n    border-radius: 4px;\\r\\n    margin: auto;\\r\\n    position: absolute;\\r\\n    -webkit-user-select: none;\\r\\n    user-select: none;\\r\\n}\\r\\n\\r\\n#auth-overlay {\\r\\n    background: white;\\r\\n    background: rgba(255, 255, 255, 0.21);\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    display: none;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n#auth-verify {\\r\\n    animation-name: myZoomIn;\\r\\n    animation-duration: 0.3s;\\r\\n}\\r\\n\\r\\n.shake {\\r\\n    animation-name: myShake;\\r\\n    animation-duration: 0.6s;\\r\\n}\\r\\n\\r\\n@keyframes myZoomIn {\\r\\n    from {\\r\\n        transform: scale3d(0.1, 0.1, 0.1);\\r\\n        opacity: 0;\\r\\n    }\\r\\n    to {\\r\\n        transform: scale3d(1, 1, 1);\\r\\n        opacity: 1;\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes myShake {\\r\\n    from,\\r\\n    to {\\r\\n        transform: translate3d(0, 0, 0);\\r\\n    }\\r\\n    10%,\\r\\n    30%,\\r\\n    50%,\\r\\n    70%,\\r\\n    90% {\\r\\n        transform: translate3d(-10px, 0, 0);\\r\\n    }\\r\\n    20%,\\r\\n    40%,\\r\\n    60%,\\r\\n    80% {\\r\\n        transform: translate3d(10px, 0, 0);\\r\\n    }\\r\\n}\\r\\n\\r\\n#auth-verify .title {\\r\\n    padding: 10px;\\r\\n    border-bottom: 1px solid #f5f5f5;\\r\\n    position: relative;\\r\\n    font-size: 15px;\\r\\n    text-indent: 10px;\\r\\n    font-weight: bold;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n#auth-verify .close:hover {\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame {\\r\\n    padding: 20px 20px 30px 20px;\\r\\n}\\r\\n\\r\\n#auth-verify .form-text {\\r\\n    font-size: 13px;\\r\\n    display: inline-block;\\r\\n    width: 60px;\\r\\n    text-align: right;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n#auth-verify .close {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n    cursor: pointer;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.card .line {\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame {\\r\\n    position: relative;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.card input {\\r\\n    height: 35px;\\r\\n    line-height: 35px;\\r\\n    text-indent: 10px;\\r\\n    width: 285px;\\r\\n    display: inline-block;\\r\\n    border-radius: 3px;\\r\\n    background: #f7f7f7;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.card .submitBar {\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n    margin-top: 40px;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.card .auth-error {\\r\\n    color: red;\\r\\n    position: absolute;\\r\\n    bottom: 52px;\\r\\n    text-align: center;\\r\\n    width: 100%;\\r\\n    font-size: 13px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.card .submit {\\r\\n    background: #c40f0f;\\r\\n    width: 320px;\\r\\n    margin: auto;\\r\\n    padding: 10px;\\r\\n    border-radius: 4px;\\r\\n    font-size: 15px;\\r\\n    color: white;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.card .form-item.done {\\r\\n    display: none;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#auth-verify .form-item.done .icon-done-big {\\r\\n    background-image: url(/public/sprite/src/done-big.png);\\r\\n    background-position: 0px 0px;\\r\\n    width: 84px;\\r\\n    height: 84px;\\r\\n    margin: auto;\\r\\n}\\r\\n\\r\\n#auth-verify .form-item.done .to-btn {\\r\\n    background: #4a4a4a;\\r\\n    width: 250px;\\r\\n    padding: 5px;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    margin: 15px auto;\\r\\n}\\r\\n\\r\\n#auth-verify .form-item.done p {\\r\\n    font-size: 15px;\\r\\n    color: #16d528;\\r\\n    margin: 10px auto;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-frame.appraisal {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#auth-verify .appraisal-btn {\\r\\n    background: #d31010;\\r\\n    width: 300px;\\r\\n    margin: auto;\\r\\n    padding: 10px;\\r\\n    border-radius: 3px;\\r\\n    margin-top: 15px;\\r\\n    color: white;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#auth-verify .auth-remind {\\r\\n    font-size: 12px;\\r\\n    color: #8B8B8B;\\r\\n    text-align: center;\\r\\n    margin-top: 2px;\\r\\n}\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./public/v2/module/userAuth.css?./node_modules/_css-loader@1.0.0@css-loader");

/***/ }),

/***/ "./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js":
/*!*******************************************************************!*\
  !*** ./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n//# sourceURL=webpack:///./node_modules/_css-loader@1.0.0@css-loader/lib/css-base.js?");

/***/ }),

/***/ "./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return addStylesClient; });\n/* harmony import */ var _listToStyles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./listToStyles */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/listToStyles.js\");\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\n\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nfunction addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = Object(_listToStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = Object(_listToStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n//# sourceURL=webpack:///./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js?");

/***/ }),

/***/ "./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/listToStyles.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/listToStyles.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return listToStyles; });\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nfunction listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n//# sourceURL=webpack:///./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/listToStyles.js?");

/***/ }),

/***/ "./public/live/live-askStock-list.css":
/*!********************************************!*\
  !*** ./public/live/live-askStock-list.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/_css-loader@1.0.0@css-loader!./live-askStock-list.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/live/live-askStock-list.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"772942ec\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/live/live-askStock-list.css?");

/***/ }),

/***/ "./public/live/live-askStock-list.js":
/*!*******************************************!*\
  !*** ./public/live/live-askStock-list.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar answerWindow = __webpack_require__(/*! m/askStock/answerWindow.js */ \"./public/module/askStock/answerWindow.js\");\n__webpack_require__(/*! ./live-askStock-list.css */ \"./public/live/live-askStock-list.css\");\n\nvar handleData = function handleData(data) {\n\treturn _.map(data, function (item) {\n\t\titem.questiontime = item.questiontime ? yn.timeFormat(item.questiontime) : '';\n\t\titem.answercontent = item.answercontent ? yn.filterHTML(item.answercontent) : '';\n\t\titem.zancount = item.zancount || '0';\n\t\titem.price = item.questionPrice ? item.questionPrice : 0;\n\t\titem.overdue = item.is_reply == 3 ? 'hide' : '';\n\t\titem.ignore = item.is_reply == 2 ? 'hide' : '';\n\t\tif (item.answercontent && item.answercontent.length > 50) {\n\t\t\titem._answercontent = item.answercontent.substr(0, 50) + '..';\n\t\t} else {\n\t\t\titem._answercontent = item.answercontent;\n\t\t}\n\t\tif (item.questioncontent && item.questioncontent.length > 50) {\n\t\t\titem._questioncontent = item.questioncontent.substr(0, 50) + '..';\n\t\t} else {\n\t\t\titem._questioncontent = item.questioncontent;\n\t\t}\n\t\treturn item;\n\t});\n};\n\nmodule.exports = function () {\n\tvar container,\n\t    total,\n\t    items,\n\t    type = 0,\n\t    page = 1,\n\t    row = 10;\n\tvar bootpag;\n\tvar typeText = {\n\t\t0: '待回答',\n\t\t1: '已回答',\n\t\t2: '已忽略',\n\t\t3: '已过期'\n\t};\n\tvar templateList = {\n\t\t0: 'list-item-template',\n\t\t1: 'list-chat-template',\n\t\t2: 'list-item-template',\n\t\t3: 'list-item-template'\n\t};\n\treturn {\n\t\tinit: function init() {\n\t\t\tvar _this = this;\n\t\t\tcontainer = $('#teacher-ask-win');\n\t\t\titems = container.find('.ask-items');\n\t\t\ttotal = container.find('.totalCount');\n\n\t\t\t//页码\n\t\t\tbootpag = yn.bootpag($('.teacher-ask-container'));\n\t\t\tbootpag.on('page', function (err, num) {\n\t\t\t\tpage = num;\n\t\t\t\t_this.render({ currentPage: num, noteType: type });\n\t\t\t});\n\n\t\t\t//点击内容以外的区域消失\n\t\t\tcontainer.click(function () {\n\t\t\t\tcontainer.hide();\n\t\t\t\ttype = 0;\n\t\t\t\tcontainer.find('.menu-item').removeClass('select');\n\t\t\t\tcontainer.find('.menu-item.wait').addClass('select');\n\t\t\t\tanswerWindow.hidden();\n\t\t\t});\n\t\t\tcontainer.on('click', '.teacher-ask-wrap', function () {\n\t\t\t\treturn false; //阻止冒泡\n\t\t\t});\n\t\t\t//切换\n\t\t\tcontainer.on('click', '.menu-item', function () {\n\t\t\t\tif ($(this).hasClass('select')) return;\n\t\t\t\t$(this).addClass('select').siblings().removeClass('select');\n\t\t\t\ttype = $(this).data('type');\n\t\t\t\t_this.render({ currentPage: 1, noteType: type });\n\t\t\t});\n\t\t\t//忽略\n\t\t\tcontainer.on('click', '.ignoreButton', function () {\n\t\t\t\tvar self = this;\n\t\t\t\tlayer.confirm('确定忽略该提问吗', function () {\n\t\t\t\t\tvar noteid = $(self).data('noteid');\n\t\t\t\t\t$.post('/consultation/updateNoteIsReply.htm', { noteid: noteid }, function (back) {\n\t\t\t\t\t\tback = JSON.parse(back);\n\t\t\t\t\t\tif (back.status == 1) {\n\t\t\t\t\t\t\tlayer.msg('已忽略');\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t_this.render({ currentPage: page, noteType: type });\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t//回答\n\t\t\tcontainer.on('click', '.askButton', function () {\n\t\t\t\tvar question = $(this).parents('.list-item').find('.questioncontent').text();\n\t\t\t\tvar noteid = $(this).data('noteid');\n\t\t\t\tvar code = $(this).data('code');\n\t\t\t\tvar name = $(this).data('name');\n\t\t\t\tvar num = $(this).data('number');\n\t\t\t\tanswerWindow.render(noteid, {\n\t\t\t\t\tstockName: name,\n\t\t\t\t\tstockCode: code,\n\t\t\t\t\tnumber: num,\n\t\t\t\t\tquestion: question,\n\t\t\t\t\tsuccess: function success() {\n\t\t\t\t\t\t_this.render({ currentPage: page, noteType: type });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\trender: function render(ops) {\n\t\t\tcontainer.show();\n\t\t\tops = _.extend({\n\t\t\t\tpageSize: 10,\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tnoteType: 0\n\t\t\t}, ops);\n\t\t\tgetTeacherNote(ops).done(function (data) {\n\t\t\t\titems.html(template(templateList[type], handleData(data.data.list)));\n\t\t\t\tbootpag.bootpag({ page: ops.currentPage, total: data.pageNubmer });\n\t\t\t\ttotal.html('共有' + data.data.total + '条提问' + typeText[type]);\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//根据type获取相关类型问答\nfunction getTeacherNote(ops) {\n\tops = _.extend({\n\t\tpageSize: 10,\n\t\tcurrentPage: 1,\n\t\tnoteType: 0\n\t}, ops);\n\tvar defer = $.Deferred();\n\t$.getJSON('/consultation/teacherNoteType.htm', ops, function (back) {\n\t\tif (back.status == 1) {\n\t\t\tback.pageNubmer = _.max([1, Math.ceil(+back.data.total / ops.pageSize)]);\n\t\t\tdefer.resolve(back);\n\t\t} else {\n\t\t\treturn layer.msg(error[back.status]);\n\t\t}\n\t});\n\treturn defer.promise();\n}\n\n$(function () {\n\tanswerWindow.init({\n\t\tisPop: false\n\t});\n});\n\n//# sourceURL=webpack:///./public/live/live-askStock-list.js?");

/***/ }),

/***/ "./public/live/liveDetail.js":
/*!***********************************!*\
  !*** ./public/live/liveDetail.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Face = __webpack_require__(/*! m/qqface/main.js */ \"./public/module/qqface/main.js\");\nvar askWindow = __webpack_require__(/*! base/askWindow.js */ \"./public/v2/base/askWindow.js\"); //提问\nvar liveAskStockList = __webpack_require__(/*! ./live-askStock-list.js */ \"./public/live/live-askStock-list.js\");\n// var local = require('m/lib/localData.js')\nvar error = __webpack_require__(/*! e/error-type */ \"./enum/error-type.js\");\nvar auth = __webpack_require__(/*! vmodule/userAuth */ \"./public/v2/module/userAuth.js\"); // 实名认证模块\nvar Path = __webpack_require__(/*! ~/lib/path.js */ \"./public/module/lib/path.js\");\n// var payAny = require('m/ui/pay-any.js')\n// var payConfirm = require('m/ui/pay-confirm-v1.2.js')\nvar Confirm = __webpack_require__(/*! m/ui/pay-any-package.js */ \"./public/module/ui/pay-any-package.js\");\nvar payShow = __webpack_require__(/*! m/ui/pay-animation.js */ \"./public/module/ui/pay-animation.js\");\nvar stockList = __webpack_require__(/*! ~/ui/stockList-1.2.js */ \"./public/module/ui/stockList-1.2.js\"); // 大盘指数\n/*///////////////////////////////////////////////////////////////////*/\n\nwindow.hub.on('show-ask-window', function (arg) {\n\taskWindow.aimedRender(arg);\n});\nwindow.hub.on('referOrder', function (ops) {\n\tif (!ynIsLogin) {\n\t\tyn.login.render();\n\t\treturn;\n\t}\n\tauth.get().render(function (result) {\n\t\tif (result) {\n\t\t\tconsole.log('ops', ops);\n\t\t\t$.post('/app/buyGoodsPayOrder.htm', {\n\t\t\t\tgoodsId: ops.id, //商品id\n\t\t\t\tgoodsType: 3,\n\t\t\t\tbuy_number: 1,\n\t\t\t\tpay_source: 0,\n\t\t\t\temployeecode: ''\n\t\t\t}, function (data) {\n\t\t\t\tif (data.status == 60011) {\n\t\t\t\t\tlayer.msg('用户没有开通账户!请联系客服!');\n\t\t\t\t}\n\t\t\t\tif (data.status == 90002) {\n\t\t\t\t\trealName.init({\n\t\t\t\t\t\tshow: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (data.status == 60023) {\n\t\t\t\t\treturn layer.msg('商品购买时间已过');\n\t\t\t\t}\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\tConfirm.payconfirm({\n\t\t\t\t\t\ttype: 3,\n\t\t\t\t\t\tprice: ops.price,\n\t\t\t\t\t\treferenceid: ops.id,\n\t\t\t\t\t\tuserid: ynUserId,\n\t\t\t\t\t\torderid: data.data.orderid,\n\t\t\t\t\t\tlink: Path.pay(data.data.orderNum),\n\t\t\t\t\t\torderNum: data.data.orderNum,\n\t\t\t\t\t\tfinish: true,\n\t\t\t\t\t\tread: false,\n\t\t\t\t\t\tuseNB: false,\n\t\t\t\t\t\tsuccess: function success() {\n\t\t\t\t\t\t\treturn hub.emit('click-refer');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, 'json');\n\t\t}\n\t});\n});\n\n//互动插入股票\n(function () {\n\tvar textarea = $('#insertStock').parents('.content').find('textarea');\n\tconsole.log('=etextareav=', textarea);\n\tstockList.get().render({\n\t\tid: 'insertStock',\n\t\ttop: 0,\n\t\tonSelect: function onSelect(item, trigger) {\n\t\t\ttrigger.val('');\n\t\t\ttextarea.val(textarea.val() + item.stockWrap).trigger('keyup');\n\t\t\t// ajax.add({ stockcode: item.stockCode, stockname: item.stockName }).done(code => render())\n\t\t}\n\t});\n})();\n\nvar audio,\n    msn,\n    __dataCache = {};\nvar __href = window.location.href;\nvar cateMatch = __href.match(/live/);\nvar __cate = cateMatch ? cateMatch[0] : '';\n// //历史期刊ID\nvar historyId = function () {\n\tvar match = window.location.href.match(/periodical=([0-9]+)/);\n\treturn match ? match[1] : periodicalid;\n}();\n\nvar route = {\n\tliveCommon: function liveCommon() {\n\t\tliveHistory.init(room_userid);\n\t\tsubject.init(); //主题\n\t\tliving.init(periodicalid); //直播\n\t\tchat.init(periodicalid); //浅聊\n\t\t// talk.init(); //聊天\n\n\t\tliving.render();\n\t\t// chat.render();\n\t\tliveDetailSocket();\n\t\ttopDetail.init();\n\t\ttopDetail.render();\n\t},\n\tself: function self() {\n\t\tthis.liveCommon();\n\t\tmodifyWin.init();\n\t\tpubLive.init();\n\t\tsubject.showEidt();\n\t\tpubLive.render();\n\t\tcloseLiveRoom.init();\n\t\tliveAskStockList.init();\n\t},\n\tuser: function user() {\n\t\tthis.liveCommon();\n\t\t// gift.init();\n\t\t// gift.render();\n\t},\n\thistoryList: function historyList() {\n\t\tliveHistory.init(room_userid);\n\t\tliveHistory.render();\n\t},\n\thistoryDetail: function historyDetail() {\n\t\tliveHistory.init(room_userid);\n\t\tsubject.init(); //主题\n\t\tliveAskStockList.init();\n\t\t// if()\n\t\t// chat.init(historyId); //浅聊\n\t\tliving.init(historyId); //直播\n\t\t$('#liveContent-title-1').text('第' + historyId + '期直播内容');\n\t\tliving.history_render();\n\t\t// chat.render();\n\t},\n\toffline: function offline() {\n\t\tthis.liveCommon();\n\t}\n};\nvar isOffline = teacher_isOffline == '-1';\nvar isHistory = historyId && historyId != periodicalid || isOffline;\n$(function () {\n\t//HTML5音频\n\ttry {\n\t\taudio = new Audio('/public/media/live_msg.mp3');\n\t\tmsn = new Audio('/public/media/msn_msg.mp3');\n\t} catch (e) {\n\t\t$('.yn-icon-sound').hide();\n\t}\n\n\tvar entries = [{ entry: 'offline', assert: hasHistoryLive }, //没有在线\n\t// { entry: 'historyDetail', assert: isOffline && !isTeacherSelf }, //没有在线\n\t{ entry: 'historyDetail', assert: isHistory }, //历史详情\n\t// { entry: 'historyList', assert: isOffline }, //历史直播\n\t{ entry: 'self', assert: isTeacherSelf }, //老师进入正在直播\n\t{ entry: 'user', assert: true //正在直播\n\t}];\n\tvar entry = _.find(entries, function (item) {\n\t\treturn item.assert;\n\t});\n\troute[entry.entry]();\n\n\tif (__cate == 'live') {\n\t\tvar item = $($('.liveDetail-menu .item')[1]);\n\t\titem.addClass('select');\n\t}\n\n\tif (isTeacherSelf) {\n\t\taddTop.init();\n\t\taddTop.render();\n\t}\n\n\taskWindow.init();\n\tsideTool.init();\n\n\t//上下期\n\tturnPeriodical.init();\n});\n\n// /*///////////////////////////////////////////////////////////////////*/\n\n//主题\nvar subject = function () {\n\tvar container, history, boxWrap, box, edit, title;\n\treturn {\n\t\tinit: function init() {\n\t\t\tcontainer = $('.living-subject');\n\t\t\thistory = container.find('.history');\n\t\t\tedit = $('.edit-subject');\n\t\t\ttitle = $('.living-subject-value');\n\n\t\t\t//进入历史直播\n\t\t\thistory.on('click', function () {\n\t\t\t\t$('#liveDetail').hide();\n\t\t\t\tliveHistory.render();\n\t\t\t});\n\n\t\t\t//显示修改窗口\n\t\t\tedit.click(function () {\n\t\t\t\tmodifyWin.render(title.text());\n\t\t\t\tmodifyWin.onDone = function (val) {\n\t\t\t\t\ttitle.text(val);\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\trender: function render(ops) {\n\t\t\ttitle.text(ops.title);\n\t\t},\n\t\tshowEidt: function showEidt() {\n\t\t\tedit.css('display', 'inline-block');\n\t\t}\n\t};\n}();\n\n// /**\n//  * 修改主题窗口\n//  * render()\n//  * delegate.done(val)\n//  */\nvar modifyWin = function () {\n\tvar id, container, wrap, input, submit, wordCount;\n\treturn {\n\t\tinit: function init() {\n\t\t\tid = periodicalid;\n\t\t\tvar self = this;\n\t\t\twrap = $('#modify-subject-container');\n\t\t\tcontainer = $('#modify-subject');\n\t\t\tinput = container.find('textarea');\n\t\t\tsubmit = container.find('.submit');\n\t\t\twordCount = container.find('.wordCountValue');\n\n\t\t\t//关闭窗口\n\t\t\tcontainer.on('click', '.close', function () {\n\t\t\t\treturn wrap.hide() && input.val('');\n\t\t\t});\n\t\t\tyn.wordCount(input, { indicate: wordCount, limit: 20 });\n\n\t\t\t//提交\n\t\t\tsubmit.click(_.debounce(function () {\n\t\t\t\tif (!input.val()) return layer.msg('主题不能为空');\n\t\t\t\tsubmit();\n\t\t\t}, 2000, { leading: true, trailing: false }));\n\n\t\t\tvar submit = function submit() {\n\t\t\t\tvar val = input.val();\n\n\t\t\t\t//修改直播主题\n\t\t\t\t$.post('/center/editPeriodical.htm', {\n\t\t\t\t\tperiodicalid: id,\n\t\t\t\t\ttodaysubject: val\n\t\t\t\t}, function (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t\tlayer.msg('修改成功');\n\t\t\t\t\t\twrap.hide();\n\t\t\t\t\t\tself.onDone(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t},\n\t\trender: function render(data) {\n\t\t\tif (ynTeacherId != room_teacherid) return;\n\t\t\twrap.show();\n\t\t\tyn.centerBox(container);\n\t\t\tdata && input.val(data).trigger('keyup');\n\t\t},\n\t\tonDone: function onDone() {}\n\t};\n}();\n\n//获取昨天\nfunction getYesterday() {\n\tvar day1 = new Date();\n\tday1.setTime(day1.getTime() - 24 * 60 * 60 * 1000);\n\tvar s1 = day1.getFullYear() + '-' + (day1.getMonth() + 1) + '-' + day1.getDate();\n\treturn s1;\n}\n\n//获取前天天\nfunction beforeYesterday() {\n\tvar day1 = new Date();\n\tday1.setTime(day1.getTime() - 24 * 60 * 60 * 1000 * 2);\n\tvar s1 = day1.getFullYear() + '-' + (day1.getMonth() + 1) + '-' + day1.getDate();\n\treturn s1;\n}\n//日期获取毫秒数\nfunction getSeconds(date) {\n\tvar time = new Date(date.replace(/-/g, '/'));\n\tvar seconds = time.getTime();\n\treturn seconds;\n}\n//时间转换\nfunction timeFormat(time) {\n\t//时间转换\n\tvar strtime = time;\n\tvar result;\n\tvar newDate = new Date();\n\tvar date = getSeconds(strtime);\n\tvar sub = Date.now() - date;\n\tvar yesterday = 1000 * 60 * 60 * 48;\n\tvar yesterdayStart = getSeconds(getYesterday() + ' ' + '00:00:00'); //昨天开始时间\n\tvar yesterdayEnd = getSeconds(getYesterday() + ' ' + '23:59:59'); //昨天结束时间\n\tvar beforeyesterdayStart = getSeconds(beforeYesterday() + ' ' + '00:00:00'); //前天开始时间\n\tvar beforeyesterdayEnd = getSeconds(beforeYesterday() + ' ' + '23:59:59'); //前天结束时间\n\tvar thisYear = getSeconds(newDate.getFullYear() + '-01-01' + ' ' + '00:00:00'); //今年开始时间\n\tif (date > yesterdayEnd) {\n\t\tresult = '今天' + strtime.substr(10, 6);\n\t} else if (date >= yesterdayStart && date <= yesterdayEnd) {\n\t\tresult = '昨天' + strtime.substr(10, 6);\n\t} else if (date >= beforeyesterdayStart && date <= beforeyesterdayEnd) {\n\t\tresult = '前天' + strtime.substr(10, 6);\n\t} else {\n\t\tresult = strtime.substr(0, 16);\n\t}\n\treturn result;\n}\n\n// 关注\nvar addCare = function addCare(teacherid, isCare) {\n\tvar defer = $.Deferred();\n\t$.post('/center/attention.htm', { teacherid: teacherid }, function (data) {\n\t\tdata = JSON.parse(data);\n\t\tif (data.status == '1') {\n\t\t\tvar html = isCare == '关注' ? '关注成功' : '取消成功';\n\t\t\tlayer.msg(html);\n\t\t\tdefer.resolve();\n\t\t} else {\n\t\t\tlayer.msg(error[data.status]);\n\t\t}\n\t});\n\treturn defer.promise();\n};\n\n//正在直播\nvar living = function () {\n\tvar id,\n\t    //期刊id\n\ttalkId = '',\n\t    //发言ID\n\tcontainer,\n\t    wrap,\n\t    items,\n\t    today,\n\t    history,\n\t    page = 1,\n\t    row = 20,\n\t    nothing = false,\n\t    bootpag,\n\t    liveContent;\n\n\tvar cur = null; // 当前显示的是正在直播还是历史直播\n\n\tvar getData = function getData(callback) {\n\t\t$.getJSON('/html/queryLiveInfo.htm', {\n\t\t\tid: talkId,\n\t\t\tperiodicalid: id,\n\t\t\tpageSize: row\n\t\t}, function (data) {\n\t\t\tcallback(data);\n\t\t});\n\t};\n\n\t/*  创建标签 */\n\n\tvar createItems = function createItems(arr) {\n\t\treturn _.map(arr, function (item) {\n\t\t\tvar normalMessage = '<div class=\"live-item-2 clear ' + item.messageType + '\" data-id=\"' + item.id + '\" data-link=\"' + item.link + '\">\\n                        <div class=\"time\"><span class=\"time-detail\">' + item._time + '</span></div>\\n                        <div class=\"photo avatar\"><img src=\"' + item.photo + '\" alt=\"\" /></div>\\n                        <div class=\"msg\">\\n                            <span class=\"name\">' + item.teacherName + '<i class=\"zhubo-icon ' + item._icon + '\"></i></span>\\n                        </div>\\n                        <div class=\"content\">\\n                            <span class=\"content-jiao\"></span>\\n                            <div class=\"live-detail\">' + item.content + ' ' + item.btn + '</div>\\n                            ' + item.deleteItem + '\\n                        </div>\\n                    </div>';\n\t\t\tvar card = '<div class=\"live-item-2 clear\" data-id=\"' + item.id + '\" data-link=\"' + item.link + '\">\\n                <div class=\"time\"><span class=\"time-detail\">' + item._time + '</span></div>\\n                <div class=\"photo avatar\"><img src=\"' + item.photo + '\" alt=\"\" /></div>\\n                <div class=\"msg\">\\n                    <span class=\"name\">' + item.teacherName + '<i class=\"zhubo-icon ' + item._icon + '\"></i></span>\\n                </div>\\n                <div class=\"content\">\\n                    <span class=\"content-jiao\"></span>\\n                    <div class=\"message-card ' + item.cardName + ' ' + item.style + '\">\\n                        <p>' + item.answer + '</p>\\n                        <div class=\"card\">\\n                            <div class=\"card-title\">' + item._title + '</div>\\n                            <div class=\"card-content\">' + item._quotecontent + '</div>\\n                        </div>\\n                    </div>\\n                    ' + item.deleteItem + '\\n                </div>\\n            </div>';\n\t\t\tvar tag = item.quotecontent ? card : normalMessage;\n\t\t\treturn '' + tag;\n\t\t}).join('');\n\t};\n\n\tvar handleLiveData = function handleLiveData(arr) {\n\t\treturn _.map(arr, function (item) {\n\t\t\t//系统消息\n\t\t\titem.messageType = item.teacherName == '系统消息' ? 'system' : '';\n\t\t\titem._icon = item.teacherName == '系统消息' ? 'hide' : '';\n\t\t\t// item.content = yn.codeFormat(item.content);\n\t\t\titem.photo = item.photo || item.teacherPhoto || item.teacherPhoto_path;\n\t\t\titem.deleteItem = room_teacherid == ynTeacherId && !isHistory ? '<div class=\"deleteIcon hide delete\" data-id=\"' + item.id + '\"></div>' : '';\n\t\t\titem._link = item.link ? 'href = ' + item.link : '';\n\t\t\titem._time = timeFormat(item.pubtime);\n\t\t\t// 打赏消息\n\t\t\titem.isPay = item.puiblisherid === '0';\n\t\t\titem.answer = '';\n\n\t\t\tif (item.quotecontent && item.quotecontent.length > 80) {\n\t\t\t\titem._quotecontent = item.quotecontent.substr(0, 80) + '…';\n\t\t\t} else if (item.quotecontent && item.quotecontent.length < 30) {\n\t\t\t\titem._quotecontent = item.quotecontent;\n\t\t\t\titem.style = 'line';\n\t\t\t} else {\n\t\t\t\titem._quotecontent = item.quotecontent;\n\t\t\t\titem.style = '';\n\t\t\t}\n\n\t\t\tif (item.contentFilter && item.contentFilter.length > 60) {\n\t\t\t\titem._contentFilter = item.contentFilter.substr(0, 60) + '…';\n\t\t\t} else {\n\t\t\t\titem._contentFilter = item.contentFilter;\n\t\t\t}\n\n\t\t\t//link\n\t\t\tif (item.link && item.link.indexOf('referenceid') != '-1') {\n\t\t\t\titem.cardName = 'refer';\n\t\t\t\titem._title = item._contentFilter;\n\t\t\t\titem.btn = '<span class=\"live-link refer\">\\u7ACB\\u5373\\u67E5\\u770B</span>\\u3002';\n\t\t\t} else if (item.link && item.link.indexOf('askStockDetail') != '-1') {\n\t\t\t\titem.cardName = 'ask';\n\t\t\t\titem._title = '';\n\t\t\t\titem.answer = item._contentFilter;\n\t\t\t} else if (item.link && item.link.indexOf('learning') != '-1') {\n\t\t\t\titem.cardName = 'tactics';\n\t\t\t\tif (item.contentFilter && item.contentFilter.length > 22) {\n\t\t\t\t\titem._title = item.contentFilter.substr(0, 22) + '…';\n\t\t\t\t} else {\n\t\t\t\t\titem._title = item.contentFilter;\n\t\t\t\t}\n\t\t\t} else if (item.link && item.link.indexOf('article_id') != '-1') {\n\t\t\t\titem.cardName = 'opinion';\n\t\t\t\titem._title = item._contentFilter;\n\t\t\t} else {\n\t\t\t\titem.cardName = '';\n\t\t\t\titem.btn = '';\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t};\n\n\tfunction event() {\n\t\t//点击观点卡片\n\t\tcontainer.on('click', '.message-card.opinion', function () {\n\t\t\tvar link = $(this).parents('.live-item-2').data('link');\n\t\t\tvar match = link.match(/=([0-9]+)/);\n\t\t\tvar id = match ? match[1] : '';\n\t\t\thub.emit('click-opinion', { id: id, type: 'opinion' });\n\t\t});\n\t\t//点击战法卡片\n\t\tcontainer.on('click', '.message-card.tactics', function () {\n\t\t\tvar link = $(this).parents('.live-item-2').data('link');\n\t\t\tvar match = link.match(/(learning\\/)([0-9]+)/);\n\t\t\tvar id = match ? match[2] : '';\n\t\t\tconsole.log('id', match);\n\t\t\thub.emit('click-opinion', { id: id, type: 'learning' });\n\t\t});\n\n\t\t//点击内参卡片\n\t\tcontainer.on('click', '.message-card.refer', function () {\n\t\t\tvar link = $(this).parents('.live-item-2').data('link');\n\t\t\tvar match = link.match(/=([0-9]+)/);\n\t\t\tvar id = match ? match[1] : '';\n\t\t\thub.emit('click-refer', id);\n\t\t});\n\n\t\t//点击内参消息\n\t\tcontainer.on('click', '.live-link.refer', function () {\n\t\t\tvar link = $(this).parents('.live-item-2').data('link');\n\t\t\tvar match = link.match(/=([0-9]+)/);\n\t\t\tvar id = match ? match[1] : '';\n\t\t\thub.emit('click-refer', id);\n\t\t});\n\n\t\t//点击问股卡片\n\t\tcontainer.on('click', '.message-card.ask', function () {\n\t\t\tvar link = $(this).parents('.live-item-2').data('link');\n\t\t\tvar match = link.match(/=([0-9]+)/);\n\t\t\tvar id = match ? match[1] : '';\n\t\t\thub.emit('click-ask', id);\n\t\t});\n\n\t\t/*滚动到顶部加载更多*/\n\t\tvar isTop = false;\n\t\t$('#live .items').scroll(function () {\n\t\t\tvar h = $('#live .items').scrollTop();\n\t\t\tif (h == 0 && !isTop) {\n\t\t\t\tisTop = true;\n\t\t\t\tvar scroll = items[0].scrollHeight;\n\t\t\t\ttalkId = cur.find('.live-item-2').eq(0).data('id');\n\t\t\t\tvar el = $(this);\n\t\t\t\tgetData(function (data) {\n\t\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t\tisTop = false;\n\t\t\t\t\t\tif (data.data.list.length < row) {\n\t\t\t\t\t\t\tlayer.msg('已加载全部');\n\t\t\t\t\t\t\tisTop = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcur.prepend(createItems(handleLiveData(data.data.list)));\n\t\t\t\t\t\titems.scrollTop(items[0].scrollHeight - scroll);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t/* 声音提示 */\n\n\t\tcontainer.on('click', '.yn-icon-sound', function () {\n\t\t\t$(this).toggleClass('stop');\n\t\t\tliving.enableAudio = !living.enableAudio;\n\t\t});\n\n\t\t/* 删除直播 */\n\n\t\tcontainer.on('click', '.delete', function () {\n\t\t\tif (+room_teacherid != ynTeacherId) return;\n\t\t\tvar el = $(this);\n\t\t\tvar item = $(this).parents('.live-item-2');\n\t\t\tlayer.confirm('确定要删除吗?', function (index) {\n\t\t\t\tvar id = el.data('id');\n\t\t\t\t$.post('/html/broadcasting/delBroadcasting.htm', { id: id }, function (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t\tlayer.msg('已删除');\n\t\t\t\t\t\treturn item.remove() && layer.close(index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\treturn {\n\t\tenableAudio: true,\n\t\tinit: function init(_id) {\n\t\t\tid = _id;\n\t\t\tcontainer = $('#live');\n\t\t\twrap = $('#liveDetail');\n\t\t\titems = container.find('.items');\n\t\t\tliveContent = container.find('.today-item');\n\t\t\ttoday = items.find('.today');\n\t\t\thistory = items.find('.history');\n\t\t\tliving.setting.init();\n\t\t\ttooltip.init();\n\t\t\tevent();\n\n\t\t\t//点击图片放大\n\n\t\t\titems.on('click', 'img', function () {\n\t\t\t\tif ($(this).parent().hasClass('avatar')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ($(this).parents('.live-item-2').hasClass('system')) {\n\t\t\t\t\tvar id = $(this).data('giftid');\n\t\t\t\t\tif (!id) return;\n\t\t\t\t\tshowPayAnimation(id);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar src = $(this).attr('src');\n\t\t\t\t$('.img-wrap').fadeIn(100).find('#img-wrap-img').attr('src', src);\n\t\t\t});\n\t\t\t$('.img-wrap').click(function () {\n\t\t\t\t$(this).fadeOut(100);\n\t\t\t});\n\t\t},\n\t\thistory_render: function history_render() {\n\t\t\tcur = history;\n\t\t\thistory.show();\n\t\t\twrap.show();\n\t\t\ttoday.hide();\n\n\t\t\tgetData(function (data) {\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\tif (data.data.list.length < 1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thistory.append(createItems(handleLiveData(data.data.list)));\n\t\t\t\t\titems.scrollTop(items[0].scrollHeight);\n\t\t\t\t} else {\n\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\trender: function render() {\n\t\t\tcur = today;\n\t\t\thistory.hide();\n\t\t\twrap.show();\n\t\t\ttoday.show();\n\n\t\t\tgetData(function (data) {\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\tif (data.data.list.length < 1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tliveContent.html(createItems(handleLiveData(data.data.list)));\n\t\t\t\t\titems.scrollTop(items[0].scrollHeight);\n\t\t\t\t} else {\n\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// /* 是否显示删除图标 */\n\t\t\t// container.find('.deleteIcon').each(function() {\n\t\t\t//     log(+room_teacherid == +ynTeacherId)\n\t\t\t//     if (+room_teacherid == +ynTeacherId) {\n\t\t\t//         $(this).removeClass('hide')\n\t\t\t//     }\n\t\t\t// })\n\t\t\titems.scrollTop(items[0].scrollHeight);\n\t\t},\n\n\t\t// 收到推送的消息\n\t\tonSocket: function onSocket(data) {\n\t\t\tif (nothing) {\n\t\t\t\titems.find('.nothing').remove();\n\t\t\t\tlive.nothing = false;\n\t\t\t}\n\t\t\tdata.pubtimeString = data.showTimeStr;\n\t\t\tdata.teacherName = data.nickName;\n\t\t\tdata.id = data.dataId;\n\t\t\tdata.contentFilter = data.content;\n\t\t\tconsole.log('=data11=', [data]);\n\t\t\titems.append(createItems(handleLiveData([data])));\n\t\t\ttooltip.render();\n\t\t\tif (living.enableAudio) {\n\t\t\t\taudio.play();\n\t\t\t}\n\t\t\t// items.scrollTop(items[0].scrollHeight);\n\t\t},\n\n\t\t// socket不可用时,通过定时器获数据\n\t\tonTimer: function onTimer() {\n\t\t\tgetData(function (data) {\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\tlog(data);\n\t\t\t\t\titems.html(createItems(data.data.list));\n\t\t\t\t} else {\n\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//side tool 关注 问股 礼物\nvar sideTool = function () {\n\tvar side;\n\treturn {\n\t\tinit: function init() {\n\t\t\tside = $('.side-tool');\n\t\t\tif (ynIsTeacher) {\n\t\t\t\tside.html('<div class=\"askStock-message\"><i class=\"live-circle hide\"><i class=\"live-circle-inset\"></i></i>\\u95EE\\u80A1\\u6D88\\u606F</div>');\n\t\t\t\t//老师查看问股\n\t\t\t\tside.on('click', '.askStock-message', function () {\n\t\t\t\t\tliveAskStockList.render();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar giftBtn = isHistory ? '' : '<div class=\"message user-gift\">\\u793C\\u7269</div>';\n\t\t\t\tside.append('<div class=\"message user-ask\">\\u95EE\\u80A1</div>' + giftBtn);\n\t\t\t\t//关注\n\t\t\t\tside.on('click', '.care', function () {\n\t\t\t\t\tvar _this = this;\n\t\t\t\t\tif ($(_this).hasClass('true')) return;\n\t\t\t\t\tif (!ynIsLogin) {\n\t\t\t\t\t\tyn.login.render();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (+ynTeacherId == +room_teacherid) return layer.msg('不能关注自己啊');\n\t\t\t\t\taddCare(room_teacherid, '关注').done(function (data) {\n\t\t\t\t\t\t$(_this).text('已关注').addClass('true');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t//用户问股\n\t\t\t\tside.on('click', '.user-ask', function () {\n\t\t\t\t\tif (!ynIsLogin) {\n\t\t\t\t\t\tyn.login.render();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (+ynTeacherId == +room_teacherid) return layer.msg('扪心自问');\n\t\t\t\t\taskWindow.aimedRender({\n\t\t\t\t\t\tselect: { id: room_teacherid, name: room_nickName }\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t//用戶点击礼物\n\t\t\t\tside.on('click', '.user-gift', function () {\n\t\t\t\t\tif (!ynIsLogin) {\n\t\t\t\t\t\tyn.login.render();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thub.emit('click-gift');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}();\n\n//提示\"您有新消息\"\nvar tooltip = function () {\n\tvar tip,\n\t    visible = false,\n\t    items,\n\t    back;\n\n\tvar show = function show() {\n\t\tif (visible) return;\n\t\ttip.css('display', 'inline-block');\n\t\tvisible = true;\n\t};\n\n\tvar hidden = function hidden() {\n\t\ttip.css('display', 'none');\n\t\tvisible = false;\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\titems = $('#live .items');\n\t\t\ttip = $('.tooltip-live');\n\t\t\tback = $('.backToNow');\n\t\t\ttip.click(function () {\n\t\t\t\thidden();\n\t\t\t\titems.scrollTop(3000000);\n\t\t\t});\n\t\t\tback.click(function () {\n\t\t\t\tback.fadeOut();\n\t\t\t\titems.scrollTop(3000000);\n\t\t\t});\n\n\t\t\t// 如果滚动条滚动到底部, 隐藏提示信息\n\t\t\titems.on('scroll', _.debounce(function () {\n\t\t\t\tvar top = $('.live-item-2:last').position().top;\n\t\t\t\tif (top < 510) {\n\t\t\t\t\t//滚动到底部\n\t\t\t\t\thidden();\n\t\t\t\t\tback.fadeOut();\n\t\t\t\t}\n\t\t\t}, 500));\n\n\t\t\t//如果滚动条离开底部，显示回到当前直播位置\n\t\t\titems.on('scroll', _.debounce(function () {\n\t\t\t\tvar top = $('.live-item-2:last').position().top;\n\t\t\t\tif (top > 510) {\n\t\t\t\t\t//滚动到底部\n\t\t\t\t\tback.fadeIn();\n\t\t\t\t}\n\t\t\t}, 500));\n\t\t},\n\t\trender: function render() {\n\t\t\tif (ynIsTeacher) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar top = $('.live-item-2:last').position().top;\n\t\t\tconsole.log('==toptop', top);\n\t\t\tif (top < 510) {\n\t\t\t\tshow();\n\t\t\t}\n\t\t}\n\t};\n}();\n\n//设置功能\nliving.setting = function () {\n\tvar live, container, fontItem;\n\n\tvar event = function event() {\n\t\tfontItem.click(function () {\n\t\t\t$(this).parent().find('.select').removeClass('select');\n\t\t\t$(this).addClass('select');\n\t\t\tvar size = $(this).data('size');\n\t\t\tlive.find('.items').attr('id', 'items-' + size);\n\t\t});\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\tlive = $('#live');\n\t\t\tcontainer = live.find('.setting');\n\t\t\tfontItem = container.find('.font-size-item');\n\t\t\tevent();\n\t\t}\n\t};\n}();\n\n//发布直播\nvar pubLive = function () {\n\tvar container, ue, stock, btn, id;\n\tvar event = function event() {\n\t\tbtn.on('click', _.debounce(function () {\n\t\t\tsubmit();\n\t\t}, 2000, { leading: true, trailing: false }));\n\t};\n\n\tvar submit = function submit() {\n\t\tvar content = ue.getContent();\n\t\tif (!content) {\n\t\t\tlayer.msg('发布内容不能为空');\n\t\t\treturn;\n\t\t}\n\t\tpublishLiveContent(id, content).done(function () {\n\t\t\tue.setContent('');\n\t\t});\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\tid = periodicalid;\n\t\t\tcontainer = $('#pubEditer');\n\t\t\tstock = $('.insertStockCode');\n\t\t\tbtn = container.find('.submit');\n\t\t\tue = UE.getEditor('ueditContainer', {\n\t\t\t\ttoolbars: [['bold', //加粗\n\t\t\t\t'indent', //首行缩进\n\t\t\t\t'snapscreen', //截图\n\t\t\t\t'underline', //下划线\n\t\t\t\t'pasteplain', //纯文本粘贴模式\n\t\t\t\t'horizontal', //分隔线\n\t\t\t\t'removeformat', //清除格式\n\t\t\t\t'fontsize', //字号\n\t\t\t\t'forecolor', //文字颜色\n\t\t\t\t'simpleupload', //单图上传\n\t\t\t\t'insertimage', //多图上传\n\t\t\t\t'justifyleft', //居左对齐\n\t\t\t\t'justifycenter', //居中对齐\n\t\t\t\t'justifyjustify', //两端对齐\n\t\t\t\t'fullscreen', //全屏\n\t\t\t\t'link', //超链接\n\t\t\t\t'unlink', //取消链接\n\t\t\t\t'lineheight' //行间距\n\t\t\t\t]],\n\t\t\t\tenableAutoSave: false,\n\t\t\t\tsaveInterval: 36000000,\n\t\t\t\tinitialFrameHeight: 113,\n\t\t\t\telementPathEnabled: false,\n\t\t\t\twordCount: false,\n\t\t\t\tenableContextMenu: false,\n\t\t\t\tpasteplain: true,\n\t\t\t\tautotypeset: {\n\t\t\t\t\tremoveClass: true,\n\t\t\t\t\tclearFontSize: true,\n\t\t\t\t\tremoveEmptyline: true, //去掉空行\n\t\t\t\t\tremoveEmptyNode: false, // 去掉空节点\n\t\t\t\t\tautotypeset: true,\n\t\t\t\t\tindentValue: '2em'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// 搜索股票\n\t\t\tstockList.get().render({\n\t\t\t\tid: 'insertStockCode',\n\t\t\t\ttop: 70,\n\t\t\t\tonSelect: function onSelect(item, trigger) {\n\t\t\t\t\tue.execCommand('inserthtml', item.stockWrap);\n\t\t\t\t\tstock.val('');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tevent();\n\t\t},\n\t\trender: function render() {\n\t\t\tcontainer.show();\n\t\t}\n\t};\n}();\n\n//礼物\nvar gift = function () {\n\tvar $container;\n\treturn {\n\t\tinit: function init() {\n\t\t\t$container = $('#gift');\n\t\t\tgift.shoppingCart.init();\n\t\t\tgift.giftList.init();\n\t\t\tgift.giftList.render();\n\t\t\tgift.pay.init();\n\t\t},\n\t\trender: function render() {\n\t\t\t$container.show();\n\t\t}\n\t};\n}();\n\n/**\r\n * 礼物列表\r\n */\ngift.giftList = function () {\n\tvar $container,\n\t    $wrap,\n\t    $con,\n\t    $arrow,\n\t    $arrowLeft,\n\t    $arrowRight,\n\t    width,\n\t    //窗口的宽度\n\tdis_left = 0,\n\t    //左侧隐藏的距离\n\tdis_right,\n\t    //右侧隐藏的距离\n\tduration = 400,\n\t    // 动画时间\n\tpacketId,\n\t    //红包ID\n\tgiftListData; // 礼物数据\n\n\tvar create = function create(arr) {\n\t\treturn _.map(arr, function (item) {\n\t\t\treturn '<div class=\"inline item\" data-id=\"' + item.gift_id + '\">\\n                        <div class=\"imgw\"><img src=\"' + item.gift_photo + '\" /></div>\\n                        <div class=\"txt name\">' + item.gift_name + '</div>\\n                        <div class=\"txt price\" data-price=\"' + item.gift_price + '\">\\uFFE5' + item.gift_price + '</div>\\n                    </div>';\n\t\t}).join('');\n\t};\n\n\t//\n\tfunction select(el) {\n\t\tel.parent().find('.select').removeClass('select');\n\t\tel.addClass('select');\n\t\tvar price = el.find('.price').data('price');\n\t\tgift.shoppingCart.update(el);\n\t}\n\n\tfunction event() {\n\t\t//高亮选择\n\t\t$container.on('click', '.item', function () {\n\t\t\tselect($(this));\n\t\t});\n\n\t\t//左右滑动\n\t\t$arrow.click(_.debounce(function () {\n\t\t\tanimate($(this));\n\t\t}, duration, { leading: true, trailing: false }));\n\t}\n\n\tfunction animate(el) {\n\t\tvar direction = el.data('direction');\n\t\tvar distance = {\n\t\t\tright: function right() {\n\t\t\t\treturn ['-', _.min([width, dis_right])];\n\t\t\t},\n\t\t\tleft: function left() {\n\t\t\t\treturn ['+', _.min([width, dis_left])];\n\t\t\t}\n\t\t}[direction]();\n\n\t\t//animate\n\t\t$wrap.velocity({\n\t\t\tleft: distance[0] + '=' + distance[1]\n\t\t}, {\n\t\t\tduration: duration,\n\t\t\tcomplete: function complete() {\n\t\t\t\tvar move = {\n\t\t\t\t\tleft: function left() {\n\t\t\t\t\t\tdis_left -= distance[1];\n\t\t\t\t\t\tdis_right += distance[1];\n\t\t\t\t\t},\n\t\t\t\t\tright: function right() {\n\t\t\t\t\t\tdis_left += distance[1];\n\t\t\t\t\t\tdis_right -= distance[1];\n\t\t\t\t\t}\n\t\t\t\t}[direction]();\n\n\t\t\t\t//标记\n\t\t\t\t$arrow.filter('.gray').removeClass('gray');\n\t\t\t\tif (dis_left === 0) $arrowLeft.addClass('gray');\n\t\t\t\tif (dis_right === 0) $arrowRight.addClass('gray');\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tinit: function init() {\n\t\t\t$container = $('#allGifts');\n\t\t\t$wrap = $container.find('.gift-item-wrap');\n\t\t\t$arrow = $container.find('.arrow');\n\t\t\t$arrowLeft = $container.find('.arrow.left');\n\t\t\t$arrowRight = $container.find('.arrow.right');\n\t\t\t$con = $container.find('.gift-item-container');\n\t\t\tevent();\n\t\t},\n\t\trender: function render() {\n\t\t\t$.getJSON('/gift/giftList.htm', function (data) {\n\t\t\t\tgiftListData = data;\n\t\t\t\tdata = _.filter(data, function (item) {\n\t\t\t\t\treturn item.gift_name != '红包';\n\t\t\t\t}); // 礼物中去掉红包\n\t\t\t\t$wrap.html(create(data));\n\t\t\t\t$wrap.css({ width: data.length * 104 + 'px' });\n\t\t\t\twidth = $con.width();\n\t\t\t\tdis_right = $wrap.width() - $con.width();\n\t\t\t});\n\t\t},\n\t\tgetGiftName: function getGiftName(id) {\n\t\t\treturn _.find(giftListData, function (item) {\n\t\t\t\treturn +item.gift_id == +id;\n\t\t\t}).gift_name;\n\t\t},\n\t\tgetPacketId: function getPacketId() {\n\t\t\treturn _.find(giftListData, function (item) {\n\t\t\t\treturn item.gift_name == '红包';\n\t\t\t}).gift_id;\n\t\t}\n\t};\n}();\n\n//购物车/立即赠送\ngift.shoppingCart = function () {\n\tvar $container,\n\t    $count,\n\t    $sum,\n\t    $minus,\n\t    $plus,\n\t    $submit,\n\t    giftId,\n\t    count = 1,\n\t    price = 0,\n\t    sum = 0;\n\n\tvar event = function event() {\n\t\t$plus.click(function () {\n\t\t\t$count.text(++count);\n\t\t\tcalculate();\n\t\t});\n\n\t\t$minus.click(function () {\n\t\t\tif (count === 1) return;\n\t\t\t$count.text(--count);\n\t\t\tcalculate();\n\t\t});\n\n\t\t//提交\n\t\t$submit.click(_.debounce(function () {\n\t\t\tif (!ynIsLogin) return yn.login.render();\n\t\t\tif (ynIsTeacher) return layer.msg('老师不能打赏给老师哦');\n\t\t\tif (+sum === 0) return layer.msg('多少也给点!');\n\t\t\tsubmit();\n\t\t}, 1500, { leading: true, trailing: false }));\n\t};\n\n\tfunction submit() {\n\t\t$.post('/app/appGiftPayOrder.htm', {\n\t\t\tpay_source: '0', //web端\n\t\t\tgoodsType: '5', //直播\n\t\t\tteacherId: room_teacherid,\n\t\t\tbuy_number: count, //礼物数量\n\t\t\tgiftId: giftId, //随意赏=送红包\n\t\t\tsum: sum\n\t\t}, function (back) {\n\t\t\tif (back.status == '1') {\n\t\t\t\tvar url = '/html/returnshortcutpayJsp.htm?orderNum=' + back.data.orderNum;\n\n\t\t\t\tConfirm.payconfirm({\n\t\t\t\t\tname: '直播送礼',\n\t\t\t\t\tprice: sum,\n\t\t\t\t\tlink: url,\n\t\t\t\t\tfinish: false,\n\t\t\t\t\torderNum: back.data.orderNum\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlayer.msg('参数错误 : ' + error[back.status]);\n\t\t}, 'json');\n\t}\n\n\tvar calculate = function calculate() {\n\t\tsum = price * count;\n\t\t$sum.text(sum);\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\t$container = $('.gift-send');\n\t\t\t$count = $container.find('.gift-count');\n\t\t\t$sum = $container.find('.sum');\n\t\t\t$minus = $container.find('.minus');\n\t\t\t$plus = $container.find('.plus');\n\t\t\t$submit = $container.find('.submit');\n\t\t\tevent();\n\t\t},\n\t\tupdate: function update(el) {\n\t\t\tprice = el.find('.price').data('price');\n\t\t\tgiftId = el.data('id');\n\t\t\tcalculate();\n\t\t}\n\t};\n}();\n\ngift.pay = function () {\n\tvar $container, $circle;\n\n\tvar event = function event() {\n\t\t$circle.click(function () {\n\t\t\tif (!ynIsLogin) return yn.login.render();\n\t\t\tif (ynIsTeacher) return layer.msg('老师不能打赏老师哦');\n\n\t\t\tConfirm.render({\n\t\t\t\ttype: 'livingRoom',\n\t\t\t\tteacherId: room_teacherid,\n\t\t\t\tname: '直播打赏',\n\t\t\t\tfinish: false\n\t\t\t});\n\t\t});\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\t$container = $('#gift-pay');\n\t\t\t$circle = $container.find('.circle');\n\t\t\tevent();\n\t\t}\n\t};\n}();\n\n// /**\n//  * 历史直播\n//  */\nvar liveHistory = function () {\n\tvar container,\n\t    items,\n\t    page = 1,\n\t    row = 11,\n\t    userid,\n\t    bootpag;\n\n\tvar handleData = function handleData(arr) {\n\t\treturn _.filter(_.map(arr, function (item) {\n\t\t\titem._time = item.starttime.match(/^[^\\s]+/)[0];\n\t\t\tif (+item.status == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn item;\n\t\t}), function (item) {\n\t\t\treturn item;\n\t\t});\n\t};\n\n\treturn {\n\t\tinit: function init(_userid) {\n\t\t\tuserid = _userid;\n\t\t\tcontainer = $('#liveHistory');\n\t\t\titems = container.find('.items');\n\t\t\tbootpag = yn.bootpag(container);\n\t\t\tif (!isTeacherSelf) {\n\t\t\t\tbootpag.hide();\n\t\t\t}\n\t\t\tbootpag.on('page', function (err, num) {\n\t\t\t\tpage = num;\n\t\t\t\tliveHistory.render();\n\t\t\t});\n\n\t\t\t/*  放大图片 */\n\t\t\tsetTimeout(function () {\n\t\t\t\t/*  放大图片 */\n\t\t\t\titems.find('img').each(function () {\n\t\t\t\t\tif ($(this).parent().hasClass('photo')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$(this).zoomify();\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t},\n\t\trender: function render() {\n\t\t\tcontainer.show();\n\t\t\tgetMyLiveList({ page: page, row: row, userid: userid }).done(function (data) {\n\t\t\t\tlog('历史直播', data);\n\t\t\t\tdata.data.list = handleData(data.data.list);\n\t\t\t\titems.html(template('liveHistory-template', data.data.list));\n\t\t\t\tbootpag.bootpag({ page: page, total: data.pageNumber });\n\t\t\t});\n\t\t}\n\t};\n}();\n\n// /**\n//  * 股友互动\n//  */\nvar chat = function () {\n\tvar periodicalid,\n\t    container,\n\t    items,\n\t    banWin,\n\t    foreverWin,\n\t    talkWin,\n\t    page = 1,\n\t    row = 20,\n\t    nothing = false;\n\tvar banStatus; //禁言状态\n\tvar EndTime; //禁言倒计时\n\tvar banTime; //禁言时间\n\tvar userStatus; //用户状态\n\n\tvar handleData = function handleData(arr, type) {\n\t\treturn _.map(arr, function (item) {\n\t\t\titem._reply = item.replyInteraction ? '@' + item.replyInteraction.nickName : ''; // 是否显示回复\n\t\t\titem._isTeacher = room_nickName == item.nickName ? 'isTeacher' : ''; // 是否为老师发言\n\t\t\titem._isSelf = item.nickName == ynUserName ? 'isSelf' : ''; // 是否为自己的发言\n\n\t\t\t// 解析表情符\n\t\t\titem._content = item.content.replace(/\\[.+?\\]/g, function (match) {\n\t\t\t\tvar isOld = /face=/.test(match);\n\t\t\t\tif (isOld) {\n\t\t\t\t\treturn yn.parseFaceCode(match);\n\t\t\t\t} else {\n\t\t\t\t\tvar name = Face.getInstance().titleToName(match);\n\t\t\t\t\tif (!name) return match;\n\t\t\t\t\tvar src = __path + '/public/module/qqface/png/' + name + '@2x.png';\n\t\t\t\t\treturn '<img class=\"img-qqface\" src=\"' + src + '\" style=\"position:relative;top:4px\" title=\"' + match + '\" >';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\titem._avatar = (type == 'push' ? item.photo : item.photoImg) || '/public/images/yn.jpg'; //没有则指定默认头像\n\n\t\t\treturn item;\n\t\t});\n\t};\n\n\t// 创建标签\n\tvar createChats = function createChats(arr) {\n\t\treturn _.map(arr, function (item) {\n\t\t\tvar type = item.user_type == 2 ? 'pay' : 'normal';\n\t\t\treturn chatType[type](item);\n\t\t}).join('');\n\t};\n\n\tvar chatType = {\n\t\t// 打赏消息\n\t\tpay: function pay(item) {\n\t\t\treturn '<div class=\"chat-pay-item\">\\n                    <span class=\"time\">' + item.ctimeString + '</span>\\n                    <span class=\"content\">' + item._content + '</span>\\n            </div>';\n\t\t},\n\n\t\t// 互动消息\n\t\tnormal: function normal(item) {\n\t\t\tvar shouldDelete = isTeacherSelf ? '<div class=\"absolute delete\"><span class=\"fa fa-times\"></span></div>' : '';\n\t\t\tvar link = /qlogo|http|https/.test(item.photoImg) ? item.photoImg : projectPath + item._avatar;\n\n\t\t\tvar isInside = item.is_inside == 1 && yn.isInside;\n\t\t\tvar inside = isInside ? '<strong class=\"start\" style=\"color:red;font-size:18px\">*</strong>' : '';\n\t\t\tvar isReferUser = '';\n\t\t\tif (ynIsTeacher) {\n\t\t\t\tisReferUser = item.is_referUser == 1 ? 'isReferUser' : 'notReferUser';\n\t\t\t} else {\n\t\t\t\tisReferUser = 'notReferUser';\n\t\t\t}\n\n\t\t\treturn '<div class=\"item chat-item ' + item._isTeacher + ' ' + item._isSelf + ' ' + userStatus + '\" data-id=\"' + item.id + '\">\\n                    <div class=\"line line1\">\\n                        <div class=\"inline avatar\"><img src=\"' + link + '\"/></div>\\n                        <span class=\"referUser ' + isReferUser + '\"><img src=\"/public/images/referuser.png\" alt=\"\" /></span>\\n                        <span class=\"name\">' + item.nickName + '</span>' + inside + '\\n                        <span class=\"user_type\"><i class=\\'item-icon-guwen\\'><img src=\"' + type_ioc + '\" alt=\"\" /></i></span>\\n                        ' + shouldDelete + '\\n                    </div>\\n                    <div class=\"line line2\">\\n                        <div class=\"pubContent\">' + item._content + ' <span class=\"target\">' + item._reply + '</span></div>\\n                    </div>\\n                    <div class=\"line line3\">\\n                        <span class=\"time\">' + item.ctimeString + '</span><span class=\"divice\"></span>\\n                        <select name=\"\" class=\"banned\" data-id=\"' + item.userid + '\" data-userid=\"' + item.user_id + '\">\\n                            <option value=\"0\">\\u7981\\u8A00</option>\\n                            <option value=\"1\">\\u7981\\u8A001\\u5929</option>\\n                            <option value=\"-1\">\\u6C38\\u4E45\\u7981\\u8A00</option>\\n                        </select>\\n                        <a href=\"#talkWindow\" class=\"reply\" data-name=\"' + item.nickName + '\" id=\"' + item.id + '\"\" >\\u56DE\\u590D</a>\\n                    </div>\\n                </div>';\n\t\t}\n\t};\n\tif (ynIsLogin && !isTeacherSelf) {\n\t\t/* 获取用户禁言状态 */\n\t\tvar isBanned = function () {\n\t\t\t$.post(__path + '/banned/isBanned.htm', function (back) {\n\t\t\t\tback = JSON.parse(back);\n\n\t\t\t\tif (back.data == '1') {\n\t\t\t\t\tbanStatus = '';\n\t\t\t\t} else {\n\t\t\t\t\tbanStatus = back.data.bannedDay;\n\t\t\t\t\tbanTime = back.data.createTime;\n\t\t\t\t\tbanTime = banTime.replace(/-/g, '/');\n\t\t\t\t\tEndTime = new Date(banTime).getTime();\n\t\t\t\t\tEndTime += 24 * 60 * 60 * 1000;\n\t\t\t\t}\n\n\t\t\t\tif (userStatus == 'user') {\n\t\t\t\t\tif (banStatus == '1') {\n\t\t\t\t\t\t// $('#talkWindow .content').hide();\n\t\t\t\t\t\tbanWin.show();\n\t\t\t\t\t\tcountdown();\n\t\t\t\t\t\tsetInterval(function () {\n\t\t\t\t\t\t\tcountdown();\n\t\t\t\t\t\t}, 60000);\n\t\t\t\t\t} else if (banStatus == '-1') {\n\t\t\t\t\t\t// $('#talkWindow .content').hide();\n\t\t\t\t\t\tforeverWin.show();\n\t\t\t\t\t} else if (!banStatus) {\n\t\t\t\t\t\t// $('#talkWindow .content').hide();\n\t\t\t\t\t\ttalkWin.show();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}();\n\t\t/*禁言倒计时*/\n\t\tvar countdown = function countdown() {\n\t\t\tvar nowTime = new Date().getTime();\n\t\t\tvar t = EndTime - nowTime;\n\t\t\tvar h, m;\n\t\t\tif (t >= 0) {\n\t\t\t\th = Math.floor(t / 1000 / 60 / 60);\n\t\t\t\tm = Math.floor(t / 1000 / 60 % 60);\n\t\t\t}\n\t\t\tif (t == 0) {\n\t\t\t\tlayer.msg('禁言解除');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}, 1000);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$('.hour').html(h);\n\t\t\t$('.minutes').html(m);\n\t\t};\n\t}\n\n\tfunction event() {\n\t\t// 回复\n\t\tcontainer.on('click', '.reply', function () {\n\t\t\tif (!ynIsLogin) return yn.login.render();\n\t\t\tvar id = $(this).attr('id');\n\t\t\tvar name = $(this).data('name');\n\t\t\ttalk.setReply(id, { name: name });\n\t\t\t$('body').animate({ scrollTop: $(document).height() - $(window).height() }, 500);\n\t\t});\n\n\t\t// 删除\n\t\tcontainer.on('click', '.delete', function () {\n\t\t\tif (!ynIsLogin) return yn.login.render();\n\t\t\tvar item = $(this).parents('.chat-item');\n\t\t\tvar id = item.data('id');\n\t\t\tlayer.confirm('确定要删除吗', function () {\n\t\t\t\t$.post('/interaction/delInteraction.htm', {\n\t\t\t\t\tpid: periodicalid,\n\t\t\t\t\tids: id\n\t\t\t\t}, function (back) {\n\t\t\t\t\tback = JSON.parse(back);\n\t\t\t\t\tif (back.status == '1') {\n\t\t\t\t\t\tlayer.msg('删除成功');\n\t\t\t\t\t\titem.remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlayer.msg(error[back.status]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\t// 加载更多\n\t\tcontainer.on('click', '.loadMore', _.debounce(function () {\n\t\t\tvar el = $(this);\n\t\t\tvar last = $(this).next();\n\t\t\tvar send = {\n\t\t\t\tid: last.data('id'), // 最早一条发言ID, 根据ID获取更早数据\n\t\t\t\tperiodicalid: periodicalid,\n\t\t\t\tpageSize: row\n\t\t\t};\n\t\t\t$.getJSON('/html/queryInteractionlist.htm', send, function (data) {\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\tif (data.data.list.length < row) {\n\t\t\t\t\t\tlayer.msg('已加载全部');\n\t\t\t\t\t\tdata.data.list = handleData(data.data.list).reverse();\n\t\t\t\t\t\tel.after(createChats(data.data.list));\n\t\t\t\t\t\tel.remove();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdata.data.list = handleData(data.data.list).reverse();\n\t\t\t\t\tel.after(createChats(data.data.list));\n\t\t\t\t} else {\n\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t}\n\t\t\t});\n\t\t}, 500));\n\n\t\t// 声音提示\n\t\tcontainer.on('click', '.audio', function () {\n\t\t\t$(this).toggleClass('stop');\n\t\t\tchat.enableAudio = !chat.enableAudio;\n\t\t});\n\t}\n\treturn {\n\t\tenableAudio: true,\n\t\tinit: function init(id) {\n\t\t\tperiodicalid = id;\n\t\t\tcontainer = $('#friendTalk');\n\t\t\titems = container.find('.items');\n\t\t\tbanWin = $('#talkWindow .nochat'), talkWin = $('#talkWindow .chat'), foreverWin = $('#talkWindow .nochat-f');\n\t\t\tuserStatus = isTeacherSelf ? 'teacher' : 'user';\n\t\t\t/* 禁言 */\n\t\t\tcontainer.on('change', '.line3 .banned', function () {\n\t\t\t\tvar val = $(this).val();\n\t\t\t\tvar id = $(this).data('id');\n\t\t\t\tvar userid = $(this).data('userid');\n\t\t\t\tvar banId = +id ? id : userid;\n\t\t\t\tif (val === '0') return;\n\t\t\t\tvar self = $(this);\n\t\t\t\tvar text = {\n\t\t\t\t\t'1': '确定要禁言1天吗',\n\t\t\t\t\t'-1': '确定要永久禁言吗'\n\t\t\t\t};\n\n\t\t\t\tlayer.confirm(text[val], function () {\n\t\t\t\t\t$.post(__path + '/banned/banned.htm', { userid: banId, bannedDay: val }, function (back) {\n\t\t\t\t\t\tif (back.status == '1') {\n\t\t\t\t\t\t\tlayer.msg('禁言成功');\n\t\t\t\t\t\t\tself.val('0');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (back.status == '40012') {\n\t\t\t\t\t\t\treturn layer.msg('请重新登录');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (back.status == '80000') {\n\t\t\t\t\t\t\tlayer.msg('老师,不能再禁啦');\n\t\t\t\t\t\t\tself.val('0');\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 'json');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t/* 禁言申诉 */\n\t\t\tforeverWin.on('click', function () {\n\t\t\t\tvar self = $(this);\n\t\t\t\t$.post(__path + '/banned/isAppeal.htm', function (back) {\n\t\t\t\t\tif (back.status == '20001') {\n\t\t\t\t\t\treturn layer.msg('请登录');\n\t\t\t\t\t}\n\t\t\t\t\tif (back.status == '1') {\n\t\t\t\t\t\tforeverWin.find('button').html('已提交申诉申请');\n\t\t\t\t\t\tlayer.msg('申诉已提交');\n\t\t\t\t\t}\n\t\t\t\t\tif (back.status == '-1') {\n\t\t\t\t\t\tlayer.msg('禁言解除');\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t}, 'json');\n\t\t\t});\n\t\t\tevent();\n\t\t},\n\t\trender: function render() {\n\t\t\tgetFriendTalk(periodicalid, {\n\t\t\t\tpage: page,\n\t\t\t\trow: row\n\t\t\t}).done(function (back) {\n\t\t\t\tback.data = back.data.reverse();\n\t\t\t\tif (back.hasMore) items.prepend('<p class=\"loadMore\">\\u52A0\\u8F7D\\u66F4\\u591A</p>');\n\t\t\t\tback.data = handleData(back.data);\n\n\t\t\t\t// 暂无结果\n\t\t\t\tif (back.data && back.data.length < 1) {\n\t\t\t\t\titems.html(ynconfig.none({ margin: 250 }));\n\t\t\t\t\tnothing = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\titems.append(createChats(back.data));\n\t\t\t\titems.scrollTop(300000);\n\t\t\t});\n\t\t},\n\t\tonSocket: function onSocket(data) {\n\t\t\tdata.photoImg = data.photo;\n\t\t\tdata.ctimeString = data.showTimeStr;\n\t\t\tdata.id = data.dataId;\n\t\t\tdata.content = data.content.replace(/【回复:(.+)】(.+)/g, '$2<span class=\"target\">@$1</span>');\n\t\t\tvar newTalk = createChats(handleData([data], 'push'));\n\t\t\tif (nothing) {\n\t\t\t\titems.find('.nothing').remove();\n\t\t\t\tnothing = false;\n\t\t\t}\n\t\t\titems.append(newTalk);\n\t\t\titems.scrollTop(30000);\n\t\t\tif (chat.enableAudio) {\n\t\t\t\tmsn.play();\n\t\t\t}\n\t\t},\n\t\tonTimer: function onTimer() {\n\t\t\t// 使用定时器更新聊天数据\n\t\t\tthis.render();\n\t\t}\n\t};\n}();\n\n//股友互动\nvar talk = function () {\n\tvar container,\n\t    textarea,\n\t    replyInfo,\n\t    replyId = -1,\n\t    submitBtn,\n\t    wordCount,\n\t    face;\n\n\tfunction event() {\n\t\ttextarea.on('focus', function () {\n\t\t\treturn !ynIsLogin && yn.login.render();\n\t\t}); //验证登录\n\t\tcontainer.on('click', '.close', function () {\n\t\t\treturn talk.setReply(-1);\n\t\t}); //关闭回复\n\n\t\t//表情\n\t\t// container.on('click', '.face', function() {\n\t\t// \tFace.getInstance().render('face-trigger', (title) => {\n\t\t// \t\tvar val = textarea.val();\n\t\t// \t\ttextarea.val(val + title);\n\t\t// \t});\n\n\t\t// \treturn false;\n\t\t// });\n\n\t\t//提交\n\t\tsubmitBtn.on('click', _.debounce(function () {\n\t\t\treturn submit();\n\t\t}, 2000, { leading: true, trailing: false }));\n\t}\n\n\tfunction submit() {\n\t\tvar content = textarea.val();\n\t\tif (content.length > 200) {\n\t\t\tcontent = content.substr(0, 200);\n\t\t\tlayer.msg('超出字数限制');\n\t\t\treturn;\n\t\t}\n\t\tif (!content) return layer.msg('请填写您的交流信息');\n\t\tvar send = {\n\t\t\tcontent: content,\n\t\t\tprId: periodicalid,\n\t\t\tparentid: replyId, //发言(回复的)ID\n\t\t\tuser_type: ynIsTeacher ? '1' : '0'\n\t\t};\n\n\t\t$.post('/html/interactionComm.htm', send, function (data) {\n\t\t\tdata = JSON.parse(data);\n\t\t\tif (data.status == 1) {\n\t\t\t\treset();\n\t\t\t\treturn layer.msg('提交成功');\n\t\t\t} else if (data.status == 80000) {\n\t\t\t\tlayer.msg('该账号被用户举报，涉嫌违规操作，目前不能与直播间的好友进行互动');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}, 1000);\n\t\t\t} else if (data.status == 80001) {\n\t\t\t\treturn layer.msg('您输入的内容违反相关规定，不能予以展示！');\n\t\t\t} else {\n\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction reset() {\n\t\ttalk.setReply(-1);\n\t\ttextarea.val('');\n\t\twordCount.text(200);\n\t}\n\n\treturn {\n\t\tsetReply: function setReply(id, ops) {\n\t\t\t//设置回复功能\n\t\t\tops = _.extend({\n\t\t\t\tname: ''\n\t\t\t}, ops);\n\n\t\t\treplyId = id;\n\t\t\tid == -1 ? replyInfo.hide() : replyInfo.show();\n\t\t\treplyInfo.find('.text').text('@' + ops.name);\n\t\t},\n\t\tinit: function init() {\n\t\t\tcontainer = $('#talkWindow');\n\t\t\ttextarea = container.find('textarea');\n\t\t\tsubmitBtn = container.find('.submit');\n\t\t\treplyInfo = container.find('.replyInfo');\n\t\t\twordCount = container.find('.wordCount .value');\n\n\t\t\t//字数统计\n\t\t\tyn.wordCount(textarea, {\n\t\t\t\tindicate: wordCount\n\t\t\t});\n\n\t\t\tcontainer.show();\n\t\t\tevent();\n\t\t}\n\t};\n}();\n\n// 显示礼物效果\nvar showPayAnimation = function showPayAnimation(id) {\n\thub.emit('gift-animation', id);\n\t// log('送礼', data);\n\t// var card = new payShow({\n\t// \tavatar: data.photo,\n\t// \ttitle: data.userName,\n\t// \tsub: '赠送' + data.giftName,\n\t// \tgift: data.giftPhoto,\n\t// \tcount: data.count\n\t// }).animate();\n};\n\n/*///////////////////////////////////////////////////////////////////*/\n\n//websocket推送\nvar liveDetailSocket = function liveDetailSocket() {\n\tvar host = '';\n\n\tif (/yueniuwang/.test(href)) {\n\t\thost = 'http://ws.yuetougu.com';\n\t} else if (/yuetougu/.test(href)) {\n\t\thost = 'http://ws.yuetougu.com';\n\t} else {\n\t\thost = live_path;\n\t}\n\n\ttry {\n\t\tvar webSocket;\n\t\thost = host.replace('http:', '');\n\t\twebSocketPath = 'ws:' + host + '/websocket';\n\t\twebSocket = new ReconnectingWebSocket(webSocketPath);\n\t\twebSocket.debug = true;\n\t\twebSocket.timeoutInterval = 5400;\n\t\twindow.onbeforeunload = function () {\n\t\t\twebSocket.close();\n\t\t};\n\t\twebSocket.onopen = function (event) {\n\t\t\tvar key = '0_0_0_' + periodicalid;\n\t\t\twebSocket.send(key);\n\t\t};\n\t\twebSocket.onmessage = function (event) {\n\t\t\tvar _data = eval('(' + event.data + ')');\n\t\t\tconsole.log('push', _data);\n\t\t\tvar dataType = _data.dataType;\n\t\t\t//直播消息\n\t\t\tif (dataType == '1') {\n\t\t\t\tliving.onSocket(_data);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 送礼消息\n\t\t\tif (+dataType == 11) {\n\t\t\t\tshowPayAnimation(_data.giftid);\n\t\t\t\t_data.puiblisherid = '0';\n\t\t\t\tliving.onSocket(_data);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//互动信息\n\t\t\tif (dataType == '2') {\n\t\t\t\thub.emit('chat-push', _data);\n\t\t\t\t// chat.onSocket(_data);\n\t\t\t}\n\t\t};\n\t} catch (e) {\n\t\tlog('use timer update data...');\n\t\t//IE8使用定时器更新数据\n\t\tsetInterval(function () {\n\t\t\tliving.onTimer();\n\t\t\tchat.onTimer();\n\t\t}, 2000);\n\t}\n};\n\n/*///////////////////////////////////////////////////////////////////*/\n\n//发布直播\nvar publishLiveContent = function publishLiveContent(id, content) {\n\tif (!ynIsLogin) {\n\t\tlayer.msg('请登录...');\n\t\treturn;\n\t}\n\tif (!content) {\n\t\tlayer.msg('请输入内容...');\n\t\treturn;\n\t}\n\tvar defer = $.Deferred();\n\tcontent = content.replace(/(<img)\\s+(?:class=\"big_pic\")?(.+?(jpg\"|png\"))/g, '$1  $2 class=\"big_pic\"');\n\tvar send = {\n\t\tperiodicalid: id,\n\t\tcontent: content\n\t};\n\t$.post('/teacher/html/broadcasting/addBroadcasting.htm', send, function (data) {\n\t\tdata = JSON.parse(data);\n\t\tif (data.status == '1') {\n\t\t\tlayer.msg('发表成功');\n\t\t\tdefer.resolve(data);\n\t\t} else if (data == 80001) {\n\t\t\treturn layer.msg('您输入的内容违反相关规定，不能予以展示！');\n\t\t} else {\n\t\t\treturn layer.msg(error[data.status]);\n\t\t}\n\t});\n\treturn defer.promise();\n};\n\n//我的直播列表\nvar getMyLiveList = function getMyLiveList(ops) {\n\tops = _.extend({\n\t\tpage: 1,\n\t\trow: 10\n\t}, ops);\n\n\tvar send = {\n\t\tuser_id: room_userid,\n\t\tpageSize: ops.row,\n\t\tcurrentPage: ops.page\n\t};\n\n\tvar defer = $.Deferred();\n\n\t$.getJSON('/center/queryMyLive.htm', send, function (data) {\n\t\tif (data.status == 1) {\n\t\t\t//页码\n\t\t\tdata.pageNumber = _.max([1, Math.ceil(data.data.total / ops.row)]);\n\t\t\tdefer.resolve(data);\n\t\t}\n\t});\n\treturn defer.promise();\n};\n\n//加载股友互动信息\nvar getFriendTalk = function getFriendTalk(periodicalid, ops) {\n\tvar defer = $.Deferred();\n\tvar ops = _.extend({\n\t\tpage: 1,\n\t\trow: 10\n\t}, ops);\n\n\tvar send = {\n\t\tperiodicalid: periodicalid,\n\t\tcurrentPage: ops.page,\n\t\tpageSize: ops.row\n\t};\n\t$.getJSON('/html/interactionList.htm', send, function (data) {\n\t\tif (data.status == 1) {\n\t\t\tdata.hasMore = data.data.length == send.pageSize ? true : false;\n\t\t\tdefer.resolve(data);\n\t\t}\n\t});\n\treturn defer.promise();\n};\n\n//关闭直播\nvar closeLiveRoom = function () {\n\tvar close;\n\treturn {\n\t\tinit: function init() {\n\t\t\tclose = $('.close-live').show();\n\t\t\tclose.on('click', function () {\n\t\t\t\tif (liveStatus == '0') {\n\t\t\t\t\tlayer.confirm('确定关闭直播室？', function () {\n\t\t\t\t\t\t$.post('/broadcasting/closePeriodical.htm', { periodicalid: periodicalid }, function (back) {\n\t\t\t\t\t\t\tif (back.status == '1') {\n\t\t\t\t\t\t\t\tlayer.msg('直播室已关闭');\n\t\t\t\t\t\t\t\twindow.location.href = __path + '/backstage/myLive.htm';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn layer.msg(error[back.status]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 'json');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//发布置顶消息\nvar addTop = function () {\n\tvar container,\n\t    todayWin,\n\t    textarea,\n\t    wordCount,\n\t    tagId = null;\n\tvar create = function create(arr) {\n\t\treturn _.map(arr, function (item) {\n\t\t\treturn '<span class=\"todayHeadlines\" data-id=\"' + item.id + '\">' + item.tag_name + '</span>';\n\t\t}).join('');\n\t};\n\n\tvar reset = function reset() {\n\t\ttodayWin.hide();\n\t\ttextarea.val('');\n\t\ttodayWin.find('.todayWin-title').text('');\n\t\twordCount.text(100);\n\t};\n\treturn {\n\t\tinit: function init() {\n\t\t\tcontainer = $('#liveDetail');\n\t\t\ttodayWin = $('#todayWin');\n\t\t\ttextarea = todayWin.find('textarea');\n\t\t\twordCount = todayWin.find('.wordCount');\n\t\t\t//弹出窗口\n\t\t\tcontainer.on('click', '.todayHeadlines', function () {\n\t\t\t\tvar text = $(this).text();\n\t\t\t\ttagId = $(this).data('id');\n\t\t\t\ttodayWin.find('.todayWin-title').text(text);\n\t\t\t\ttodayWin.show();\n\t\t\t});\n\n\t\t\t//取消\n\t\t\ttodayWin.on('click', '.todayWin-cancel', function () {\n\t\t\t\treset();\n\t\t\t});\n\t\t\t//确定\n\t\t\ttodayWin.on('click', '.todayWin-sure', _.debounce(function () {\n\t\t\t\tvar val = _.trim(todayWin.find('textarea').val());\n\t\t\t\tif (!val) {\n\t\t\t\t\treturn layer.msg('请输入内容');\n\t\t\t\t} else if (val.length > 100) {\n\t\t\t\t\treturn layer.msg('最多输入100字');\n\t\t\t\t}\n\t\t\t\t$.post('/broadcastingTop/addTop.htm', { tag_id: tagId, content: val }, function (back) {\n\t\t\t\t\tif (back.status == 1) {\n\t\t\t\t\t\tlayer.msg('置顶消息发布成功');\n\t\t\t\t\t\treset();\n\t\t\t\t\t\ttopDetail.render();\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn layer.msg(error[back.status]);\n\t\t\t\t\t}\n\t\t\t\t}, 'json');\n\t\t\t}, 2000, { leading: true, trailing: false }));\n\n\t\t\t//字数统计\n\t\t\tyn.wordCount(textarea, {\n\t\t\t\tindicate: wordCount,\n\t\t\t\tlimit: 100\n\t\t\t});\n\n\t\t\t//鼠标悬浮\n\t\t\tvar timer = null;\n\t\t\tcontainer.find('.todayHeadlines-btn').get(0).onmouseenter = container.find('.todayHeadlines-wrap').get(0).onmouseenter = function () {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tcontainer.find('.todayHeadlines-wrap').show();\n\t\t\t};\n\t\t\t//鼠标移出\n\t\t\tcontainer.find('.todayHeadlines-btn').get(0).onmouseleave = container.find('.todayHeadlines-wrap').get(0).onmouseleave = function () {\n\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\tcontainer.find('.todayHeadlines-wrap').hide();\n\t\t\t\t}, 500);\n\t\t\t};\n\t\t},\n\t\trender: function render() {\n\t\t\t$.getJSON('/broadcastingTop/getToptag.htm', function (back) {\n\t\t\t\tif (back.status == 1) {\n\t\t\t\t\tif (back.data.length > 0) {\n\t\t\t\t\t\tcontainer.find('.todayHeadlines-wrap').html(create(back.data));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer.find('.todayHeadlines-wrap').html('<span class=\"tag_none\"><i class=\"fa fa-info\" aria-hidden=\"true\"></i>暂无标签</span>');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn layer.msg(error[back.status]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//有牛股\nvar topDetail = function () {\n\tvar container;\n\n\tvar create = function create(item) {\n\t\treturn '<div class=\"todayTop\">\\n            ' + item.delete + '\\n            <span class=\"todayTop-title\">' + item.tag_name + '</span>\\n            <span class=\"todayTop-close\"></span>\\n            <span class=\"todayTop-time\">' + item._create_time + '</span><span class=\"arrow-down\"></span></div>\\n        <div class=\"todayTop-content hide\">' + item.content + '<span class=\"arrow-up\"></span></div>';\n\t};\n\tvar handle = function handle(item) {\n\t\titem._create_time = item.create_time.match(/^\\d{4}-([0-9\\-]+)/)[1];\n\t\titem.delete = isTeacherSelf ? '<span class=\"todayTop-del\" data-id=\"' + item.id + '\">\\u5220\\u9664</span>' : '';\n\t\treturn item;\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\tcontainer = $('#live');\n\n\t\t\t//滑动显示\n\t\t\tcontainer.on('mouseenter', '.todayTop-wrap', function () {\n\t\t\t\tcontainer.find('.arrow-down').hide();\n\t\t\t\tcontainer.find('.todayTop-content').show().stop().animate({ height: '95px' }, 400);\n\t\t\t});\n\t\t\t//鼠标移除隐藏\n\t\t\tcontainer.on('mouseleave', '.todayTop-wrap', function () {\n\t\t\t\tcontainer.find('.arrow-down').show();\n\t\t\t\tcontainer.find('.todayTop-content').stop().animate({ height: '0' }, 400).hide();\n\t\t\t});\n\n\t\t\t//最小化\n\t\t\tcontainer.on('click', '.todayTop-close', function () {\n\t\t\t\tcontainer.find('.todayTop-wrap').hide();\n\t\t\t\tcontainer.find('.today-packUp').show();\n\t\t\t});\n\t\t\t//最大化\n\t\t\tcontainer.on('click', '.today-packUp', function () {\n\t\t\t\tcontainer.find('.today-packUp').hide();\n\t\t\t\tcontainer.find('.todayTop-wrap').show();\n\t\t\t});\n\n\t\t\t//删除\n\t\t\tcontainer.on('click', '.todayTop-del', function () {\n\t\t\t\tvar id = $(this).data('id');\n\t\t\t\tlayer.confirm('确定删除此置顶消息吗？', function () {\n\t\t\t\t\t$.post('/broadcastingTop/delTop.htm', { id: id }, function (back) {\n\t\t\t\t\t\tif (back.status == '1') {\n\t\t\t\t\t\t\tlayer.msg('已删除');\n\t\t\t\t\t\t\tcontainer.find('.todayTop-wrap').hide();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn layer.msg(error[back.status]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 'json');\n\t\t\t\t});\n\t\t\t\tcontainer.find('.today-packUp').hide();\n\t\t\t\tcontainer.find('.todayTop-wrap').show();\n\t\t\t});\n\t\t},\n\t\trender: function render() {\n\t\t\t$.getJSON('/broadcastingTop/topDetail.htm', { periodicalid: periodicalid }, function (back) {\n\t\t\t\tif (back.status == '1' && typeof back.data != 'undefined') {\n\t\t\t\t\tcontainer.find('.todayTop-wrap').show().html(create(handle(back.data)));\n\t\t\t\t\tcontainer.find('.today-packUp').html(back.data.tag_name).hide();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}();\n\n/*上下期*/\nvar turnPeriodical = function () {\n\tvar container,\n\t    cur = null,\n\t    data = null,\n\t    curData = null,\n\t    startTime = null,\n\t    length = null,\n\t    limit = 3,\n\t    row = limit - 1;\n\treturn {\n\t\tinit: function init() {\n\t\t\tcontainer = $('.setting');\n\t\t\tvar href = window.location.href;\n\t\t\tvar history = href.match(/history=([0-2])/);\n\t\t\tcur = history ? history[1] : '0';\n\t\t\tif (cur == 0) {\n\t\t\t\tcontainer.find('.next').hide();\n\t\t\t\tcontainer.find('.current').hide();\n\t\t\t} else if (cur == row) {\n\t\t\t\tcontainer.find('.prev').hide();\n\t\t\t}\n\n\t\t\tgetMyLiveList({ page: 1, row: limit, userid: room_userid }).done(function (back) {\n\t\t\t\tdata = back.data.list;\n\t\t\t\tlength = back.data.list.length;\n\t\t\t});\n\t\t\t//上一期\n\t\t\tcontainer.on('click', '.prev', function () {\n\t\t\t\tif (length - cur == 1 || length < cur) return;\n\t\t\t\t++cur;\n\t\t\t\tcurData = data[cur];\n\t\t\t\tstartTime = data[cur].starttime.substr(0, 11);\n\t\t\t\twindow.location.href = '/live/liveDetailLive.htm?teacherid=' + room_teacherid + '&periodical=' + curData.periodicalid + '&time' + startTime + '&history=' + cur;\n\t\t\t});\n\t\t\t//下一期\n\t\t\tcontainer.on('click', '.next', function () {\n\t\t\t\tif (cur == 0) return;\n\t\t\t\t--cur;\n\t\t\t\tcurData = data[cur];\n\t\t\t\tstartTime = data[cur].starttime.substr(0, 11);\n\t\t\t\twindow.location.href = '/live/liveDetailLive.htm?teacherid=' + room_teacherid + '&periodical=' + curData.periodicalid + '&time' + startTime + '&history=' + cur;\n\t\t\t});\n\t\t\t//回到当前期\n\t\t\tcontainer.on('click', '.current', function () {\n\t\t\t\twindow.location.href = live_path + 'live/' + room_teacherid + '/';\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//# sourceURL=webpack:///./public/live/liveDetail.js?");

/***/ }),

/***/ "./public/module/ajax.js":
/*!*******************************!*\
  !*** ./public/module/ajax.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    ajax: function ajax(url, param, callback) {\n        if (typeof param == \"function\") {\n            callback = param;\n            param = {};\n        }\n\n        $.ajax({\n            url: url,\n            data: param,\n            dataType: 'json',\n            success: function success(data) {\n                callback(data);\n            },\n            error: function error(err) {\n                console.log('===err', err);\n            }\n        });\n    },\n    getJSON: function getJSON(url, param, callback) {\n        if (typeof param == \"function\") {\n            callback = param;\n            param = {};\n        }\n        $.getJSON(url, param, function (back) {\n            callback(back);\n        });\n    },\n    postJSON: function postJSON(url, param, callback) {\n        if (typeof param == \"function\") {\n            callback = param;\n            param = {};\n        }\n        $.post(url, param, function (back) {\n            callback(back);\n        }, 'json');\n    },\n    post: function post(url, param, callback) {\n        if (typeof param == \"function\") {\n            callback = param;\n            param = {};\n        }\n        $.post(url, param, function (back) {\n            callback(back);\n        });\n    }\n};\n\n//# sourceURL=webpack:///./public/module/ajax.js?");

/***/ }),

/***/ "./public/module/askStock/answerWindow.js":
/*!************************************************!*\
  !*** ./public/module/askStock/answerWindow.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\r\n * 回答问题\r\n * include /common/moudule-answer.jsp\r\n * \r\n * answerWindow.init({isPop:false}); //确定显示类型是否弹出式\r\n * answerWindow.render(noteid, {\r\n *      stockName: null, 股票名称\r\n        stockCode: null, 股票代码\r\n        question: null, 如果是弹出式窗口需要显示提问\r\n        replys: [], 包含已回答老师ID\r\n        number: null 流水号\r\n * })\r\n */\n\nvar error = __webpack_require__(/*! e/error-type */ \"./enum/error-type.js\");\n\nmodule.exports = function () {\n\treturn {\n\t\tcontainer: null,\n\t\twrap: null,\n\t\tstock: null, //插入股票\n\t\tquestion: null,\n\t\tjudge: null,\n\t\tjudgeStock: null,\n\t\tcategory: null,\n\t\tnoteid: null,\n\t\tue: null,\n\t\tstockName: null,\n\t\tstockCode: null,\n\t\treplys: [],\n\t\tclose: null,\n\t\tisPop: false,\n\t\ttrend: null,\n\t\tanswerCount: 0,\n\t\thandler: {\n\t\t\tsubmit: function submit() {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t},\n\t\tinit: function init(ops) {\n\t\t\tvar _this = this;\n\t\t\tthis.set();\n\n\t\t\t//UE编辑器的宽度在在初始化时根据容器设置\n\t\t\tops = _.extend({\n\t\t\t\tisPop: false\n\t\t\t}, ops);\n\n\t\t\t//弹出框\n\t\t\tif (ops.isPop) {\n\t\t\t\tthis.isPop = true;\n\t\t\t\tthis.showPop();\n\t\t\t}\n\n\t\t\tthis.event();\n\n\t\t\t//分类\n\t\t\tvar categoryItems = yn.noteTypeTag();\n\t\t\tthis.category.find('.items').html(categoryItems);\n\n\t\t\t//编辑器初始化\n\t\t\tthis.ue = UE.getEditor('answerWindow-edit', {\n\t\t\t\ttoolbars: [['forecolor']],\n\t\t\t\tinitialFrameHeight: 200,\n\t\t\t\telementPathEnabled: false,\n\t\t\t\twordCount: false,\n\t\t\t\tenableContextMenu: false,\n\t\t\t\tenableAutoSave: false,\n\t\t\t\tpasteplain: true\n\t\t\t});\n\n\t\t\tyn.showStockList(this.stock, {\n\t\t\t\tonSelect: function onSelect(item) {\n\t\t\t\t\t_this.stock.val('');\n\t\t\t\t\t_this.ue.focus(true);\n\t\t\t\t\t_this.ue.execCommand('insertHtml', '<span syle=\"color:red;font-weight:bold\" class=\"stockWrap\">' + item.stockWrap + '</span>');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tset: function set() {\n\t\t\tthis.container = $('#answerWindow');\n\t\t\tthis.stock = this.container.find('.search input');\n\t\t\tthis.judge = this.container.find('.judge');\n\t\t\tthis.judgeStock = this.judge.find('.value');\n\t\t\tthis.category = this.container.find('.category');\n\t\t\tthis.close = this.container.find('.close-window');\n\t\t\tthis.wrap = this.container.find('.answerWindow-wrap');\n\t\t\tthis.question = this.wrap.find('> .question');\n\t\t},\n\t\trender: function render(noteid, ops) {\n\t\t\tif (!noteid) {\n\t\t\t\tlayer.msg('noteid is null...');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tops = _.extend({\n\t\t\t\tstockName: null,\n\t\t\t\tstockCode: null,\n\t\t\t\tquestion: null,\n\t\t\t\treplys: [], // 已经回答过的老师\n\t\t\t\tnumber: null, //流水号\n\t\t\t\tanswerCount: 0\n\t\t\t}, ops);\n\n\t\t\t//回调\n\t\t\tthis.success = ops.success || function (f) {\n\t\t\t\treturn f;\n\t\t\t};\n\n\t\t\t//已经回答过的老师不再显示回答窗口\n\t\t\tif (_.indexOf(ops.replys, ynTeacherId) != -1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//如果已经有回答, 则不显示分类操作\n\t\t\tif (+ops.answerCount > 0) {\n\t\t\t\tthis.category.hide();\n\t\t\t} else {\n\t\t\t\tthis.category.show();\n\t\t\t}\n\n\t\t\t//弹出式窗口\n\t\t\tif (this.isPop) {\n\t\t\t\tyn.bodyScroll(false);\n\t\t\t}\n\t\t\tif (ops.question) {\n\t\t\t\tthis.question.html(ops.question).show();\n\t\t\t}\n\n\t\t\t//reset\n\t\t\tthis.noteid = noteid;\n\t\t\tthis.stockCode = ops.stockCode;\n\t\t\tthis.stockName = ops.stockName;\n\t\t\tthis.number = ops.number;\n\t\t\tthis.replys = ops.replys;\n\t\t\tthis.trend = null;\n\t\t\tthis.answerCount = ops.answerCount;\n\n\t\t\t//识别股票,显示趋势判断\n\t\t\tif (this.stockCode) {\n\t\t\t\tthis.judgeStock.text(this.stockCode + this.stockName);\n\t\t\t\tthis.judge.show();\n\t\t\t}\n\n\t\t\tthis.container.slideDown();\n\t\t},\n\t\tpickUpCode: function pickUpCode(val, callback) {\n\t\t\tvar _this = this;\n\t\t\tvar match = val.match(/[0-9]{6}/g);\n\t\t\tif (!match) return;\n\t\t\tvar code = _.find(match, function (item) {\n\t\t\t\treturn yn.isStockCode(item);\n\t\t\t});\n\t\t\tif (!code) return;\n\t\t\tyn.queryStock(code).done(function (data) {\n\t\t\t\tif (data && data.length > 6) {\n\t\t\t\t\t_this.stockcode = code;\n\t\t\t\t\t_this.stockname = data[0];\n\t\t\t\t\tcallback(code + data[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//弹出式窗口\n\t\tshowPop: function showPop() {\n\t\t\t//居中\n\t\t\tvar ww = $(window).width();\n\t\t\tvar wh = $(window).height();\n\t\t\tvar width = 800;\n\t\t\tvar left = (ww - width) / 2;\n\t\t\tvar top = (wh - this.container.height()) / 2 - 150;\n\t\t\tthis.close.show();\n\n\t\t\tthis.wrap.css({\n\t\t\t\twidth: width,\n\t\t\t\tleft: left,\n\t\t\t\tposition: 'fixed',\n\t\t\t\tbackground: 'white',\n\t\t\t\ttop: top\n\t\t\t});\n\n\t\t\tthis.container.css({\n\t\t\t\twidth: ww + 'px',\n\t\t\t\theight: wh + 'px',\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tposition: 'fixed',\n\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)'\n\t\t\t});\n\t\t},\n\t\tdisappear: function disappear() {\n\t\t\tthis.container.hide();\n\t\t\tthis.ue.setContent('');\n\t\t},\n\t\tevent: function event() {\n\t\t\tvar _this = this;\n\n\t\t\t//提交\n\t\t\tthis.container.on('click', '.submit', _.debounce(function () {\n\t\t\t\t_this.submit();\n\t\t\t}, 3000, { leading: true, trailing: false }));\n\n\t\t\t//分类\n\t\t\tthis.container.on('click', '.category .item', function () {\n\t\t\t\t$(this).parent().find('.select').removeClass('select');\n\t\t\t\t$(this).toggleClass('select');\n\t\t\t});\n\n\t\t\t//鉴股\n\t\t\tthis.container.on('click', '.judge-item', function () {\n\t\t\t\t$(this).toggleClass('select');\n\t\t\t\tvar id = $(this).data('id');\n\n\t\t\t\t//选中后可以取消\n\t\t\t\tvar otherIndex = +!!!+$(this).data('id');\n\t\t\t\t$('.judge-item' + otherIndex).removeClass('select');\n\t\t\t\t_this.trend = id;\n\t\t\t});\n\n\t\t\t//关闭\n\t\t\tthis.container.on('click', '.close-window', function () {\n\t\t\t\t_this.container.hide();\n\t\t\t\t_this.reset();\n\t\t\t\tyn.bodyScroll(true);\n\t\t\t});\n\t\t},\n\t\treset: function reset() {\n\t\t\tthis.judge.find('.select').removeClass('select');\n\t\t\tthis.category.find('.select').removeClass('select');\n\t\t\tthis.ue.setContent('');\n\t\t\tthis.stock.val('');\n\t\t\tthis.judge.hide();\n\t\t},\n\t\tsubmit: function submit() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar _this = this;\n\t\t\tif (this.ue.getContent().trim() == '') {\n\t\t\t\tlayer.msg('回答内容不能为空');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar hasCategory = _this.category.find('.item.select').length > 0;\n\t\t\tif (!hasCategory && _this.answerCount == 0) {\n\t\t\t\tlayer.msg('请选择问题分类');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.container.hide();\n\n\t\t\tvar send = {\n\t\t\t\tuserid: ynUserId,\n\t\t\t\tansweruserid: ynTeacherId,\n\t\t\t\tanswercontent: _this.ue.getContent(),\n\t\t\t\tanswerusername: ynTeacherName,\n\t\t\t\tstock_trend: _this.trend, //0=看涨, 1=看跌,\n\t\t\t\tnote_type: _this.category.find('.item.select').data('id'),\n\t\t\t\tnoteid: _this.noteid,\n\t\t\t\tis_reply: 1,\n\t\t\t\tnote_billno: _this.number //流水号\n\t\t\t};\n\n\t\t\t//是否有回答, 有则不需要传此参数\n\t\t\tif (this.replys.length > 0) {\n\t\t\t\tsend.is_reply = 1;\n\t\t\t}\n\n\t\t\t//已经回答过的老师不能再回答\n\t\t\tif (_.indexOf(this.replys, ynTeacherId) != -1) {\n\t\t\t\tlayer.msg('您已经回答过, 不能再回答...');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.post('/consultation/answerNote.htm', send, function (data) {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t\tif (data.status == '1') {\n\t\t\t\t\tlayer.msg('回复成功');\n\t\t\t\t\t_this2.success();\n\t\t\t\t} else (function () {\n\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\thidden: function hidden() {\n\t\t\tconsole.log(321);\n\t\t\tthis.reset();\n\t\t\tthis.container.hide();\n\t\t}\n\t};\n}();\n\n//# sourceURL=webpack:///./public/module/askStock/answerWindow.js?");

/***/ }),

/***/ "./public/module/count-down.js":
/*!*************************************!*\
  !*** ./public/module/count-down.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/* \r\n    倒计时\r\n    run({$el, done}) // 开始倒数\r\n    cancel() // 取消还原\r\n*/\n\nvar countDown = function () {\n    var timer = null;\n    var originValue = null; // 初始值\n    var el = null;\n\n    return {\n        run: function run(_ref) {\n            var $el = _ref.$el,\n                done = _ref.done;\n\n            el = $el;\n            originValue = el.text();\n            timer = setInterval(function () {\n                var value = +el.text();\n                if (value > 1) {\n                    value -= 1;\n                    el.text(value);\n                } else {\n                    if (typeof done == \"function\") {\n                        done();\n                    }\n                    countDown.cancel();\n                }\n            }, 1000);\n        },\n        cancel: function cancel() {\n            clearInterval(timer);\n            el.text(originValue);\n            timer = null;\n        }\n    };\n}();\n\nmodule.exports = countDown;\n\n//# sourceURL=webpack:///./public/module/count-down.js?");

/***/ }),

/***/ "./public/module/id-verify.js":
/*!************************************!*\
  !*** ./public/module/id-verify.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar IDVerify = function IDVerify(code) {\n    code = String(code);\n\n    var vcity = {\n        11: \"北京\",\n        12: \"天津\",\n        13: \"河北\",\n        14: \"山西\",\n        15: \"内蒙古\",\n        21: \"辽宁\",\n        22: \"吉林\",\n        23: \"黑龙江\",\n        31: \"上海\",\n        32: \"江苏\",\n        33: \"浙江\",\n        34: \"安徽\",\n        35: \"福建\",\n        36: \"江西\",\n        37: \"山东\",\n        41: \"河南\",\n        42: \"湖北\",\n        43: \"湖南\",\n        44: \"广东\",\n        45: \"广西\",\n        46: \"海南\",\n        50: \"重庆\",\n        51: \"四川\",\n        52: \"贵州\",\n        53: \"云南\",\n        54: \"西藏\",\n        61: \"陕西\",\n        62: \"甘肃\",\n        63: \"青海\",\n        64: \"宁夏\",\n        65: \"新疆\",\n        71: \"台湾\",\n        81: \"香港\",\n        82: \"澳门\",\n        91: \"国外\"\n    };\n\n    var checkcode = function checkcode(code) {\n        //是否为空  \n        if (!code || !iscodeNo(code) || !checkProvince(code) || !checkBirthday(code) || !checkParity(code)) {\n            return false;\n        }\n        return true;\n    };\n\n    //检查号码是否符合规范，包括长度，类型  \n    var iscodeNo = function iscodeNo(code) {\n        //身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X  \n        var reg = /(^\\d{15}$)|(^\\d{17}(\\d|X)$)/;\n        if (reg.test(code) === false) {\n            return false;\n        }\n        return true;\n    };\n\n    //取身份证前两位,校验省份  \n    var checkProvince = function checkProvince(code) {\n        var province = code.substr(0, 2);\n        if (vcity[province] == undefined) {\n            return false;\n        }\n        return true;\n    };\n\n    //检查生日是否正确  \n    var checkBirthday = function checkBirthday(code) {\n        var len = code.length;\n        //身份证15位时，次序为省（3位）市（3位）年（2位）月（2位）日（2位）校验位（3位），皆为数字  \n        if (len == '15') {\n            var re_fifteen = /^(\\d{6})(\\d{2})(\\d{2})(\\d{2})(\\d{3})$/;\n            var arr_data = code.match(re_fifteen);\n            var year = arr_data[2];\n            var month = arr_data[3];\n            var day = arr_data[4];\n            var birthday = new Date('19' + year + '/' + month + '/' + day);\n            return verifyBirthday('19' + year, month, day, birthday);\n        }\n        //身份证18位时，次序为省（3位）市（3位）年（4位）月（2位）日（2位）校验位（4位），校验位末尾可能为X  \n        if (len == '18') {\n            var re_eighteen = /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/;\n            var arr_data = code.match(re_eighteen);\n            var year = arr_data[2];\n            var month = arr_data[3];\n            var day = arr_data[4];\n            var birthday = new Date(year + '/' + month + '/' + day);\n            return verifyBirthday(year, month, day, birthday);\n        }\n        return false;\n    };\n\n    //校验日期  \n    var verifyBirthday = function verifyBirthday(year, month, day, birthday) {\n        var now = new Date();\n        var now_year = now.getFullYear();\n        //年月日是否合理  \n        if (birthday.getFullYear() == year && birthday.getMonth() + 1 == month && birthday.getDate() == day) {\n            //判断年份的范围（3岁到100岁之间)  \n            var time = now_year - year;\n            if (time >= 3 && time <= 100) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n\n    //校验位的检测  \n    var checkParity = function checkParity(code) {\n        //15位转18位  \n        code = changeFivteenToEighteen(code);\n        var len = code.length;\n        if (len == '18') {\n            var arrInt = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2);\n            var arrCh = new Array('1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2');\n            var codeTemp = 0,\n                i,\n                valnum;\n            for (i = 0; i < 17; i++) {\n                codeTemp += code.substr(i, 1) * arrInt[i];\n            }\n            valnum = arrCh[codeTemp % 11];\n            if (valnum == code.substr(17, 1)) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    };\n\n    //15位转18位身份证号  \n    var changeFivteenToEighteen = function changeFivteenToEighteen(code) {\n        if (code.length == '15') {\n            var arrInt = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2);\n            var arrCh = new Array('1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2');\n            var codeTemp = 0,\n                i;\n            code = code.substr(0, 6) + '19' + code.substr(6, code.length - 6);\n            for (i = 0; i < 17; i++) {\n                codeTemp += code.substr(i, 1) * arrInt[i];\n            }\n            code += arrCh[codeTemp % 11];\n            return code;\n        }\n        return code;\n    };\n\n    return checkcode(code);\n};\n\nmodule.exports = IDVerify;\n\n//# sourceURL=webpack:///./public/module/id-verify.js?");

/***/ }),

/***/ "./public/module/lib/errorCode.js":
/*!****************************************!*\
  !*** ./public/module/lib/errorCode.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = {\n    \"1\": \"请求成功\",\n    \"-1\": \"请求繁忙\",\n    \"10001\": \"股票代码不存在\",\n    \"10002\": \"查询条件为空\",\n    \"20001\": \"登录失效\",\n    \"20002\": \"token为空\",\n    \"20003\": \"用户名不存在\",\n    \"20004\": \"密码为空\",\n    \"20005\": \"密码不匹配\",\n    \"20006\": \"登录失败\",\n    \"20007\": \"用户不存在\",\n    \"20008\": \"操作失败\",\n    \"20009\": \"密码不一致\",\n    \"20010\": \"TOKEN 错误\",\n    \"20011\": \"参数错误\",\n    \"20012\": \"获取验证码失败\",\n    \"20013\": \"期刊ID为空\",\n    \"20014\": \"直播室ID为空\",\n    \"20015\": \"提问内容为空\",\n    \"20016\": \"直播室未开启\",\n    \"20017\": \"直播老师未关联直播室\",\n    \"20018\": \"期刊不存在\",\n    \"20019\": \"已在其他终端登陆\",\n    \"20020\": \"提问次数超出限制\",\n    \"20021\": \"该条问题已被采纳过\",\n    \"20022\": \"不是该问题提问人\",\n    \"30001\": \"手机验证码为空\",\n    \"30002\": \"验证码错误\",\n    \"30003\": \"手机验证码错误\",\n    \"30004\": \"账号已存在\",\n    \"30005\": \"注册异常\",\n    \"30006\": \"第三方第一次登录\",\n    \"30007\": \"第三方非法用户\",\n    \"30008\": \"手机号为空\",\n    \"30009\": \"手机号已被绑定\",\n    \"30010\": \"手机号错误\",\n    \"40001\": \"参数为空\",\n    \"40002\": \"服务器异常\",\n    \"40003\": \"已点赞\",\n    \"40004\": \"评论失败\",\n    \"40005\": \"起始值为空\",\n    \"40006\": \"查询失败\",\n    \"40007\": \"请求方向格式错误\",\n    \"40008\": \"用户自选股已经存在\",\n    \"40009\": \"关注\",\n    \"40010\": \"没有此股票信息\",\n    \"40011\": \"取消关注\",\n    \"40012\": \"直播老师不存在\",\n    \"40013\": \"股票代码和名称不匹配\",\n    \"40014\": \"买入股票时资本不够\",\n    \"50001\": \"消息为空\",\n    \"60000\": \"支付成功\",\n    \"60001\": \"商品ID为空\",\n    \"60002\": \"商品类型为空\",\n    \"60003\": \"订单类型为空\",\n    \"60004\": \"订单ID为空\",\n    \"60005\": \"订单不存在\",\n    \"60006\": \"支付失败\",\n    \"60007\": \"签名为空\",\n    \"60008\": \"未传支付密码\",\n    \"60009\": \"支付密码错误\",\n    \"60010\": \"账户余额不足\",\n    \"60011\": \"用户没有开通账户\",\n    \"60012\": \"支付密码格式不正确\",\n    \"60013\": \"充值来源错误\",\n    \"60014\": \"订单金额类型不存在\",\n    \"60015\": \"订单金额错误\",\n    \"60016\": \"产品购买数量错误\",\n    \"60017\": \"礼物不存在\",\n    \"60018\": \"商品类型不存在\",\n    \"60019\": \"商品不存在\",\n    \"60020\": \"商品已购买\",\n    \"60021\": \"商品已付款请等待客服人员与您联系\",\n    \"60022\": \"商品未购买\",\n    \"70001\": \"组合不存在\",\n    \"70002\": \"组合已技术评价\",\n    \"70003\": \"收益信息为空\",\n    \"70004\": \"委托记录为空\",\n    \"80000\": '该手机号被用户举报，涉嫌违规操作，目前不能注册账号',\n    \"90000\": \"身份证号格式验证不通过\",\n    \"90001\": \"已通过实名制验证\",\n    \"90002\": \"还没有进行实名制验证\",\n    \"90003\": \"还没有进行风险评估\",\n    \"90004\": \"当天实名验证次数到达上线\",\n    \"100003\": \"活动已过期\",\n    \"100005\": \"用户不符合活动条件\"\n};\n\n//# sourceURL=webpack:///./public/module/lib/errorCode.js?");

/***/ }),

/***/ "./public/module/lib/fn.js":
/*!*********************************!*\
  !*** ./public/module/lib/fn.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*  覆盖对象  */\n\nvar override = function override(source, target) {\n    if (!target) return source;\n    for (var key in source) {\n        if (target[key]) {\n            source[key] = target[key];\n        }\n    }\n    return source;\n};\n\nvar extend = override;\n\n/* 检测手机号 */\n\nvar isMobile = function isMobile(number) {\n    number = number.toString();\n    return (/^1[34578][0-9]{9}$/.test(number)\n    );\n};\n\n// 清除无效字符\nvar clear = function clear(str) {\n    if (typeof str != 'string') return str;\n    var match = str.match(/[\\u4e00-\\u9fa50-9a-zA-Z，。？：:（）]+/g);\n    if (!match) return str;\n    return match.join(\"\");\n};\n\n// 限制个数\nvar limit = function limit(str, len) {\n    if (typeof str != 'string') return str;\n    return str.length < len ? str : str.substr(0, len) + \"..\";\n};\n\n// 清除格式\nvar filterHTML = function filterHTML(str) {\n    if (typeof str != 'string') return str;\n    return str.replace(/<.+?>|&nbsp;/g, \"\");\n};\n\n/* \r\n    清除格式\r\n    str : 内容\r\n    len : 限制长度\r\n\r\n */\n\nvar clean = function clean(str, len) {\n    return limit(clear(filterHTML(str)), len);\n};\n\nvar stockPrefix = function stockPrefix(code) {\n    code = String(code);\n    var prefix = { \"0\": \"sz\", \"3\": \"sz\", \"6\": \"sh\" };\n    return prefix[code.substr(0, 1)] + code;\n};\n\n/* export */\n\nmodule.exports = {\n    override: override,\n    isMobile: isMobile,\n    filterHTML: filterHTML,\n    limit: limit,\n    clean: clean,\n    extend: extend,\n    clear: clear,\n    stockPrefix: stockPrefix\n};\n\n//# sourceURL=webpack:///./public/module/lib/fn.js?");

/***/ }),

/***/ "./public/module/lib/localData.js":
/*!****************************************!*\
  !*** ./public/module/lib/localData.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\r\n *\r\n *    本地缓存数据\r\n * \r\n * ---- get(key, {disable, timeout}) \r\n * \r\n *             key : localStorage中的key\r\n *             disable : Boolean , 是否禁用缓存, 默认false\r\n *             timeout :  Number , 缓存时间(单位:秒) , 默认5分钟\r\n *             return :  undefine || { data, valid } \r\n *\r\n *  ---- set(key, value)\r\n *          \r\n *  ---- joinKey  :　拼接对象值的为字符串 : 将查询字符作为key时使用\r\n *  \r\n *  \r\n *\r\n * \r\n */\n\nvar JSON = window.JSON || false;\nvar db = localStorage;\n\nvar set = function set(key, value) {\n    if (!(JSON && key)) return;\n    value = [_.now(), JSON.stringify(value)].join('@@@@');\n    db.setItem(key, value);\n};\n\nvar get = function get(key, ops) {\n\n    if (!(JSON && key)) return;\n\n    ops = _.extend({\n        disable: false,\n        timeout: 3000\n    }, ops);\n\n    var val = db.getItem(key);\n    if (!(val && /@@@@/.test(val))) return;\n\n    var split = val.split('@@@@');\n    var data = JSON.parse(split[1]);\n    var time = split[0];\n\n    // 判断是否超时\n    var valid = !ops.disable && _.now() - time <= ops.timeout * 1000;\n    return { data: data, valid: valid };\n};\n\nmodule.exports = {\n    set: set,\n    get: get,\n    joinKey: function joinKey(obj) {\n        var r = [];\n        for (var key in obj) {\n            r.push(String(obj[key]));\n        }\n        return r.join(\"\");\n    }\n};\n\n//# sourceURL=webpack:///./public/module/lib/localData.js?");

/***/ }),

/***/ "./public/module/lib/path.js":
/*!***********************************!*\
  !*** ./public/module/lib/path.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar liveDetailTable = {\n    composite: live_path + \"/html/liveDetail_composite.htm\"\n};\n\nmodule.exports = {\n\n    //首页\n\n    //组合\n    composite: {\n        portal: function portal() {\n            return __path + \"/html/returnCompositeJsp.htm\";\n        },\n        detail: function detail(compositeId, teacherId) {\n            teacherId = teacherId || \"YN\";\n            return __path + \"/html/CompositeDetail.htm?\" + teacherId + \"ZHXQ\" + compositeId;\n        },\n        create: function create(id) {\n            id = \"?EDIT\" + id || \"\";\n            return __path + \"/html/compositeCreate.htm\" + id;\n        }\n    },\n\n    //直播\n    live: {\n        detail: function detail(type) {\n            return liveDetailTable[type];\n        },\n        refer: function refer(id) {\n            return live_path + \"/live/liveDetailRefer.htm?teacherid=\" + id;\n        }\n    },\n\n    //内参\n    refer: {\n        detail: function detail(id) {\n            return __path + \"/referp/list.htm?referenceid=\" + id;\n        }\n    },\n\n    //支付\n    pay: function pay(order) {\n        return __path + \"/html/returnshortcutpayJsp.htm?orderNum=\" + order;\n    },\n\n    //视频\n    video: {\n        portal: video_path + \"/video/index.htm\",\n        detail: function detail(id) {\n            return video_path + \"/video/detail.htm?videoId=\" + id;\n        }\n    },\n\n    //个人中心\n    center: {\n        stock: __path + \"/myCenter/myCenter.htm\"\n    },\n\n    //资讯\n    news: {\n        portal: news_path + \"/article/index.htm\"\n    },\n\n    //观点\n\n    opinion: {\n        portal: opinion_path + \"/opinion\",\n        detail: function detail(id) {\n            return opinion_path + \"/opinion/\" + id + \".htm\";\n        }\n    }\n};\n\n//# sourceURL=webpack:///./public/module/lib/path.js?");

/***/ }),

/***/ "./public/module/qqface/main.js":
/*!**************************************!*\
  !*** ./public/module/qqface/main.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar elements = function elements() {\n\treturn \"<span class='qqface icon-d_aini' title='爱你'></span>\" + \"<span class='qqface icon-d_aoteman' title='奥特曼'></span>\" + \"<span class='qqface icon-d_baibai' title='拜拜'></span>\" + \"<span class='qqface icon-d_beishang' title='悲伤'></span>\" + \"<span class='qqface icon-d_bishi' title='鄙视'></span>\" + \"<span class='qqface icon-d_bizui' title='闭嘴'></span>\" + \"<span class='qqface icon-d_chanzui' title='馋嘴'></span>\" + \"<span class='qqface icon-d_chijing' title='吃惊'></span>\" + \"<span class='qqface icon-d_dahaqi' title='打哈气'></span>\" + \"<span class='qqface icon-d_dalian' title='打脸'></span>\" + \"<span class='qqface icon-d_ding' title='顶'></span>\" + \"<span class='qqface icon-d_doge' title='doge'></span>\" + \"<span class='qqface icon-d_feizao' title='肥皂'></span>\" + \"<span class='qqface icon-d_ganmao' title='感冒'></span>\" + \"<span class='qqface icon-d_guzhang' title='鼓掌'></span>\" + \"<span class='qqface icon-d_haha' title='哈哈'></span>\" + \"<span class='qqface icon-d_haixiu' title='害羞'></span>\" + \"<span class='qqface icon-d_han' title='汗'></span>\" + \"<span class='qqface icon-d_hehe' title='呵呵'></span>\" + \"<span class='qqface icon-d_heixian' title='黑线'></span>\" + \"<span class='qqface icon-d_heng' title='哼'></span>\" + \"<span class='qqface icon-d_huaxin' title='花心'></span>\" + \"<span class='qqface icon-d_huida' title='答'></span>\" + \"<span class='qqface icon-d_jiyan' title='挤眼'></span>\" + \"<span class='qqface icon-d_keai' title='可爱'></span>\" + \"<span class='qqface icon-d_kelian' title='可怜'></span>\" + \"<span class='qqface icon-d_ku' title='酷'></span>\" + \"<span class='qqface icon-d_kun' title='困'></span>\" + \"<span class='qqface icon-d_landelini' title='懒得理你'></span>\" + \"<span class='qqface icon-d_lei' title='泪'></span>\" + \"<span class='qqface icon-d_miao' title='喵喵'></span>\" + \"<span class='qqface icon-d_nanhaier' title='男孩儿'></span>\" + \"<span class='qqface icon-d_nu' title='怒'> </span>\" + \"<span class='qqface icon-d_numa' title='怒骂'></span>\" + \"<span class='qqface icon-d_nvhaier' title='女孩儿'></span>\" + \"<span class='qqface icon-d_qian' title='钱'></span>\" + \"<span class='qqface icon-d_qinqin' title='亲亲'></span>\" + \"<span class='qqface icon-d_shayan' title='傻眼'></span>\" + \"<span class='qqface icon-d_shengbing' title='生病'></span>\" + \"<span class='qqface icon-d_shenshou' title='草泥马'></span>\" + \"<span class='qqface icon-d_shiwang' title='失望'></span>\" + \"<span class='qqface icon-d_shuai' title='衰'></span>\" + \"<span class='qqface icon-d_shuijiao' title='睡觉'></span>\" + \"<span class='qqface icon-d_sikao' title='思考'></span>\" + \"<span class='qqface icon-d_taikaixin' title='太开心'></span>\" + \"<span class='qqface icon-d_touxiao' title='偷笑'></span>\" + \"<span class='qqface icon-d_tu' title='吐'> </span>\" + \"<span class='qqface icon-d_tuzi' title='兔子'></span>\" + \"<span class='qqface icon-d_wabishi' title='挖鼻屎'></span>\" + \"<span class='qqface icon-d_weiqu' title='委屈'></span>\" + \"<span class='qqface icon-d_wen' title='问'></span>\" + \"<span class='qqface icon-d_xiaoku' title='笑cry'></span>\" + \"<span class='qqface icon-d_xiongmao' title='熊猫'></span>\" + \"<span class='qqface icon-d_xixi' title='嘻嘻'></span>\" + \"<span class='qqface icon-d_xu' title='嘘'> </span>\" + \"<span class='qqface icon-d_yinxian' title='阴险'></span>\" + \"<span class='qqface icon-d_yiwen' title='疑问'></span>\" + \"<span class='qqface icon-d_youhengheng' title='右哼哼'></span>\" + \"<span class='qqface icon-d_yun' title='晕'></span>\" + \"<span class='qqface icon-d_zhuakuang' title='抓狂'></span>\" + \"<span class='qqface icon-d_zhutou' title='猪头'></span>\" + \"<span class='qqface icon-d_zuohengheng' title='左哼哼'></span>\" + \"<span class='qqface icon-f_geili' title='给力'></span>\" + \"<span class='qqface icon-f_hufen' title='互粉'></span>\" + \"<span class='qqface icon-f_jiong' title='囧'></span>\" + \"<span class='qqface icon-f_meng' title='萌'></span>\" + \"<span class='qqface icon-f_shenma' title='神马'></span>\" + \"<span class='qqface icon-f_v5' title='威武'> </span>\" + \"<span class='qqface icon-f_xi' title='喜'> </span>\" + \"<span class='qqface icon-f_zhi' title='织'></span>\" + \"<span class='qqface icon-h_buyao' title='不要'></span>\" + \"<span class='qqface icon-h_good' title='good'></span>\" + \"<span class='qqface icon-h_lai' title='来'></span>\" + \"<span class='qqface icon-h_ok' title='ok'> </span>\" + \"<span class='qqface icon-h_ruo' title='弱'></span>\" + \"<span class='qqface icon-h_woshou' title='握手'></span>\" + \"<span class='qqface icon-h_ye' title='耶'> </span>\" + \"<span class='qqface icon-h_zan' title='赞'></span>\" + \"<span class='qqface icon-h_zuoyi' title='作揖'></span>\" + \"<span class='qqface icon-l_shangxin' title='伤心'></span>\" + \"<span class='qqface icon-l_xin' title='心'></span>\" + \"<span class='qqface icon-o_dangao' title='蛋糕'></span>\" + \"<span class='qqface icon-o_feiji' title='飞机'></span>\" + \"<span class='qqface icon-o_ganbei' title='干杯'></span>\" + \"<span class='qqface icon-o_huatong' title='话筒'></span>\" + \"<span class='qqface icon-o_lazhu' title='蜡烛'></span>\" + \"<span class='qqface icon-o_liwu' title='礼物'></span>\" + \"<span class='qqface icon-o_lvsidai' title='绿丝带'></span>\" + \"<span class='qqface icon-o_weibo' title='围脖'></span>\" + \"<span class='qqface icon-o_weiguan' title='围观'></span>\" + \"<span class='qqface icon-o_yinyue' title='音乐'></span>\" + \"<span class='qqface icon-o_zhaoxiangji' title='照相机'></span>\" + \"<span class='qqface icon-o_zhong' title='钟'></span>\" + \"<span class='qqface icon-w_fuyun' title='浮云'></span>\" + \"<span class='qqface icon-w_shachenbao' title='沙尘暴'></span>\" + \"<span class='qqface icon-w_taiyang' title='太阳'></span>\" + \"<span class='qqface icon-w_weifeng' title='微风'></span>\" + \"<span class='qqface icon-w_xianhua' title='鲜花'></span>\" + \"<span class='qqface icon-w_xiayu' title='下雨'></span>\" + \"<span class='qqface icon-w_yueliang' title='月亮'></span>\";\n};\n\nvar dics = {\n\t呵呵: 'd_hehe',\n\t嘻嘻: 'd_xixi',\n\t哈哈: 'd_haha',\n\t爱你: 'd_aini',\n\t挖鼻屎: 'd_wabishi',\n\t吃惊: 'd_chijing',\n\t晕: 'd_yun',\n\t泪: 'd_lei',\n\t馋嘴: 'd_chanzui',\n\t抓狂: 'd_zhuakuang',\n\t哼: 'd_heng',\n\t可爱: 'd_keai',\n\t怒: 'd_nu',\n\t汗: 'd_han',\n\t害羞: 'd_haixiu',\n\t睡觉: 'd_shuijiao',\n\t钱: 'd_qian',\n\t偷笑: 'd_touxiao',\n\t笑cry: 'd_xiaoku',\n\tdoge: 'd_doge',\n\t喵喵: 'd_miao',\n\t酷: 'd_ku',\n\t衰: 'd_shuai',\n\t闭嘴: 'd_bizui',\n\t鄙视: 'd_bishi',\n\t花心: 'd_huaxin',\n\t鼓掌: 'd_guzhang',\n\t悲伤: 'd_beishang',\n\t思考: 'd_sikao',\n\t生病: 'd_shengbing',\n\t亲亲: 'd_qinqin',\n\t怒骂: 'd_numa',\n\t太开心: 'd_taikaixin',\n\t懒得理你: 'd_landelini',\n\t右哼哼: 'd_youhengheng',\n\t左哼哼: 'd_zuohengheng',\n\t嘘: 'd_xu',\n\t委屈: 'd_weiqu',\n\t吐: 'd_tu',\n\t可怜: 'd_kelian',\n\t打哈气: 'd_dahaqi',\n\t挤眼: 'd_jiyan',\n\t失望: 'd_shiwang',\n\t顶: 'd_ding',\n\t疑问: 'd_yiwen',\n\t困: 'd_kun',\n\t感冒: 'd_ganmao',\n\t拜拜: 'd_baibai',\n\t黑线: 'd_heixian',\n\t阴险: 'd_yinxian',\n\t打脸: 'd_dalian',\n\t傻眼: 'd_shayan',\n\t互粉: 'f_hufen',\n\t心: 'l_xin',\n\t伤心: 'l_shangxin',\n\t猪头: 'd_zhutou',\n\t熊猫: 'd_xiongmao',\n\t兔子: 'd_tuzi',\n\t握手: 'h_woshou',\n\t作揖: 'h_zuoyi',\n\t赞: 'h_zan',\n\t耶: 'h_ye',\n\tgood: 'h_good',\n\t弱: 'h_ruo',\n\t不要: 'h_buyao',\n\tok: 'h_ok',\n\thaha: 'h_haha',\n\t来: 'h_lai',\n\t威武: 'f_v5',\n\t鲜花: 'w_xianhua',\n\t钟: 'o_zhong',\n\t浮云: 'w_fuyun',\n\t飞机: 'o_feiji',\n\t月亮: 'w_yueliang',\n\t太阳: 'w_taiyang',\n\t微风: 'w_weifeng',\n\t下雨: 'w_xiayu',\n\t给力: 'f_geili',\n\t神马: 'f_shenma',\n\t围观: 'o_weiguan',\n\t话筒: 'o_huatong',\n\t奥特曼: 'd_aoteman',\n\t草泥马: 'd_shenshou',\n\t萌: 'f_meng',\n\t囧: 'f_jiong',\n\t织: 'f_zhi',\n\t礼物: 'o_liwu',\n\t喜: 'f_xi',\n\t围脖: 'o_weibo',\n\t音乐: 'o_yinyue',\n\t绿丝带: 'o_lvsidai',\n\t蛋糕: 'o_dangao',\n\t蜡烛: 'o_lazhu',\n\t干杯: 'o_ganbei',\n\t男孩儿: 'd_nanhaier',\n\t女孩儿: 'd_nvhaier',\n\t肥皂: 'd_feizao',\n\t照相机: 'o_zhaoxiangji',\n\t沙尘暴: 'w_shachenbao',\n\t问: 'd_wen',\n\t答: 'd_huida'\n};\n\n/**\r\n *  \r\n *  \r\n */\n\nvar instance; //单例对象\nvar cache_pos = {}; // 缓存计算结果\n\nvar createInstance = function createInstance() {\n\tvar tags = elements();\n\t$('body').append(\"<div id=\\\"qqface-container\\\" style=\\\"display:none;\\\">\" + tags + \"</div>\");\n\tvar container = $('#qqface-container');\n\n\tcontainer.click(function () {\n\t\treturn false;\n\t});\n\tdocument.onclick = function () {\n\t\treturn container.hide();\n\t};\n\n\t// 点击表情回调\n\tcontainer.on('click', '.qqface', function () {\n\t\tvar title = $(this).attr('title');\n\t\tinstance.onclick(\"[\" + title + \"]\");\n\t\tcontainer.hide();\n\t\treturn false;\n\t});\n\n\treturn {\n\t\t/**\r\n         * 显示表情\r\n         * \r\n         * @param {String} id ID属性\r\n         * @param {Function} onclick(title) 点击表情时回调\r\n         * @param title 表情的key\r\n         * @param ops {\r\n         *     left: Number 横向偏移的距离\r\n         *     top: Number 纵向偏移的距离\r\n         * }\r\n         * @return void\r\n         * \r\n         */\n\n\t\trender: function render(id, onclick, ops) {\n\t\t\tvar offset_left = 0;\n\t\t\tvar offset_top = 0;\n\n\t\t\tif (ops) {\n\t\t\t\toffset_left = ops.left;\n\t\t\t\toffset_top = ops.top;\n\t\t\t}\n\n\t\t\tvar trigger = $(\"#\" + id);\n\n\t\t\tif (!trigger.get(0)) {\n\t\t\t\tthrow new error('没找到相应的ID');\n\t\t\t}\n\t\t\tinstance.onclick = onclick || function () {\n\t\t\t\tthrow new error('onclick参数未定义');\n\t\t\t};\n\t\t\tcontainer.show();\n\t\t\tif (!cache_pos[id]) {\n\t\t\t\t// 缓存计算结果\n\t\t\t\tvar height = container.outerHeight(true);\n\t\t\t\tvar width = container.outerWidth(true);\n\t\t\t\tcache_pos[id] = {\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: width,\n\t\t\t\t\ttop: trigger.offset().top - height - 10 + offset_top,\n\t\t\t\t\tleft: trigger.offset().left - width / 2 + offset_left\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar _cache_pos$id = cache_pos[id],\n\t\t\t    left = _cache_pos$id.left,\n\t\t\t    top = _cache_pos$id.top;\n\n\t\t\tcontainer.css({ left: left, top: top });\n\t\t},\n\n\n\t\t/**\r\n         * 表情的title到fileName的转换\r\n         * \r\n         * @param {String} key 表情的title: [哈哈] \r\n         * @returns {String} 表情的文件名称 : d_haha\r\n         */\n\n\t\ttitleToName: function titleToName(key) {\n\t\t\tvar _key = key.replace(/[\\[\\]]/g, '');\n\t\t\treturn dics[_key] ? dics[_key] : '';\n\t\t}\n\t};\n};\n\nvar FACE = {\n\tgetInstance: function getInstance() {\n\t\tif (!instance) {\n\t\t\tinstance = createInstance();\n\t\t}\n\t\treturn instance;\n\t}\n};\n\nmodule.exports = FACE;\n\n//# sourceURL=webpack:///./public/module/qqface/main.js?");

/***/ }),

/***/ "./public/module/ui/pay-animation.css":
/*!********************************************!*\
  !*** ./public/module/ui/pay-animation.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../node_modules/_css-loader@1.0.0@css-loader!./pay-animation.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/module/ui/pay-animation.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4e98909a\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/module/ui/pay-animation.css?");

/***/ }),

/***/ "./public/module/ui/pay-animation.js":
/*!*******************************************!*\
  !*** ./public/module/ui/pay-animation.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/* \r\n\t打赏效果展示\r\n\r\n\tvar card = new Card({\r\n\t\tavatar: String, -- 头像\r\n\t\ttitle: String, -- 标题\r\n\t\tsub: String, -- 子标题\r\n\t\tgift: String -- 礼物图片\r\n\t\tcount: Number -- 礼物数量\r\n\t})\r\n\r\n\tcard.animate({\r\n\t\ttype: String -- 动画类型\r\n\t\tduration: Number  -- 动画时长\r\n\t})\r\n\t\r\n */\n\n__webpack_require__(/*! ./pay-animation.css */ \"./public/module/ui/pay-animation.css\");\n\nvar index = 1;\n\nvar createElement = function createElement(item) {\n    return \"<div class=\\\"pay-show-item\\\" id=\\\"\" + item.id + \"\\\">\\n\\t\\t\\t\\t<div class=\\\"avatar\\\"><img src=\\\"\" + item.avatar + \"\\\" /></div>\\n\\t\\t\\t\\t<div class=\\\"info\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"title\\\">\" + item.title + \"</div>\\n\\t\\t\\t\\t\\t<div class=\\\"sub\\\">\" + item.sub + \"</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"gift\\\"><img src=\\\"\" + item.gift + \"\\\" /></div>\\n\\t\\t\\t\\t<div class=\\\"count\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"icon\\\">X</span>\\n\\t\\t\\t\\t\\t<span class=\\\"value\\\">\" + item.count + \"</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\";\n};\n\nvar Card = function Card(ops) {\n\n    var id = \"pay-animation-\" + index++;\n    ops = _.extend({\n        id: id,\n        avatar: \"http://101.201.41.116:8080/public/upload/user/20160725/20160725152444777.jpg\",\n        title: \"股友赠送礼物\",\n        sub: \"鲜花\",\n        gift: \"http://101.201.41.116:8080/public/upload/gift/20170224/20170224152813910.png\",\n        count: \"1\"\n    }, ops);\n\n    $('body').append(createElement(ops));\n    this.el = $(\"#\" + id);\n};\n\nCard.prototype = {\n\n    animate: function animate(ops) {\n        ops = _.extend({\n            type: \"move\",\n            duration: 15000\n        }, ops);\n\n        var self = this;\n        var top = _.range(1, 6) * 10;\n\n        this.el.velocity({\n            left: '120%'\n        }, {\n            duration: ops.duration,\n            complete: function complete() {\n                self = null;\n            }\n        });\n    }\n};\n\nmodule.exports = Card;\n\n//# sourceURL=webpack:///./public/module/ui/pay-animation.js?");

/***/ }),

/***/ "./public/module/ui/pay-any-package.js":
/*!*********************************************!*\
  !*** ./public/module/ui/pay-any-package.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar payAny = __webpack_require__(/*! m/ui/pay-any.js */ \"./public/module/ui/pay-any.js\");\nvar payConfirm = __webpack_require__(/*! m/ui/pay-confirm-v1.2.js */ \"./public/module/ui/pay-confirm-v1.2.js\");\nvar error = __webpack_require__(/*! m/lib/errorCode.js */ \"./public/module/lib/errorCode.js\");\n\n/*\r\n约投顾支付模块\r\nvar Confirm = require(../pay-any-package.js)\r\n\r\n1.随意赏 + 支付确认\r\nConfirm.render({\r\n    teacherId: Number,   老师ID\r\n    name: '直播送礼...',\r\n    finish: true/false,  是否显示支付完成/支付遇到问题步骤\r\n    callback: function(){}\r\n})\r\n\r\n2.only支付确认窗口\r\nConfirm.payconfirm({\r\n    name: '观点打赏...',\r\n    price: number,\r\n    orderNum: number,   订单号必传\r\n    finish: true/false,\r\n    success: function(){}   支付成功回调\r\n})\r\n */\nvar params = {};\nmodule.exports = {\n    render: function render(ops) {\n        console.log('osp', ops);\n        var self = this;\n        params = _.extend({\n            type: 0,\n            id: null,\n            name: '',\n            callback: null\n        }, ops);\n        if (!params.teacherId) {\n            layer.msg(\"pay : teacherId不能为空\");\n            return;\n        }\n\n        // 显示随意赏窗口\n        payAny.getInstance().render({\n            onSubmit: function onSubmit(number) {\n\n                // 获取订单号 \n                var isOpinion = params.type == 0;\n                var getData = isOpinion ? getOpinionOrder : getGiftOrder;\n                getData({ teacherId: params.teacherId, number: number, id: params.id }, function (back) {\n                    if (back.status == \"1\") {\n                        params.url = \"/html/returnshortcutpayJsp.htm?orderNum=\" + back.data.orderNum;\n                        params.orderNum = back.data.orderNum;\n                        params.price = number;\n                        self.payconfirm(params);\n                    }\n                });\n            }\n\n        });\n    },\n    payconfirm: function payconfirm(ops) {\n        // 显示支付确认\n        payConfirm.getInstance().render({\n            type: ops.type,\n            price: ops.price,\n            link: ops.url,\n            referenceid: ops.referenceid,\n            userid: ops.userid,\n            orderNum: ops.orderNum,\n            finish: ops.finish,\n            read: ops.read,\n            orderid: ops.orderid,\n            success: ops.success,\n            useNB: ops.useNB\n        });\n    }\n};\n\n/**\r\n * 获取礼物打赏订单\r\n * {teacherId, number}\r\n */\nvar getGiftOrder = function getGiftOrder(ops, callback) {\n\n    // 随意赏=获取红包ID\n    $.getJSON(\"/gift/giftList.htm\", function (back) {\n        var data = _.filter(back, function (item) {\n            return item.gift_name == \"红包\";\n        })[0];\n        var giftId = data.gift_id;\n\n        // 获取订单号\n        $.post(\"/app/appGiftPayOrder.htm\", {\n            pay_source: \"0\", //web端\n            goodsType: \"5\", //直播\n            teacherId: ops.teacherId,\n            buy_number: ops.number, //支付总价\n            giftId: giftId, //随意赏=送红包\n            sum: ops.number\n        }, function (back) {\n            if (+back.status == 1) {\n                typeof callback == 'function' && callback(back);\n                return;\n            }\n            layer.msg(error[back.status]);\n        }, 'json');\n    });\n};\n\n/**\r\n * 获取观点打赏订单\r\n * {teacherId, number, id}\r\n */\nvar getOpinionOrder = function getOpinionOrder(ops, callback) {\n    $.post(\"/app/appRewardPayOrder.htm\", {\n        goodsId: ops.id, // 观点ID\n        goodsType: 0, //商品类型(0观点，1组合，2课程，3礼物，4内参 5:问股 6 直播)\n        totalPrice: ops.number, //支付总价\n        pay_source: 0, //来源 0web 1ios 2android\n        teacherId: ops.teacherId //老师ID\n    }, function (back) {\n        if (+back.status == 1) {\n            typeof callback == 'function' && callback(back);\n            return;\n        }\n        layer.msg(error[back.status]);\n    }, 'json');\n};\n\n//# sourceURL=webpack:///./public/module/ui/pay-any-package.js?");

/***/ }),

/***/ "./public/module/ui/pay-any.js":
/*!*************************************!*\
  !*** ./public/module/ui/pay-any.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\r\n *  随意赏弹窗\r\n *  var pay = require('m/lib/pay-any.js')\t// 导入模块\r\n *  var instance = pay.getInstance()\t\t// 创建/获取实例\r\n *  instance.render({\r\n *  \tonSubmit : price => {\r\n *  \t\t//点击立即打赏时的回调函数\r\n *  \t}\r\n *  })\r\n */\n\nvar fn = __webpack_require__(/*! m/lib/fn.js */ \"./public/module/lib/fn.js\");\n\nmodule.exports = function () {\n\n    var instance = null;\n\n    /* create instance */\n    var createInstance = function createInstance() {\n\n        $('body').append(createElement());\n\n        var container = $('#playtour');\n        var input = container.find('input');\n        var balance = 0; //账户余额\n        var $balance = container.find('.balance-value');\n\n        yn.centerBox(container);\n\n        /* event */\n\n        // 关闭\n        container.find('.close').click(function (e) {\n            return container.hide();\n        });\n\n        // 快捷输入\n        container.find('.support-short-item').click(function () {\n            $(this).addClass('thistype').siblings('.thistype').removeClass('thistype');\n            input.val($(this).data('type'));\n        });\n\n        // 立即打赏\n        container.find('.submit').click(function (e) {\n\n            //验证价格\n            var val = _.trim(input.val());\n            if (!/^[1-9][0-9]*$/.test(val)) {\n                return layer.msg(\"客官，真的不能再少了!\");\n            }\n\n            // 验证余额\n            // if (balance < 1) {\n            //     return layer.msg(\"可用余额不足,请充值\")\n            // }\n\n            container.hide();\n            instance.onSubmit && instance.onSubmit(+val);\n        });\n\n        return {\n            render: function render(ops) {\n\n                _.extend(this, ops);\n\n                // 查询余额\n                getBalance().done(function (data) {\n                    $balance.text(data.balance);\n                    balance = +data.balance;\n                    // console.log($balance,data.balance,balance)\n                });\n\n                // 重置\n                input.val(\"\");\n                $('.support-short-item.thistype').removeClass('thistype');\n\n                container.velocity('transition.expandIn', { duration: 300 });\n            }\n        };\n    };\n\n    /* single */\n    return {\n        getInstance: function getInstance() {\n            if (!instance) instance = createInstance();\n            return instance;\n        }\n    };\n}();\n\n/*///////////////////////////////////////////////////////////////////*/\n\n// 查询账户余额\nvar getBalance = function getBalance() {\n    var defer = $.Deferred();\n    $.getJSON('/useraccount/pay_useraccountDetail.htm', {\n        user_id: ynUserId\n    }, function (data) {\n        return defer.resolve(data);\n    });\n    return defer.promise();\n};\n\n// 创建标签\nvar createElement = function createElement() {\n    return '<div id=\"playtour\" class=\"hide\">\\n\\t\\t        <p class=\"title-1\">\\u6253\\u8D4F<span>\\uFF08\\u672C\\u6B21\\u4EA4\\u6613\\u514D\\u5BC6\\u7801\\uFF09</span></p>\\n\\t\\t        <i class=\"close fa fa-times-circle fa-2x\"></i>\\n\\t\\t        <div class=\"wrap\">\\n\\t\\t            <div class=\"getPrice\">\\n\\t\\t                <div class=\"group\">\\n\\t\\t                    <span class=\"support-short-item\" data-type=\"2\">2\\u725B\\u5E01</br><font>\\uFF08\\u7B49\\u4EF72\\u5143\\uFF09</font></span>\\n\\t\\t                    <span class=\"support-short-item\" data-type=\"16\">16\\u725B\\u5E01</br><font>\\uFF08\\u7B49\\u4EF716\\u5143\\uFF09</font></span>\\n\\t\\t                    <span class=\"support-short-item\" data-type=\"58\">58\\u725B\\u5E01</br><font>\\uFF08\\u7B49\\u4EF758\\u5143\\uFF09</font></span>\\n\\t\\t                </div>\\n\\t\\t                <div class=\"pleases\">\\n\\t\\t                    <span>\\u968F\\u610F\\u8D4F:</span>\\n\\t\\t                    <input type=\"text\" placeholder=\"\\u8BF7\\u8F93\\u5165\\u6574\\u6570(\\u5355\\u4F4D:\\u5143)\"/>\\n\\t\\t                    <span>\\u725B\\u5E01</span>\\n\\t\\t                </div>\\n\\t\\t                <p class=\"balance clear\">\\n\\t\\t                \\t<span class=\"fl\" id=\"support-surplus\">\\u53EF\\u7528\\u4F59\\u989D\\n\\t\\t                \\t<strong style=\\'margin:0 5px; color:red;\\' class=\"balance-value\">0</strong>\\u725B\\u5E01</span>\\n\\t\\t                \\t<a href=\"/html/recharge.htm\" class=\"gopay fr\" target=\"_blank\">\\u4F59\\u989D\\u4E0D\\u8DB3\\uFF1F\\u53BB\\u5145\\u503C</a>\\n\\t\\t                </p>\\n\\t\\t                <div class=\"info\">\\n\\t\\t                    <span>\\u8D60\\u9001\\u65E0\\u6094\\uFF0C\\u6982\\u4E0D\\u9000\\u6B3E</span>\\n\\t\\t                    <span class=\"submit fr\">\\u7ACB\\u5373\\u6253\\u8D4F</span>\\n\\t\\t                </div>\\n\\t\\t            </div>\\n\\t\\t        </div>\\n\\t\\t    </div>';\n};\n\n//# sourceURL=webpack:///./public/module/ui/pay-any.js?");

/***/ }),

/***/ "./public/module/ui/pay-confirm-v1.2.js":
/*!**********************************************!*\
  !*** ./public/module/ui/pay-confirm-v1.2.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\r\n * 支付确认窗口\r\n    confirm.render({\r\n        name: String, 支付项目名称\r\n        price: String, 价格\r\n        link: String, 立即支付链接\r\n        success: Function, 支付成功回调\r\n        fail:Function 支付失败回调,\r\n        read: Boolean, 是否默认勾选风险揭示书\r\n        finish: Boolean 是否显示支付完成确认窗口\r\n    })\r\n */\n\n__webpack_require__(/*! ./pay-confirm.css */ \"./public/module/ui/pay-confirm.css\");\n\nvar ErrorCode = __webpack_require__(/*! ../lib/errorCode.js */ \"./public/module/lib/errorCode.js\");\n\nvar orderType = {\n\t0: '观点打赏',\n\t1: '组合',\n\t2: '课程',\n\t3: '内参订阅',\n\t4: '股票提问',\n\t5: '直播送礼',\n\t6: 'vip直播室'\n};\n\nmodule.exports = function () {\n\tvar instance = null;\n\n\tvar createInstance = function createInstance() {\n\t\tvar container,\n\t\t    box,\n\t\t    confirm,\n\t\t    tip,\n\t\t    name,\n\t\t    price,\n\t\t    link,\n\t\t    orderNum,\n\t\t    agreeTip,\n\t\t    items,\n\t\t    orderValue,\n\t\t    finish,\n\t\t    typeBalance,\n\t\t    ops = {\n\t\t\tname: '支付名称',\n\t\t\tprice: 0,\n\t\t\tlink: '#',\n\t\t\tfinish: true,\n\t\t\tsuccess: function success() {\n\t\t\t\tlayer.msg('支付成功');\n\t\t\t},\n\t\t\tfail: function fail() {\n\t\t\t\tlayer.msg('支付尚未完成');\n\t\t\t}\n\t\t};\n\n\t\tvar payStatus = null; //支付状态\n\t\tvar accountRemain = 0; //账户余额\n\t\tvar payType = 'balance'; // 默认支付类型\n\t\tvar goodsType = ''; // 订单类型\n\t\tvar OrderNum = null;\n\n\t\t$('body').append(createElement());\n\n\t\tcontainer = $('.pay-confirm-overlay');\n\t\tbox = container.find('.pay-confirm-box');\n\t\tconfirm = $('.pay-item-confirm');\n\t\ttip = container.find('.pay-item-tip');\n\t\tname = container.find('.name .value');\n\t\tprice = container.find('.price .value');\n\t\tlink = $('#pay-confirm-link');\n\t\torderNum = container.find('.orderNum-value');\n\t\tagreeTip = container.find('.agree-tip');\n\t\titems = container.find('.defray-item');\n\t\ttypeBalance = container.find('.type-nb');\n\n\t\t//关闭\n\t\tcontainer.on('click', '.close', function () {\n\t\t\t$.post('/web/getPayStatus.htm', { orderNum: OrderNum }, function (data) {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t\tif (data.status == '1' && (data.data == '6' || data.data == '1')) {\n\t\t\t\t\tops.success();\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.hide();\n\t\t\treset();\n\t\t});\n\n\t\t// //立即支付\n\t\t// container.on('click', '.jump', function() {\n\t\t//     if (ops.finish) {\n\t\t//         confirm.hide();\n\t\t//         tip.show();\n\t\t//     } else {\n\t\t//         container.hide()\n\t\t//     }\n\t\t// })\n\n\t\t//支付完成\n\t\ttip.on('click', '.finish', function () {\n\t\t\t$.post('/web/getPayStatus.htm', { orderNum: OrderNum }, function (data) {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t\tif (data.status == '1' && (data.data == '6' || data.data == '1')) {\n\t\t\t\t\tcontainer.hide().velocity('transition.bounceDownOut', { duration: 300 });\n\t\t\t\t\treset();\n\t\t\t\t\tops.success();\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.velocity('callout.shake', { duration: 300 });\n\t\t\t\t\tops.fail(data);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tvar reset = function reset() {\n\t\t\tconfirm.show();\n\t\t\ttip.hide();\n\t\t\tcontainer.find('.defray-item.type-nb').removeClass('disable');\n\t\t\tagreeTip.hide().find('.tip-wrap').html('');\n\t\t};\n\t\treset();\n\n\t\t//支付类型\n\t\tvar strategy = {\n\t\t\tbalance: function balance() {\n\t\t\t\tif (+accountRemain < 1) {\n\t\t\t\t\tlayer.msg('余额不足,系统将自动跳转充值页面');\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\twindow.location.href = '/html/recharge.htm';\n\t\t\t\t\t}, 2000);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$.post('/reward/rewardTheacher.htm', { orderNum: orderValue }, function (data) {\n\t\t\t\t\tif (data == 'success') {\n\t\t\t\t\t\tlayer.msg('支付成功!');\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// layer.msg(`余额不足, 页面即将跳转到充值页面`);\n\t\t\t\t\t// setTimeout(function() {\n\t\t\t\t\t//     window.location.href = \"/html/recharge.htm\"\n\t\t\t\t\t// }, 1000)\n\t\t\t\t});\n\t\t\t},\n\n\t\t\twechat: function wechat() {\n\t\t\t\twindow.open('/html/recharge.htm?pay_type=0&orderNum=' + orderValue);\n\t\t\t\t// window.location.href = '/html/recharge.htm?pay_type=0&orderNum=' + orderValue;\n\t\t\t},\n\t\t\talipay: function alipay() {\n\t\t\t\twindow.open('/html/recharge.htm?pay_type=1&orderNum=' + orderValue);\n\t\t\t}\n\t\t};\n\n\t\t//切换支付类型\n\t\tcontainer.on('click', '.defray-item', function () {\n\t\t\tif ($(this).hasClass('disable')) return;\n\t\t\tpayType = $(this).data('source');\n\t\t\tconsole.log('=payType=', payType);\n\t\t\t$(this).addClass('thisclass').siblings().removeClass('thisclass');\n\t\t});\n\n\t\t//确认支付\n\t\tcontainer.on('click', '.jump', function () {\n\t\t\tconsole.log('payType', payType);\n\t\t\tif (ynIsTeacher) {\n\t\t\t\treturn layer.msg('老师不能购买~');\n\t\t\t}\n\t\t\t// link.off('click');\n\t\t\tif (agreeTip.is(':visible')) {\n\t\t\t\tvar flag = agreeTip.find('input').is(':checked');\n\t\t\t\tif (!flag && goodsType == 3) {\n\t\t\t\t\tlayer.msg('请先阅读并同意《风险揭示书》《服务使用协议》');\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (!flag && goodsType == 4) {\n\t\t\t\t\treturn layer.msg('请先阅读并同意《约投顾问股服务协议》');\n\t\t\t\t}\n\t\t\t}\n\t\t\tstrategy[payType]();\n\t\t\tif (finish) {\n\t\t\t\tconfirm.hide();\n\t\t\t\ttip.show();\n\t\t\t} else {\n\t\t\t\tcontainer.hide();\n\t\t\t\treset();\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\trender: function render(options) {\n\t\t\t\tvar self = this;\n\t\t\t\t_.extend(ops, options);\n\t\t\t\tOrderNum = ops.orderNum;\n\t\t\t\t// 赋值\n\t\t\t\tname.text(orderType[ops.type]);\n\t\t\t\tprice.text(ops.price);\n\t\t\t\torderNum.text(ops.orderNum);\n\t\t\t\tconsole.log('=ops=', ops);\n\t\t\t\tif (!ops.useNB) {\n\t\t\t\t\tself.delBanlance();\n\t\t\t\t} else {\n\t\t\t\t\ttypeBalance.show();\n\t\t\t\t\t//查询账户余额\n\t\t\t\t\t$.getJSON('/useraccount/pay_useraccountDetail.htm', { user_id: ynUserId }, function (data) {\n\t\t\t\t\t\taccountRemain = +data.balance;\n\t\t\t\t\t\tcontainer.find('.yn-balance-value').html('可用余额' + data.balance + '牛币');\n\t\t\t\t\t\tif (data.balance < ops.price) {\n\t\t\t\t\t\t\t//余额不足时  不能选余额支付，默认微信支付\n\t\t\t\t\t\t\tcontainer.find('.defray-item.type-wx').click();\n\t\t\t\t\t\t\tcontainer.find('.defray-item.type-nb').addClass('disable');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontainer.find('.defray-item.type-nb').click();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.orderType(ops.type);\n\t\t\t\tgoodsType = ops.type;\n\t\t\t\torderValue = ops.orderNum;\n\t\t\t\tfinish = ops.finish;\n\n\t\t\t\t//风险揭示书默认打钩\n\t\t\t\tif (ops.read) {\n\t\t\t\t\tagreeTip.find('input').attr('checked', true);\n\t\t\t\t}\n\n\t\t\t\tcontainer.show().velocity('transition.fadeIn', { duration: 300 });\n\t\t\t\tbox.velocity('transition.swoopIn', { duration: 300 });\n\n\t\t\t\t// //查询订单信息\n\t\t\t\t// $.post('/web/getPayOrderInfo.htm', { orderNum }, data => {\n\t\t\t\t//     //     console.log(\"订单信息\", data)\n\t\t\t\t//     goodsType = data.goodsType;\n\t\t\t\t//     orderInfo = data;\n\t\t\t\t//     if (+goodsType == 6) { //goodsType = 6是购买VIP直播室，不能用牛币支付\n\t\t\t\t//         items.eq(0).remove();\n\t\t\t\t//     }\n\t\t\t\t// }, 'json')\n\t\t\t},\n\t\t\tdelBanlance: function delBanlance() {\n\t\t\t\ttypeBalance.hide();\n\t\t\t\tcontainer.find('.defray-item.type-wx').click();\n\t\t\t},\n\t\t\torderType: function orderType(n) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (n == 3) {\n\t\t\t\t\t//0观点，1组合，2课程，3 内参 4:问股 5 直播 6vip直播室\n\t\t\t\t\tagreeTip.show();\n\t\t\t\t\tcontainer.find('.tip-wrap').html('\\n                        <a href=\"/protocol.htm?orderid=' + ops.orderid + '&referenceid=' + ops.referenceid + '\" class=\"risk agree\" target=\"_blank\"><span class=\"blue\">\\u300A\\u98CE\\u9669\\u63ED\\u793A\\u4E66\\u300B</span></a>\\n                        <a href=\"/agreement.htm?orderid=' + ops.orderid + '&referenceid=' + ops.referenceid + '\" class=\"service agree\" target=\"_blank\"><span class=\"blue\">\\u300A\\u670D\\u52A1\\u4F7F\\u7528\\u534F\\u8BAE\\u300B</span></a>');\n\t\t\t\t\tself.delBanlance();\n\t\t\t\t}\n\t\t\t\tif (n == 4) {\n\t\t\t\t\tagreeTip.show();\n\t\t\t\t\tcontainer.find('.tip-wrap').html('<a href=\"/ask-agreement.htm\" class=\"ask agree\" target=\"_blank\"><span class=\"blue\">\\u300A\\u7EA6\\u6295\\u987E\\u95EE\\u80A1\\u670D\\u52A1\\u534F\\u8BAE\\u300B</span></a>');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\treturn {\n\t\tgetInstance: function getInstance() {\n\t\t\tif (!instance) {\n\t\t\t\tinstance = createInstance();\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t};\n}();\n\n/*///////////////////////////////////////////////////////////////////*/\n\nvar createElement = function createElement() {\n\treturn ' <div class=\"pay-confirm-overlay\">\\n        <div class=\"pay-confirm-box\">\\n            <div class=\"title\">\\u652F\\u4ED8\\u786E\\u8BA4</div>\\n            <span class=\"close\"></span>\\n            <div class=\"content\">\\n                <div class=\"pay-item pay-item-confirm\">\\n                    <div class=\"payment\">\\n                        <div class=\"price\">\\u652F\\u4ED8\\u91D1\\u989D<span class=\"inline fr colorRed\">\\uFFE5<strong class=\"value inline\"></strong></span></div>\\n                        <div class=\"name\">\\u8BA2\\u5355\\u63CF\\u8FF0<span class=\"value fr\"></span></div>\\n                        <div class=\"orderNum\">\\u8BA2\\u5355\\u7F16\\u53F7<span class=\"orderNum-value fr\"></span></div>\\n                    </div>\\n                    <div class=\"defray-content\">\\n                        <!-- \\u4F59\\u989D\\u652F\\u4ED8 -->\\n                        <div data-source=\"balance\" class=\"defray-item clear type-nb\">\\n                            <div class=\"rounded fr\">\\n                                <label for=\"roundedOne\"></label>\\n                            </div>\\n                            <div class=\"defray_radio defray-balance clear fl\">\\n                                <div class=\"apyphoto fl\"></div>\\n                                <div class=\"yn_pay fl\">\\n                                    <p class=\"pay-title\" style=\"position:relative;top:-6px;\">\\u4F59\\u989D\\u652F\\u4ED8<i class=\"balance-icon\"></i><i class=\"balance-arrow\"></i><span class=\"yn_balance\"><span class=\"yn-balance-value\"></span><a href=\"/html/recharge.htm\" class=\"colorRed\" target=\"_blank\">\\u53BB\\u5145\\u503C</a> </span></p>\\n                                </div>\\n                            </div>\\n                        </div>\\n\\n                        <!-- \\u5FAE\\u4FE1\\u652F\\u4ED8 -->\\n                        <div data-source=\"wechat\" class=\"defray-item clear type-wx\">\\n                            <div class=\"rounded fr\">\\n                                <!--<input type=\"radio\" id=\"roundedTwo\" name=\"radio\">-->\\n                                <label for=\"roundedTwo\" class=\"label-wx\"></label>\\n                            </div>\\n                            <div class=\"defray_radio defray-wechat clear fl\">\\n                                <div class=\"apyphoto fl\"></div>\\n                                <div class=\"yn_pay fl\">\\n                                    <span class=\"pay-title\">\\u5FAE\\u4FE1\\u652F\\u4ED8</span>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <!-- \\u652F\\u4ED8\\u5B9D -->\\n                        <div data-source=\"alipay\" class=\"defray-item clear type-alipay\">\\n                            <div class=\"rounded fr thisclass \">\\n                                <!--<input type=\"radio\" id=\"roundedThree\" name=\"radio\">-->\\n                                <label for=\"roundedThree\" class=\"label-alipay\"></label>\\n                            </div>\\n                            <div class=\"defray_radio defray-alipay clear fl\">\\n                                <div class=\"apyphoto fl\"></div>\\n                                <div class=\"yn_pay fl inline\">\\n                                    <span class=\"pay-title\">\\u652F\\u4ED8\\u5B9D\\u652F\\u4ED8</span>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\"agree-tip clear hide\">\\n                        <span class=\"agree\"><input type=\"checkbox\"/><span class=\"txt\">\\u6211\\u5DF2\\u9605\\u8BFB\\u5E76\\u540C\\u610F</span></span>\\n                        <span class=\"tip-wrap\"><span>\\n                    </div>\\n                    <div class=\"submits\">\\n                        <a id=\"pay-confirm-link\" class=\"pay-btn jump\" target=\"_blank\">\\u786E\\u8BA4\\u652F\\u4ED8</a>\\n                    </div>\\n                </div>\\n                <div class=\"pay-item pay-item-tip hide\">\\n                    <div class=\"payment\">\\n                        <p>\\u652F\\u4ED8\\u5B8C\\u6210\\u524D\\uFF0C\\u8BF7\\u4E0D\\u8981\\u5173\\u95ED\\u6B64\\u652F\\u4ED8\\u9A8C\\u8BC1\\u7A97\\u53E3</p>\\n                        <p><strong>\\u8BF7\\u57282\\u5C0F\\u65F6\\u5185\\u652F\\u4ED8\\uFF0C\\u8D85\\u65F6\\u5C06\\u5173\\u95ED\\u8BA2\\u5355</strong></p>\\n                        <div class=\"submits\">\\n                            <a class=\"wrong pay-btn\" href=\"http://us.yuetougu.com/help.htm\" target=\"_blank\">\\u652F\\u4ED8\\u9047\\u5230\\u95EE\\u9898</a>\\n                            <a class=\"finish pay-btn\">\\u652F\\u4ED8\\u5B8C\\u6210</a>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>';\n};\n\n//# sourceURL=webpack:///./public/module/ui/pay-confirm-v1.2.js?");

/***/ }),

/***/ "./public/module/ui/pay-confirm.css":
/*!******************************************!*\
  !*** ./public/module/ui/pay-confirm.css ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../node_modules/_css-loader@1.0.0@css-loader!./pay-confirm.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/module/ui/pay-confirm.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"79c6aef3\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/module/ui/pay-confirm.css?");

/***/ }),

/***/ "./public/module/ui/stockList-1.2.js":
/*!*******************************************!*\
  !*** ./public/module/ui/stockList-1.2.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\r\n显示股票列表\r\n    \r\nvar instance = require('../module/ui/stockList-1.2.js');\r\ninstance.get().render(ops);\r\n\r\n    参数含义\r\n    ops = {\r\n        id: String --- 容器的ID(position = relative)\r\n        listLen: Number, --- 列表长度(最大为10),\r\n        left: Number, --- 定位(位置偏移值),\r\n        top: Number, --- 定位(位置偏移值),\r\n        onSelect({\r\n            stockCode: String, --- 股票代码\r\n            stockName: String, --- 股票名称\r\n            stockPinyin: String, --- 股票拼音\r\n            stockWrap: String --- $000001平安银行$\r\n        }): Function --- 回调函数\r\n    }\r\n\r\n\r\n    示例\r\n    stockList.get().render({\r\n        id: 'showStockList',\r\n        onSelect: (item, trigger) => {\r\n            trigger.val('')\r\n            alert(item.stockWrap)\r\n        }\r\n    })\r\n\r\n*/\n\n__webpack_require__(/*! ./stockList.css */ \"./public/module/ui/stockList.css\");\nvar local = __webpack_require__(/*! m/lib/localData.js */ \"./public/module/lib/localData.js\");\n\nmodule.exports = function () {\n    var instance,\n        domCache = {};\n\n    // 创建实例\n    var createInstance = function createInstance() {\n\n        var isValidCode = function isValidCode(val) {\n            var a = /^[a-zA-Z]{2,5}$/.test(val); //拼音2-5\n            var b = /^[036][0-9]{2,5}$/.test(val); //数字3-6\n            return a || b;\n        };\n\n        // 本地缓存前10条查询结果, 7天更新一次\n        var getData = function getData(code, callback) {\n            var key = 'query-stock-' + code;\n            var cache = local.get(key, { timeout: 3600 * 24 * 7 });\n            if (cache && cache.valid) {\n                callback(cache.data);\n                return;\n            }\n            $.getJSON('/queryStock.htm?stockcode=' + code, function (back) {\n                if (back && back.length > 0) {\n                    var data = _.take(back, 10);\n                    callback(data);\n                    local.set(key, data);\n                }\n            });\n        };\n\n        var createTags = function createTags(arr, ops) {\n            var prefixs = { 0: \"深市\", 3: \"深市\", 6: \"沪市\" };\n            var tbody = _.map(arr, function (item) {\n                var place = prefixs[String(item.stockcode).substr(0, 1)];\n                return '<tr class=\"ynStockList\"> \\n                            <td class=\"place\">' + place + '</td> \\n                            <td class=\"stock_code\">' + item.stockcode + '</td> \\n                            <td class=\"stock_name\">' + item.stockname + '</td> \\n                            <td class=\"pinyin\">' + item.pinyin + '</td> \\n                          </tr>';\n            }).join(\"\");\n            return '<table>' + tbody + '</table>';\n        };\n\n        //  实例方法\n        return {\n            render: function render(ops) {\n                // 参数\n                ops = _.extend({\n                    listLen: 5,\n                    left: 0,\n                    top: 0,\n                    onSelect: function onSelect() {}\n                }, ops);\n\n                var e = {\n                    trigger: null,\n                    left: null,\n                    top: null,\n                    parent: null,\n                    $list: null\n\n                    // 如果DOM缓存可用, 则使用缓存\n                };if (domCache[ops.id]) {\n                    _.extend(e, domCache[ops.id]);\n                } else {\n                    e.trigger = $('#' + ops.id);\n                    e.left = ops.left + \"px\";\n                    e.top = e.trigger.height() + ops.top + \"px\";\n                    e.parent = e.trigger.parent();\n                    e.parent.append('<div class=\"ynStcokListSpacial absolute\" style=\"left:' + e.left + ';top:' + e.top + '\"></div>');\n                    e.$list = e.parent.find('.ynStcokListSpacial'); // 股票列表对象\n\n                    // 缓存DOM\n                    domCache[ops.id] = e;\n                }\n\n                $(document).click(function () {\n                    return e.$list.hide();\n                });\n\n                // 点击股票时回调\n                e.parent.on('click', 'tr.ynStockList', function () {\n                    e.$list.hide();\n                    var code = $(this).find('.stock_code').text();\n                    var name = $(this).find('.stock_name').text();\n                    var pinyin = $(this).find('.pinyin').text();\n\n                    ops.onSelect({\n                        stockCode: code,\n                        stockName: name,\n                        stockPinyin: pinyin,\n                        stockWrap: '$' + code + name + '$'\n                    }, e.trigger);\n                    return false;\n                });\n\n                // 监听键盘\n                e.trigger.on('keyup', _.debounce(function () {\n                    var val = $(this).val();\n\n                    // 检查是否为有效股票代码\n                    if (!isValidCode(val)) {\n                        e.$list.hide();\n                        return;\n                    }\n                    getData(val, function (back) {\n                        var data = _.take(back, +ops.listLen); // 截取长度\n                        e.$list.show().html(createTags(data, ops));\n                    });\n                }, 300, { leading: false, trailing: true }));\n            }\n        };\n    };\n\n    // 返回单例\n    return {\n        get: function get() {\n            if (!instance) {\n                instance = createInstance();\n            }\n            return instance;\n        }\n    };\n}();\n\n//# sourceURL=webpack:///./public/module/ui/stockList-1.2.js?");

/***/ }),

/***/ "./public/module/ui/stockList.css":
/*!****************************************!*\
  !*** ./public/module/ui/stockList.css ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../node_modules/_css-loader@1.0.0@css-loader!./stockList.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/module/ui/stockList.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"db708b5a\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/module/ui/stockList.css?");

/***/ }),

/***/ "./public/v2/base/askWindow.css":
/*!**************************************!*\
  !*** ./public/v2/base/askWindow.css ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../node_modules/_css-loader@1.0.0@css-loader!./askWindow.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/v2/base/askWindow.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0c9fd220\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/v2/base/askWindow.css?");

/***/ }),

/***/ "./public/v2/base/askWindow.js":
/*!*************************************!*\
  !*** ./public/v2/base/askWindow.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * 提问窗口\n\n1.导入模块\n<%@  include file=\"../v2/base/moudule-ask.jsp\" %>\nvar askWindow = require('../v2/base/askWindow.js') \n\n$(function(){\n\n    2.初始化\n    askWindow.init(); \n\n    3.1 弹出对话框\n    askWindow.render();\n\n    3.2 弹出对话框并选中某个老师\n    askWindow.render({\n        select: { id:String,  name:String}\n    }) \n\n    3.3 邀请回答\n    askWindow.render({\n        invite: { nubmer: Number } //问题流水号\n    }) \n\n    3.4 不能选择某些老师\n    askWindow.render({\n        filter:[] //老师ID数组\n    }) \n})\n\n/*/ //////////////////////////////////////////////////////////////////*/\n\nvar PayModule = __webpack_require__(/*! m/ui/pay-any-package.js */ \"./public/module/ui/pay-any-package.js\"); //支付模块  pay-confirm-v1.2.js   pay-any.js'\nvar Path = __webpack_require__(/*! ~/lib/path.js */ \"./public/module/lib/path.js\");\n__webpack_require__(/*! ./askWindow.css */ \"./public/v2/base/askWindow.css\");\nvar queryStock = __webpack_require__(/*! base/query-stock.js */ \"./public/v2/base/query-stock.js\");\nvar stockList = __webpack_require__(/*! base/stockList-1.2.js */ \"./public/v2/base/stockList-1.2.js\");\nvar error = __webpack_require__(/*! e/error-type */ \"./enum/error-type.js\");\n\nvar container,\n    questionBar,\n    guideWin,\n    //提问次数不足时引导直播弹窗\noption,\n    //渲染的选项\ncanAskTimes = 3,\n    //可提问次数\nfilterTeachers,\n    //所有不应显示的老师\naskSuccess,\n    //提问成功弹窗\naskTimes,\n    aimedTeacher,\n    aimTeacherid;\n\n/*///////////////////////////////////////////////////////////////////*/\n/*submit*/\nfunction SubmitQuestion(send) {\n\t$.post('/consultation/questionNote.htm', send, function (data) {\n\t\tdata = JSON.parse(data);\n\t\tif (data.status == '80000') {\n\t\t\treturn layer.msg('该账号被用户举报，涉嫌违规操作，目前不能向投顾问股');\n\t\t} else if (data == '80001') {\n\t\t\treturn layer.msg('您输入的内容违反相关规定，不能予以展示!');\n\t\t} else if (data.status == '1') {\n\t\t\t// textarea.trigger('keyup');\n\t\t\taskStockSuccess();\n\t\t\t// self.onClick && self.onClick({\n\t\t\t//     success: 'success'\n\t\t\t// })\n\t\t} else {\n\t\t\treturn layer.msg(error[data.status]);\n\t\t}\n\t});\n}\n\nfunction askStockSuccess() {\n\taskSuccess.show();\n\tsetTimeout(function () {\n\t\taskSuccess.hide();\n\t}, 3000);\n}\n\n/*支付*/\nfunction pay(params) {\n\t$.post('/app/appRewardPayOrder.htm', params, function (back) {\n\t\t// if (back.status == 60011) {\n\t\t//     layer.msg(\"用户没有开通账户!请联系客服!\")\n\t\t// }\n\t\t// if (back.status == 60023) {\n\t\t//     return layer.msg(\"商品购买时间已过\")\n\t\t// }\n\t\tif (back.status != 1) {\n\t\t\treturn layer.msg(error[back.status]);\n\t\t}\n\t\tif (back.status == 1) {\n\t\t\tPayModule.payconfirm({\n\t\t\t\ttype: '4', //0观点，1组合，2课程，3 内参 4:问股 5 直播 6vip直播室\n\t\t\t\tprice: params.totalPrice,\n\t\t\t\t// referenceid: __data.id,\n\t\t\t\tuserid: ynUserId,\n\t\t\t\torderid: back.data.orderid,\n\t\t\t\tlink: Path.pay(back.data.orderNum),\n\t\t\t\torderNum: back.data.orderNum,\n\t\t\t\tfinish: true,\n\t\t\t\tread: false,\n\t\t\t\tuseNB: false, //是否能用牛币\n\t\t\t\tsuccess: function success() {\n\t\t\t\t\treturn askStockSuccess();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, 'json');\n}\n\nfunction init() {\n\tcontainer = $('#askTeacherWindow');\n\tquestionBar = $('#questionField');\n\tguideWin = $('#askNoTimesWin');\n\taskSuccess = $('#askSuccess');\n\taimedTeacher = $('#askAimedTeacher'); //针对某个老师提问\n\tseachBar.init();\n\ttextarea.init();\n\tstockTrend.init();\n\ttextareaAimed.init();\n\tstockTrendAimed.init();\n\tsearchResult.init();\n\tonlineTeacher.init();\n\tonlyInvite.init();\n\tshowStockList.init();\n\tshowStockListAimed.init();\n\twordCount();\n\twordCountAimed();\n\tlayoutBox();\n\n\tcontainer.on('click', '.close-win', function () {\n\t\tcontainer.parent('#askTeacher-wrap').hide();\n\t\treset();\n\t});\n\n\taimedTeacher.on('click', '.aim-close-win', function () {\n\t\taimedTeacher.parent('#askAimed-wrap').hide();\n\t\treset();\n\t});\n\n\t//关闭提问成功弹窗\n\taskSuccess.on('click', function () {\n\t\taskSuccess.hide();\n\t});\n\n\t//关闭引导直播窗口\n\tguideWin.on('click', '.ask-close', function () {\n\t\tguideWin.hide();\n\t});\n\n\t//interactive\n\tseachBar.onChange = function (data) {\n\t\treturn searchResult.render(data);\n\t};\n\tseachBar.onMax = function () {\n\t\treturn searchResult.hide();\n\t};\n\tsearchResult.onSelect = function (data) {\n\t\treturn seachBar.append({\n\t\t\tid: data.id,\n\t\t\tname: data.name,\n\t\t\tprice: data.price\n\t\t});\n\t};\n\tonlineTeacher.onSelect = function (data) {\n\t\tseachBar.append({\n\t\t\tid: data.id,\n\t\t\tname: data.name,\n\t\t\tprice: data.price\n\t\t});\n\t};\n\n\t//提问提交\n\tcontainer.on('click', '.submit button', function () {\n\t\tvar errorHandle = {\n\t\t\tseachBar: function seachBar() {\n\t\t\t\treturn layer.msg('请选择投资顾问');\n\t\t\t},\n\t\t\ttextarea: function textarea() {\n\t\t\t\treturn layer.msg('请输入您的问题');\n\t\t\t}\n\t\t};\n\n\t\tvar query = [{ key: 'seachBar', assert: seachBar.assert() }, { key: 'textarea', assert: textarea.assert() }];\n\n\t\tvar errorItem = _.find(query, function (item) {\n\t\t\treturn item.assert;\n\t\t});\n\t\tif (errorItem) {\n\t\t\terrorHandle[errorItem.key]();\n\t\t\treturn;\n\t\t}\n\n\t\tif (textarea.getValue().trim().length < 3) {\n\t\t\treturn layer.msg('提问至少3个字');\n\t\t}\n\t\tcontainer.parent('#askTeacher-wrap').hide();\n\t\tvar totalPrice = seachBar.getValue().price;\n\t\tif (askTimes < 1 && totalPrice != 0) {\n\t\t\tvar params = {\n\t\t\t\tpay_source: 0,\n\t\t\t\tgoodsType: 4, //0观点，1组合，2课程，3 内参 4:问股 5 直播 6vip直播室\n\t\t\t\ttotalPrice: seachBar.getValue().price,\n\t\t\t\tteacherId: seachBar.getValue().result,\n\t\t\t\tquestioncontent: textarea.getValue(),\n\t\t\t\tstockcode: stockTrend.getValue().code,\n\t\t\t\tstockname: stockTrend.getValue().name\n\t\t\t};\n\t\t\tpay(params);\n\t\t} else {\n\t\t\tvar send = {\n\t\t\t\tquestionuserid: ynUserId,\n\t\t\t\tteacherids: seachBar.getValue().result,\n\t\t\t\tquestioncontent: textarea.getValue(),\n\t\t\t\tstockcode: stockTrend.getValue().code,\n\t\t\t\tstockname: stockTrend.getValue().name,\n\t\t\t\tnote_source: 0 // 来源\n\t\t\t};\n\t\t\tSubmitQuestion(send);\n\t\t}\n\t\treset();\n\t});\n\n\t//提问某个老师 提交\n\taimedTeacher.on('click', '.aim-submit', function () {\n\t\tvar val = aimedTeacher.find('#textarea').val().trim();\n\t\tif (val.length < 3) {\n\t\t\treturn layer.msg('提问至少3个字');\n\t\t}\n\t\taimedTeacher.parent('#askAimed-wrap').hide();\n\t\tvar totalPrice = seachBar.getValue().price;\n\t\tif (askTimes < 1 && totalPrice != 0) {\n\t\t\tvar price = aimedTeacher.find('.aim-line .aim-num').text().trim(); //显示次数\n\t\t\tvar params = {\n\t\t\t\tpay_source: 0,\n\t\t\t\tgoodsType: 4, //0观点，1组合，2课程，3 内参 4:问股 5 直播 6vip直播室\n\t\t\t\ttotalPrice: price,\n\t\t\t\tteacherId: aimTeacherid,\n\t\t\t\tquestioncontent: val,\n\t\t\t\tstockcode: stockTrendAimed.getValue().code,\n\t\t\t\tstockname: stockTrendAimed.getValue().name\n\t\t\t};\n\t\t\tpay(params);\n\t\t\treset();\n\t\t} else {\n\t\t\tvar send = {\n\t\t\t\tquestionuserid: ynUserId,\n\t\t\t\tteacherids: aimTeacherid,\n\t\t\t\tquestioncontent: val,\n\t\t\t\tstockcode: stockTrendAimed.getValue().code,\n\t\t\t\tstockname: stockTrendAimed.getValue().name,\n\t\t\t\tnote_source: 0 // 来源\n\t\t\t};\n\t\t\tSubmitQuestion(send);\n\t\t\treset();\n\t\t}\n\t});\n\n\t//邀请提交\n\tcontainer.on('click', '.invite-submit', function () {\n\t\tcontainer.hide();\n\t\tvar send = {\n\t\t\tquestionuserid: ynUserId,\n\t\t\tteacherids: seachBar.getValue().result,\n\t\t\tnote_billno: option.invite.number\n\t\t};\n\t\t$.post('/consultation/invitationTeacher.htm', send, function (data) {\n\t\t\tlayer.msg(data == 'success' ? '邀请成功' : '\\u9519\\u8BEF:' + data);\n\t\t});\n\t});\n}\n\n// 动画\nvar addFn = function addFn() {\n\t$.fn.extend({\n\t\tanimateCss: function animateCss(animationName) {\n\t\t\tvar animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n\t\t\tthis.addClass('animated ' + animationName).one(animationEnd, function () {\n\t\t\t\t$(this).removeClass('animated ' + animationName);\n\t\t\t});\n\t\t}\n\t});\n};\n\nfunction render(ops) {\n\tif (!ynIsLogin) return yn.login.render();\n\tif (ynTeacherId) return layer.msg('老师不能提问!');\n\toption = _.extend({\n\t\tselect: false, //向某个老师提问\n\t\tinvite: false, //是否为邀请回答\n\t\tfilter: [] //过滤数组, 这里的老师不会出现在列表中(已经回答过的老师/已经邀请过的老师)\n\t}, ops);\n\n\t//处理选项\n\tvar optionHandler = {\n\t\tselect: function select() {\n\t\t\treturn seachBar.add({ id: option.select.id, name: option.select.name });\n\t\t},\n\t\tinvite: function invite() {\n\t\t\tquestionBar.hide();\n\t\t\tonlyInvite.show();\n\t\t}\n\t};\n\tqueryAskTimes(function (count) {\n\t\treset();\n\t\t// container.show().velocity('transition.expandIn', { duration: 300 });\n\t\tanimate();\n\t\tcontainer.parent('#askTeacher-wrap').fadeIn();\n\t\tcontainer.parent('#askTeacher-wrap').show();\n\t\tcontainer.find('.times .value').text(count); //显示次数\n\t\toption.select && optionHandler.select(); //选中老师\n\t\toption.invite && optionHandler.invite(); //如果是邀请回答\n\t\toption.filter.push(ynTeacherId);\n\t\tfilterTeachers = function () {\n\t\t\tvar temp = option.filter.join('-');\n\t\t\treturn '-' + temp + '-';\n\t\t}();\n\t\tonlineTeacher.render();\n\t});\n}\n\nvar animate = function animate() {\n\tvar box = $('#askTeacherWindow');\n\tif (!box.hasOwnProperty('animateCss')) {}\n\taddFn();\n\tbox.animateCss('zoomIn');\n};\n\n//重置\nfunction reset() {\n\tquestionBar.show();\n\ttextarea.clear();\n\tseachBar.clear();\n\tsearchResult.hide();\n\tonlyInvite.hide();\n\tstockTrend.hide();\n\taimedTeacher.find('textarea').val('');\n\tstockTrendAimed.hide();\n\t$('#ask-win-stock').val('');\n\t$('#stockCode').val('');\n\tcontainer.find('.wordCount .value').html(200);\n\taimedTeacher.find('.aim-word .aim-count').html(200);\n}\n\nvar onlyInvite = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tvar _this = this;\n\n\t\t\tel.container = container.find('.onlyInvite');\n\t\t\tel.button = el.container.find('button');\n\t\t\tel.button.click(function () {\n\t\t\t\treturn _this.onSubmit();\n\t\t\t});\n\t\t},\n\t\tshow: function show() {\n\t\t\treturn el.container.show();\n\t\t},\n\t\thide: function hide() {\n\t\t\treturn el.container.hide();\n\t\t},\n\t\tonSubmit: function onSubmit() {\n\t\t\treturn log('onSubmit is not override...');\n\t\t}\n\t};\n}();\n\n//搜索栏\nvar seachBar = function () {\n\tvar el = {\n\t\tcontainer: null,\n\t\tselect: null,\n\t\tinput: null,\n\t\tprice: null\n\t};\n\tvar selected = [];\n\tvar createItem = function createItem(id, name) {\n\t\treturn '<span class=\"item\" data-id=\"' + id + '\">@' + name + '<i class=\"fa fa-times-circle close-invite\"></i></span>';\n\t};\n\n\t//查询所有老师\n\tvar queryTeacher = function queryTeacher(key) {\n\t\tkey = key || '';\n\t\tvar defer = $.Deferred();\n\t\t$.getJSON('/consultation/queryLikeTeacher.htm', { likename: key }, function (data) {\n\t\t\treturn defer.resolve(data);\n\t\t});\n\t\treturn defer.promise();\n\t};\n\n\tvar errorHandleTable = {\n\t\texist: function exist() {\n\t\t\treturn layer.msg('已存在');\n\t\t},\n\t\t// \"full\": () => layer.msg(\"最多能邀请三位投顾回答!\"),\n\t\tself: function self() {\n\t\t\treturn layer.msg('不能向自己提问');\n\t\t}\n\t};\n\n\treturn {\n\t\tinit: function init() {\n\t\t\tvar self = this;\n\t\t\tel.container = container.find('.invite');\n\t\t\tel.select = el.container.find('.select');\n\t\t\tel.input = el.container.find('input');\n\t\t\tel.price = el.container.find('.price-num');\n\n\t\t\t//删除选择\n\t\t\tel.container.on('click', '.close-invite', function () {\n\t\t\t\tvar parent = $(this).parent();\n\t\t\t\tvar id = parent.data('id');\n\t\t\t\tparent.remove();\n\t\t\t\tvar index = _.indexOf(selected, id);\n\t\t\t\tselected.splice(index, 1);\n\t\t\t\tel.input.show();\n\t\t\t\tel.price.html(0);\n\t\t\t});\n\n\t\t\t//搜索\n\t\t\tel.input.keyup(_.debounce(function () {\n\t\t\t\tvar val = $(this).val().replace('@', '');\n\t\t\t\tif (!/[\\u4e00-\\u9fa5]+/.test(val)) return;\n\t\t\t\tqueryTeacher(val).done(function (data) {\n\t\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t\tself.onChange(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, 1000)).focus(function () {\n\t\t\t\treturn queryTeacher('').done(function (data) {\n\t\t\t\t\treturn self.onChange(data);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// 清空搜索字符\n\t\t\tel.input.blur(function () {\n\t\t\t\t$(this).val('');\n\t\t\t});\n\t\t},\n\n\t\t//清空\n\t\tclear: function clear() {\n\t\t\tel.input.val('');\n\t\t\tel.select.empty();\n\t\t\tselected = [];\n\t\t\tel.input.show();\n\t\t\tel.price.html('0');\n\t\t},\n\n\t\t//添加\n\t\tadd: function add(info) {\n\t\t\tif (+info.id == +ynTeacherId) {\n\t\t\t\terrorHandleTable.self();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tel.select.html(createItem(info.id, info.name));\n\t\t\tel.price.html(info.price);\n\t\t\t// selected.push(+info.id); //转成数字\n\t\t\tselected.splice(0, 1, info.id);\n\t\t\tel.input.hide();\n\t\t},\n\n\t\tappend: function append(info) {\n\t\t\tvar query = [{ key: 'self', assert: +info.id == +ynTeacherId }, { key: 'exist', assert: _.indexOf(selected, info.id) != -1\n\t\t\t\t// { key: \"full\", assert: selected.length == 3 }\n\t\t\t}];\n\t\t\tvar errItem = _.find(query, function (item) {\n\t\t\t\treturn item.assert;\n\t\t\t});\n\t\t\tif (errItem) {\n\t\t\t\terrorHandleTable[errItem.key]();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tel.price.html(info.price);\n\t\t\tel.select.html(createItem(info.id, info.name));\n\t\t\t// selected.push(info.id);\n\t\t\tselected.splice(0, 1, info.id);\n\t\t\tel.input.hide();\n\t\t\t// if (selected.length == 3) {\n\t\t\t//     this.onMax()\n\t\t\t// }\n\t\t},\n\t\tgetValue: function getValue() {\n\t\t\t//获取邀请的老师id\n\t\t\tvar price = el.price.html();\n\t\t\tconsole.log('=price=', price);\n\t\t\tvar result = '';\n\t\t\tel.select.find('.item').each(function () {\n\t\t\t\tresult += $(this).data('id') + '&';\n\t\t\t});\n\t\t\treturn { result: result.replace(/&$/, ''), price: price };\n\t\t},\n\t\tassert: function assert() {\n\t\t\treturn el.select.find('.item').length < 1;\n\t\t}, //验证\n\t\tonChange: function onChange() {\n\t\t\treturn log('onChange  note override...');\n\t\t},\n\t\tonMax: function onMax() {\n\t\t\treturn log('onMax : note override...');\n\t\t}\n\t};\n}();\n\n//搜索结果\nvar searchResult = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar self = this;\n\t\t\tel.container = container.find('.list');\n\t\t\tel.title = el.container.find('.info .value');\n\t\t\tel.items = el.container.find('.list-wrap');\n\n\t\t\tel.container.on('click', '.close', function () {\n\t\t\t\treturn _this2.hide();\n\t\t\t});\n\t\t\tel.container.on('click', '.item', function () {\n\t\t\t\tvar teacherId = $(this).data('id');\n\t\t\t\tvar name = $(this).data('name');\n\t\t\t\tgetPrice({ teacherId: teacherId }).done(function (data) {\n\t\t\t\t\tvar price = data.data;\n\t\t\t\t\tself.onSelect({\n\t\t\t\t\t\tid: teacherId,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tprice: price\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\trender: function render(data) {\n\t\t\tthis.show();\n\t\t\tvar rows = data.data.list;\n\t\t\tel.title.text(rows.length);\n\t\t\trows = _.filter(rows, function (item) {\n\t\t\t\treturn filterTeachers.indexOf('-' + item.answeruserid + '-') == -1;\n\t\t\t});\n\t\t\tel.items.html(template('online-teacher-template', rows));\n\t\t},\n\t\tonSelect: function onSelect(data) {\n\t\t\treturn log('error : searchResult onSelect is not override...');\n\t\t},\n\t\tshow: function show() {\n\t\t\treturn el.container.show();\n\t\t},\n\t\thide: function hide() {\n\t\t\treturn el.container.hide();\n\t\t}\n\t};\n}();\n\n//内容栏\nvar textarea = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tel.input = container.find('textarea');\n\t\t\tel.input.keyup(function () {\n\t\t\t\tvar val = $(this).val();\n\t\t\t\tparseStock(val, function (info) {\n\t\t\t\t\treturn info ? stockTrend.render(info) : stockTrend.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclear: function clear() {\n\t\t\tel.input.val('');\n\t\t},\n\t\tgetValue: function getValue() {\n\t\t\treturn el.input.val();\n\t\t},\n\t\tassert: function assert() {\n\t\t\treturn !_.trim(el.input.val());\n\t\t}\n\t};\n}();\n\n//股票趋势判断\nvar stockTrend = function () {\n\tvar el = {},\n\t    code = '',\n\t    name = '';\n\treturn {\n\t\tinit: function init() {\n\t\t\tel.container = container.find('.msg');\n\t\t\tel.code = el.container.find('.msg-code');\n\t\t},\n\t\thide: function hide() {\n\t\t\tel.container.hide();\n\t\t\tcode = name = '';\n\t\t},\n\t\trender: function render(info) {\n\t\t\tcode = info.code;\n\t\t\tname = info.name;\n\t\t\tel.code.text(code + name);\n\t\t\tel.container.show();\n\t\t},\n\t\tgetValue: function getValue() {\n\t\t\treturn { code: code, name: name };\n\t\t}\n\t};\n}();\n\n//内容栏\nvar textareaAimed = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tel.input = aimedTeacher.find('textarea');\n\t\t\tel.input.keyup(function () {\n\t\t\t\tvar val = $(this).val();\n\t\t\t\tparseStock(val, function (info) {\n\t\t\t\t\treturn info ? stockTrendAimed.render(info) : stockTrendAimed.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclear: function clear() {\n\t\t\tel.input.val('');\n\t\t},\n\t\tgetValue: function getValue() {\n\t\t\treturn el.input.val();\n\t\t},\n\t\tassert: function assert() {\n\t\t\treturn !_.trim(el.input.val());\n\t\t}\n\t};\n}();\n\n//股票趋势判断\nvar stockTrendAimed = function () {\n\tvar el = {},\n\t    code = '',\n\t    name = '';\n\treturn {\n\t\tinit: function init() {\n\t\t\tel.container = aimedTeacher.find('.aim-msg');\n\t\t\tel.code = el.container.find('.msg-code');\n\t\t},\n\t\thide: function hide() {\n\t\t\tel.container.hide();\n\t\t\tcode = name = '';\n\t\t},\n\t\trender: function render(info) {\n\t\t\tcode = info.code;\n\t\t\tname = info.name;\n\t\t\tel.code.text(code + name);\n\t\t\tel.container.show();\n\t\t},\n\t\tgetValue: function getValue() {\n\t\t\treturn { code: code, name: name };\n\t\t}\n\t};\n}();\n\n//获取老师提问价格\nfunction getPrice(ops) {\n\tvar defer = $.Deferred();\n\t$.getJSON('/teacher/getQuestionsPrice.htm', ops, function (back) {\n\t\tif (back.status == 1) {\n\t\t\tdefer.resolve(back);\n\t\t} else (function () {\n\t\t\treturn layer.msg(error[back.status]);\n\t\t});\n\t});\n\treturn defer.promise();\n}\n\n//在线老师\nvar onlineTeacher = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tvar self = this;\n\t\t\tel.items = container.find('.right .items');\n\t\t\tel.items.on('click', '.item', function () {\n\t\t\t\tvar teacherId = $(this).data('id');\n\t\t\t\tvar name = $(this).data('name');\n\t\t\t\tgetPrice({ teacherId: teacherId }).done(function (data) {\n\t\t\t\t\tvar price = data.data;\n\t\t\t\t\tself.onSelect({\n\t\t\t\t\t\tid: teacherId,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tprice: price\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\trender: function render() {\n\t\t\t$.getJSON('/consultation/queryOnlineTeacher.htm?pageSize=20&currentPage=1&userid=' + ynUserId, function (data) {\n\t\t\t\tif (data.status == 1) {\n\t\t\t\t\tvar rows = data.data.list;\n\t\t\t\t\trows = _.filter(rows, function (item) {\n\t\t\t\t\t\treturn filterTeachers.indexOf('-' + item.answeruserid + '-') == -1;\n\t\t\t\t\t});\n\t\t\t\t\tel.items.html(template('online-teacher-template', rows));\n\t\t\t\t} else (function () {\n\t\t\t\t\treturn layer.msg(error[data.status]);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tonSelect: function onSelect() {\n\t\t\treturn log('onlineTeacher select...');\n\t\t}\n\t};\n}();\n\n/*///////////////////////////////////////////////////////////////////*/\n\n//查询提问剩余次数\nfunction queryAskTimes(callback) {\n\tif (!ynIsLogin) {\n\t\tyn.login.render();\n\t\treturn;\n\t}\n\n\t$.getJSON('/consultation/queryTodayQuestionCount.htm', {\n\t\tquestionuserid: ynUserId,\n\t\tt: timestamp()\n\t}, function (data) {\n\t\tif (data.status == 1) {\n\t\t\taskTimes = canAskTimes - +data.data;\n\t\t\taskTimes = askTimes < 1 ? 0 : askTimes;\n\t\t\tcallback(askTimes);\n\t\t} else {\n\t\t\treturn layer.msg(error[data.status]);\n\t\t}\n\t});\n}\n\nvar timestamp = function timestamp() {\n\treturn new Date().getTime();\n};\n\n//字数统计\nfunction wordCount() {\n\tvar trigger = container.find('textarea');\n\tvar el = container.find('.wordCount .value');\n\tyn.wordCount(trigger, {\n\t\tindicate: el\n\t});\n}\n\n//字数统计\nfunction wordCountAimed() {\n\tvar trigger = aimedTeacher.find('textarea');\n\tcontainer.find('.wordCount .value');\n\tvar el = aimedTeacher.find('.aim-word .aim-count');\n\tyn.wordCount(trigger, {\n\t\tindicate: el\n\t});\n}\n//显示股票列表\nvar showStockList = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tel.input = container.find('.stockList');\n\t\t\tel.target = container.find('textarea');\n\t\t\tstockList.get().render({\n\t\t\t\tid: 'ask-win-stock',\n\t\t\t\ttop: 42,\n\t\t\t\tonSelect: function onSelect(item, trigger) {\n\t\t\t\t\ttrigger.val('');\n\t\t\t\t\tel.target.val(el.target.val() + item.stockWrap).trigger('keyup');\n\t\t\t\t\t// ajax.add({ stockcode: item.stockCode, stockname: item.stockName }).done(code => render())\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//aim-win显示股票列表\n//显示股票列表\nvar showStockListAimed = function () {\n\tvar el = {};\n\treturn {\n\t\tinit: function init() {\n\t\t\tel.input = aimedTeacher.find('.stockList');\n\t\t\tel.target = aimedTeacher.find('textarea');\n\t\t\tstockList.get().render({\n\t\t\t\tid: 'stockCode',\n\t\t\t\ttop: 218,\n\t\t\t\tleft: 25,\n\t\t\t\tonSelect: function onSelect(item, trigger) {\n\t\t\t\t\ttrigger.val('');\n\t\t\t\t\tel.target.val(el.target.val() + item.stockWrap).trigger('keyup');\n\t\t\t\t\t// ajax.add({ stockcode: item.stockCode, stockname: item.stockName }).done(code => render())\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}();\n\n//识别股票\n//如果查询成功回调callback({code, name})\n\nfunction parseStock(val, callback) {\n\tvar match = val.match(/[0-9]{6}/g);\n\tif (!match) return callback(false);\n\n\t//简单验证\n\tvar code = _.find(match, function (item) {\n\t\treturn isStockCode(item);\n\t});\n\tif (!code) return callback(false);\n\t//查询新浪验证\n\tqueryStock(code).done(function (data) {\n\t\tif (data && data.length < 6) return callback(false);\n\t\tcallback({\n\t\t\tcode: code,\n\t\t\tname: data[0]\n\t\t});\n\t});\n}\n\n//居中对齐\nfunction layoutBox() {\n\tvar w = $(window).width();\n\tvar h = $(window).height();\n\tvar cw = container.outerWidth();\n\tvar ch = container.outerHeight();\n\tcontainer.css({\n\t\tleft: (w - cw) / 2 + 'px',\n\t\ttop: (h - ch) / 2 + 'px'\n\t});\n}\n\nvar isStockCode = function isStockCode(value) {\n\tvalue = String(value);\n\tvar reg = /[036][0-9]{5}/;\n\tif (reg.test(value)) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*针对某个老师提问*/\n\nfunction aimedRender(ops) {\n\tif (!ynIsLogin) return yn.login.render();\n\tif (ynTeacherId) return layer.msg('老师不能提问!');\n\tqueryAskTimes(function (count) {\n\t\tanimate();\n\t\taimTeacherid = ops.select.id;\n\t\tgetPrice({ teacherId: aimTeacherid }).done(function (data) {\n\t\t\tvar price = data.data;\n\t\t\taimedTeacher.parent('#askAimed-wrap').fadeIn();\n\t\t\taimedTeacher.parent('#askAimed-wrap').show();\n\t\t\taimedTeacher.find('.aim-times .aim-value').text(count); //显示次数\n\t\t\taimedTeacher.find('.aim-line .aim-num').html(price); //显示价格\n\t\t});\n\t});\n}\n\n/*///////////////////////////////////////////////////////////////////*/\n\nvar instance = {\n\tinit: init,\n\trender: render,\n\taimedRender: aimedRender\n};\n\nmodule.exports = instance;\n\n//# sourceURL=webpack:///./public/v2/base/askWindow.js?");

/***/ }),

/***/ "./public/v2/base/localData.js":
/*!*************************************!*\
  !*** ./public/v2/base/localData.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n *\n *    本地缓存数据\n * \n * ---- get(key, {disable, timeout}) \n * \n *             key : localStorage中的key\n *             disable : Boolean , 是否禁用缓存, 默认false\n *             timeout :  Number , 缓存时间(单位:秒) , 默认5分钟\n *             return :  undefine || { data, valid } \n *\n *  ---- set(key, value)\n *          \n *  ---- joinKey  :　拼接对象值的为字符串 : 将查询字符作为key时使用\n *  \n *  \n *\n * \n */\n\nvar JSON = window.JSON || false;\nvar db = localStorage;\n\nvar set = function set(key, value) {\n    if (!(JSON && key)) return;\n    value = [_.now(), JSON.stringify(value)].join('@@@@');\n    db.setItem(key, value);\n};\n\nvar get = function get(key, ops) {\n    var data, valid;\n\n    if (!(JSON && key)) return;\n\n    ops = _.extend({\n        disable: false,\n        timeout: 3000\n    }, ops);\n\n    var val = db.getItem(key);\n    if (!(val && /@@@@/.test(val))) return;\n\n    var split = val.split('@@@@');\n\n    try {\n        var data = JSON.parse(split[1]);\n        var time = split[0];\n        // 判断是否超时\n        var valid = !ops.disable && _.now() - time <= ops.timeout * 1000;\n    } catch (e) {\n        data = [];\n        valid = false;\n    }\n\n    return { data: data, valid: valid };\n};\n\nmodule.exports = {\n    set: set,\n    get: get,\n    joinKey: function joinKey(obj) {\n        var r = [];\n        for (var key in obj) {\n            r.push(String(obj[key]));\n        }\n        return r.join(\"\");\n    }\n};\n\n//# sourceURL=webpack:///./public/v2/base/localData.js?");

/***/ }),

/***/ "./public/v2/base/query-stock.js":
/*!***************************************!*\
  !*** ./public/v2/base/query-stock.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function (code, ops) {\n    var defer = $.Deferred();\n    ops = _.extend({\n        handle: false, // 是否返回处理过的数据 : 截取2位小数, [33=涨跌幅, 34=涨跌额, 35=涨停价, 36=跌停价]\n        color: false // 是否着色,对现价[3],涨跌幅[33]着色, 涨跌额[34]\n    }, ops);\n    var reg = /[0-9]{6,}/;\n    if (!reg.test(String(code))) {\n        yn.log(\"yn.queryStock : stock code is error...\");\n        return defer.reject();\n    }\n\n    var prefixs = { 0: \"sz\", 3: \"sz\", 6: \"sh\" };\n    var prefix = prefixs[String(code).substr(0, 1)];\n    $.ajax({\n        cache: true,\n        url: \"http://hq.sinajs.cn/list=\" + prefix + code,\n        type: \"GET\",\n        dataType: 'script',\n        success: function success(data) {\n            var res = eval('hq_str_' + prefix + code + '.split(\",\")');\n            if (res.length < 5) {\n                return defer.reject();\n            }\n            if (parseInt(res[3]) === 0) {\n                res[3] = res[2];\n            }\n\n            //格式化数据\n            if (ops.handle) {\n                res = _.map(res, function (item) {\n                    var result = parseFloat(item);\n                    if (result === 0) {\n                        return \"---\";\n                    }\n                    if (!result) {\n                        return item;\n                    }\n                    return yn.setDecimal(item);\n                });\n\n                res[33] = yn.setDecimal((res[3] - res[2]) / res[2] * 100); //涨跌幅\n                res[34] = yn.setDecimal(res[3] - res[2]); //涨跌额\n                res[35] = yn.setDecimal(res[1] * 1.1); //涨停价\n                res[36] = yn.setDecimal(res[1] * 0.9); //跌停价\n\n                //成交量\n                res[8] = function () {\n                    return yn.setDecimal(res[8] / 1000000) + \"万手\";\n                }();\n\n                // 成交额\n                res[9] = function () {\n                    if (res[9] == \"---\") {\n                        return \"---\";\n                    }\n                    var value = res[9] / 10000;\n                    if (value > 10000) {\n                        value = yn.setDecimal(value / 10000) + \"亿元\";\n                    } else {\n                        value = yn.setDecimal(value) + \"万元\";\n                    }\n                    return value;\n                }();\n\n                //数据格式化前的值\n                var now = res[1];\n\n                //数据着色\n                if (ops.color) {\n                    res[1] = yn.colorValue(res[1], { //开盘价\n                        right: res[2]\n                    });\n                    res[3] = yn.colorValue(res[3], {\n                        left: res[34]\n                    });\n                    res[4] = yn.colorValue(res[4], { //最高价\n                        right: now\n                    });\n                    res[5] = yn.colorValue(res[5], { //最低价\n                        right: now\n                    });\n                    res[33] = yn.colorValue(res[33], {\n                        suffix: \"%\"\n                    }); //涨跌幅\n\n                    res[34] = yn.colorValue(res[34]);\n                    res[35] = yn.colorValue(res[35], { //涨停价\n                        right: now\n                    });\n                    res[36] = yn.colorValue(res[36], { //跌停价\n                        right: now\n                    });\n                }\n            }\n            defer.resolve(res);\n        }\n    });\n    return defer.promise();\n};\n\n//# sourceURL=webpack:///./public/v2/base/query-stock.js?");

/***/ }),

/***/ "./public/v2/base/stockList-1.2.js":
/*!*****************************************!*\
  !*** ./public/v2/base/stockList-1.2.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\n显示股票列表\n    \nvar instance = require('../module/ui/stockList-1.2.js');\ninstance.get().render(ops);\n\n    参数含义\n    ops = {\n        id: String --- 容器的ID(position = relative)\n        listLen: Number, --- 列表长度(最大为10),\n        left: Number, --- 定位(位置偏移值),\n        top: Number, --- 定位(位置偏移值),\n        onSelect({\n            stockCode: String, --- 股票代码\n            stockName: String, --- 股票名称\n            stockPinyin: String, --- 股票拼音\n            stockWrap: String --- $000001平安银行$\n        }): Function --- 回调函数\n    }\n\n\n    示例\n    stockList.get().render({\n        id: 'showStockList',\n        onSelect: (item, trigger) => {\n            trigger.val('')\n            alert(item.stockWrap)\n        }\n    })\n\n*/\n\n__webpack_require__(/*! ./stockList.css */ \"./public/v2/base/stockList.css\");\nvar local = __webpack_require__(/*! ./localData.js */ \"./public/v2/base/localData.js\");\n\nmodule.exports = function () {\n    var instance,\n        domCache = {};\n\n    // 创建实例\n    var createInstance = function createInstance() {\n\n        var isValidCode = function isValidCode(val) {\n            var a = /^[a-zA-Z]{2,5}$/.test(val); //拼音2-5\n            var b = /^[036][0-9]{2,5}$/.test(val); //数字3-6\n            return a || b;\n        };\n\n        // 本地缓存前10条查询结果, 7天更新一次\n        var getData = function getData(code, callback) {\n            var key = 'query-stock-' + code;\n            var cache = local.get(key, { timeout: 3600 * 24 * 7 });\n            if (cache && cache.valid) {\n                callback(cache.data);\n                return;\n            }\n            $.getJSON('/queryStock.htm?stockcode=' + code, function (back) {\n                if (back && back.length > 0) {\n                    var data = _.take(back, 10);\n                    callback(data);\n                    local.set(key, data);\n                }\n            });\n        };\n\n        var createTags = function createTags(arr, ops) {\n            var prefixs = { 0: \"深市\", 3: \"深市\", 6: \"沪市\" };\n            var tbody = _.map(arr, function (item) {\n                var place = prefixs[String(item.stockcode).substr(0, 1)];\n                return '<tr class=\"ynStockList\"> \\n                            <td class=\"place\">' + place + '</td> \\n                            <td class=\"stock_code\">' + item.stockcode + '</td> \\n                            <td class=\"stock_name\">' + item.stockname + '</td> \\n                            <td class=\"pinyin\">' + item.pinyin + '</td> \\n                          </tr>';\n            }).join(\"\");\n            return '<table>' + tbody + '</table>';\n        };\n\n        //  实例方法\n        return {\n            render: function render(ops) {\n                // 参数\n                ops = _.extend({\n                    listLen: 5,\n                    left: 0,\n                    top: 0,\n                    onSelect: function onSelect() {}\n                }, ops);\n\n                var e = {\n                    trigger: null,\n                    left: null,\n                    top: null,\n                    parent: null,\n                    $list: null\n\n                    // 如果DOM缓存可用, 则使用缓存\n                };if (domCache[ops.id]) {\n                    _.extend(e, domCache[ops.id]);\n                } else {\n                    e.trigger = $('#' + ops.id);\n                    e.left = ops.left + \"px\";\n                    e.top = e.trigger.height() + ops.top + \"px\";\n                    e.parent = e.trigger.parent();\n                    e.parent.append('<div class=\"ynStcokListSpacial absolute\" style=\"left:' + e.left + ';top:' + e.top + '\"></div>');\n                    e.$list = e.parent.find('.ynStcokListSpacial'); // 股票列表对象\n\n                    // 缓存DOM\n                    domCache[ops.id] = e;\n                }\n\n                $(document).click(function () {\n                    return e.$list.hide();\n                });\n\n                // 点击股票时回调\n                e.parent.on('click', 'tr.ynStockList', function () {\n                    e.$list.hide();\n                    var code = $(this).find('.stock_code').text();\n                    var name = $(this).find('.stock_name').text();\n                    var pinyin = $(this).find('.pinyin').text();\n\n                    ops.onSelect({\n                        stockCode: code,\n                        stockName: name,\n                        stockPinyin: pinyin,\n                        stockWrap: '$' + code + name + '$'\n                    }, e.trigger);\n                    return false;\n                });\n\n                // 监听键盘\n                e.trigger.on('keyup', _.debounce(function () {\n                    var val = $(this).val();\n\n                    // 检查是否为有效股票代码\n                    if (!isValidCode(val)) {\n                        e.$list.hide();\n                        return;\n                    }\n                    getData(val, function (back) {\n                        var data = _.take(back, +ops.listLen); // 截取长度\n                        e.$list.show().html(createTags(data, ops));\n                    });\n                }, 300, { leading: false, trailing: true }));\n            }\n        };\n    };\n\n    // 返回单例\n    return {\n        get: function get() {\n            if (!instance) {\n                instance = createInstance();\n            }\n            return instance;\n        }\n    };\n}();\n\n//# sourceURL=webpack:///./public/v2/base/stockList-1.2.js?");

/***/ }),

/***/ "./public/v2/base/stockList.css":
/*!**************************************!*\
  !*** ./public/v2/base/stockList.css ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../node_modules/_css-loader@1.0.0@css-loader!./stockList.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/v2/base/stockList.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1cbf0e40\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/v2/base/stockList.css?");

/***/ }),

/***/ "./public/v2/module/userAuth.css":
/*!***************************************!*\
  !*** ./public/v2/module/userAuth.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../../node_modules/_css-loader@1.0.0@css-loader!./userAuth.css */ \"./node_modules/_css-loader@1.0.0@css-loader/index.js!./public/v2/module/userAuth.css\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../../node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js */ \"./node_modules/_vue-style-loader@4.1.0@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"594f78ad\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack:///./public/v2/module/userAuth.css?");

/***/ }),

/***/ "./public/v2/module/userAuth.js":
/*!**************************************!*\
  !*** ./public/v2/module/userAuth.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/* \n    实名认证弹窗\n    var auth = require('vmodule/userAuth')\n    auth.get().render(back => {\n        alert(back) // 认证结果\n    })\n*/\n\nvar ajax = __webpack_require__(/*! m/ajax */ \"./public/module/ajax.js\");\nvar verification = __webpack_require__(/*! m/id-verify */ \"./public/module/id-verify.js\");\nvar countDonw = __webpack_require__(/*! m/count-down */ \"./public/module/count-down.js\");\n__webpack_require__(/*! ./userAuth.css */ \"./public/v2/module/userAuth.css\");\n\n/*///////////////////////////////////////////////////////////////////*/\n\nvar _isVerify = true; // 是否认证\nvar _isAppraisal = true; // 是否评估\n\n// 检查是否实名认证\nvar check = function () {\n\t$.post('/app/isIdCard.htm', function (back) {\n\t\tif (back.status == 1) {\n\t\t\t_isVerify = back.data.isCard == 'false' ? false : true;\n\t\t\t_isAppraisal = back.data.isRisk == 'false' ? false : true;\n\t\t}\n\t}, 'json');\n}();\n\nvar w = $(window).width();\nvar h = $(window).height();\n\nvar layoutBox = function layoutBox(box) {\n\tvar cw = box.outerWidth();\n\tvar ch = box.outerHeight();\n\tbox.css({\n\t\tleft: (w - cw) / 2 + 'px',\n\t\ttop: (h - ch) / 2 - 250 + 'px'\n\t});\n};\n\nvar createElement = function createElement() {\n\treturn '<div id=\"auth-overlay\" class=\"123456\">\\n        <div id=\"auth-verify\">\\n                <div class=\"title\"><span class=\"value\">\\u8BA4\\u8BC1\\u4E0E\\u8BC4\\u4F30</span> <i class=\"close fa fa-close\"></i></div>\\n                    <div class=\"auth-remind\">\\u5E94\\u8BC1\\u76D1\\u4F1A\\u8981\\u6C42\\uFF0C\\u540C\\u65F6\\u4E3A\\u4E86\\u4FDD\\u969C\\u60A8\\u7684\\u8D44\\u91D1\\u8D22\\u4EA7\\u5B89\\u5168\\uFF0C\\u8BF7\\u8FDB\\u884C\\u5B9E\\u540D\\u8BA4\\u8BC1</div>\\n                    <div class=\"auth-remind\">\\u8BA4\\u8BC1\\u4FE1\\u606F\\u4EC5\\u4F5C\\u5907\\u6848\\u4F7F\\u7528\\uFF0C\\u4E0D\\u4F1A\\u4EE5\\u4EFB\\u4F55\\u5F62\\u5F0F\\u900F\\u9732\\u7ED9\\u7B2C\\u4E09\\u65B9\\uFF0C\\u8BF7\\u653E\\u5FC3\\u4F7F</div>\\n                <div class=\"auth-frame card\">                 \\n                    <div class=\"form-item verify-form\">\\n                        <div class=\"line\">\\n                            <span class=\"form-text\">\\u771F\\u5B9E\\u59D3\\u540D</span>\\n                            <input class=\"auth-verify-name\" type=\"text\" placeholder=\"\\u586B\\u5199\\u60A8\\u8EAB\\u4EFD\\u8BC1\\u4E0A\\u7684\\u540D\\u5B57\">\\n                        </div>\\n                        <div class=\"line\">\\n                            <span  class=\"form-text\">\\u8EAB\\u4EFD\\u8BC1\\u53F7</span>\\n                            <input class=\"auth-verify-code\" type=\"text\" placeholder=\"15\\u621618\\u4F4D\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u7801\">\\n                        </div>\\n                        <div class=\"line submitBar\">\\n                            <div class=\"auth-error\"></div>\\n                            <div class=\"submit\">\\u786E\\u8BA4</div>\\n                        </div>\\n                    </div>\\n                    <div class=\"form-item done\">\\n                        <div class=\"result\">\\n                            <div class=\"icon-done-big icon\"></div>\\n                            <p>\\u606D\\u559C\\u60A8\\u8BA4\\u8BC1\\u6210\\u529F!</p>\\n                        </div>\\n                        <div class=\"to-btn\"><span class=\"count-down\">4</span>\\u79D2\\u540E\\u5F00\\u59CB\\u98CE\\u9669\\u8BC4\\u4F30</div>\\n                    </div>\\n                </div>\\n                <div class=\"auth-frame appraisal\">\\n                    <div class=\"appraisal-tip\">\\u53EA\\u9700\\u4E00\\u6B21\\u98CE\\u9669\\u8BC4\\u4F30\\uFF0C\\u65B9\\u4FBF\\u6211\\u4EEC\\u4E3A\\u60A8\\u66F4\\u597D\\u5730\\u670D\\u52A1\\uFF01</div>\\n                    <div class=\"appraisal-btn\">\\u53BB\\u8BC4\\u4F30</div>\\n                </div>\\n            </div></div>';\n};\n\nvar verify = function () {\n\tvar instance = null;\n\n\tvar createInstance = function createInstance() {\n\t\tvar callback; //验证回调\n\n\t\t$('body').append(createElement());\n\t\tvar container = $('#auth-verify');\n\t\tvar frame_card = container.find('.auth-frame.card');\n\t\tvar frame_appraisal = container.find('.auth-frame.appraisal');\n\t\tvar group_form = container.find('.verify-form'); // 评估表单\n\t\tvar group_success = container.find('.form-item.done'); //评估完成\n\t\tvar error = container.find('.auth-error');\n\t\tvar name = container.find('.auth-verify-name');\n\t\tvar code = container.find('.auth-verify-code');\n\t\tvar submit = container.find('.submit');\n\t\tvar overlay = $('#auth-overlay');\n\t\toverlay.css({\n\t\t\twidth: w + 'px',\n\t\t\theight: h + 'px'\n\t\t});\n\n\t\tlayoutBox(container);\n\n\t\tvar reset = function reset() {\n\t\t\toverlay.hide();\n\t\t\terror.text('');\n\t\t\tname.val('');\n\t\t\tcode.val('');\n\t\t};\n\n\t\tvar showError = function showError(text) {\n\t\t\terror.text(text);\n\t\t\terror.addClass('shake');\n\t\t\tsetTimeout(function () {\n\t\t\t\terror.removeClass('shake');\n\t\t\t}, 1000);\n\t\t};\n\n\t\tvar toAppraisal = function toAppraisal() {\n\t\t\twindow.location.href = '/backstage/myAppraisal.htm?jump=' + window.location.href;\n\t\t};\n\n\t\t// 评估完成\n\t\tvar showSuccess = function showSuccess() {\n\t\t\t_isVerify = true;\n\t\t\tcontainer.find('.close').hide();\n\t\t\tgroup_success.show();\n\t\t\tgroup_form.hide();\n\t\t\tcountDonw.run({\n\t\t\t\t$el: container.find('.count-down'),\n\t\t\t\tdone: function done() {\n\t\t\t\t\ttoAppraisal();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tif (!_isVerify) {\n\t\t\t// 未认证\n\t\t\tframe_card.show();\n\t\t} else {\n\t\t\tframe_appraisal.show();\n\t\t}\n\n\t\tframe_card.find('input').focus(function () {\n\t\t\terror.text('');\n\t\t});\n\n\t\tcontainer.on('click', '.close', function () {\n\t\t\treset();\n\t\t\tif (typeof callback == 'function') {\n\t\t\t\tcallback(false);\n\t\t\t}\n\t\t});\n\n\t\tcontainer.on('click', '.appraisal-btn', function () {\n\t\t\ttoAppraisal();\n\t\t});\n\n\t\t/* Event */\n\n\t\tsubmit.on('click', function () {\n\t\t\tvar val_name = name.val().replace(/^\\s+|\\s+$/, '');\n\t\t\tvar val_code = code.val().replace(/^\\s+|\\s+$/, '');\n\t\t\tvar valid_name = /^[\\u4e00-\\u9fa5\\.]{2,20}$/.test(val_name);\n\t\t\tvar valid_code = verification(val_code);\n\n\t\t\tif (!valid_name) {\n\t\t\t\treturn showError('真实姓名为中文汉字(2-20)');\n\t\t\t}\n\n\t\t\tif (!valid_code) {\n\t\t\t\treturn showError('请填写有效身份证号');\n\t\t\t}\n\n\t\t\t$.post('/app/verificationIdCard.htm', {\n\t\t\t\tusername: val_name,\n\t\t\t\tidCard: val_code\n\t\t\t}, function (data) {\n\t\t\t\tif (data.status == 1 || data.status == 90001) {\n\t\t\t\t\t_isVerify = true;\n\t\t\t\t\treturn showSuccess();\n\t\t\t\t}\n\n\t\t\t\tif (data.status == 90000) {\n\t\t\t\t\treturn showError('\\u8FD8\\u6709' + data.data.validateCount + '\\u6B21\\u8BA4\\u8BC1\\u673A\\u4F1A');\n\t\t\t\t}\n\n\t\t\t\tif (data.status == 90004) {\n\t\t\t\t\treturn showError('认证次数已用完，请明天再试');\n\t\t\t\t}\n\n\t\t\t\tif (data.status == 90005) {\n\t\t\t\t\tlayer.msg('身份证绑定用户数已达上限');\n\t\t\t\t}\n\t\t\t}, 'json');\n\t\t});\n\n\t\treturn {\n\t\t\trender: function render(_callback, flag) {\n\t\t\t\t// 如果第二个参数为“none”， 不验证\n\t\t\t\tif (flag == 'none') {\n\t\t\t\t\t_callback(true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcallback = _callback;\n\n\t\t\t\t// 已经认证完毕\n\t\t\t\tconsole.log('=969696', _isAppraisal && _isVerify);\n\t\t\t\tif (_isAppraisal && _isVerify) {\n\t\t\t\t\tconsole.log(8520);\n\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\toverlay.show();\n\t\t\t}\n\t\t};\n\t};\n\n\treturn {\n\t\tget: function get() {\n\t\t\tif (!instance) {\n\t\t\t\tinstance = createInstance();\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t};\n}();\n\nmodule.exports = verify;\n\n//# sourceURL=webpack:///./public/v2/module/userAuth.js?");

/***/ })

/******/ });