var _data = {
    pro: [{
        type: 'pro',
        order: 1,
        name: "张晟昱",
        professional: "高级投资顾问",
        certificate_num: "A0670617040003",
        description: "曾任私募公司操盘手，多年股市实战经历拥有丰富的大资金操盘经验，擅长从宏观经济动向中研判大盘行情，对趋势的形成与反转有自己独到的见解，技术分析偏爱江恩流派，熟悉庄家各种操盘手法引起的量价变化，个人交易体系以风险控制为主，善于跟庄交易并能够流畅切换长中短线操作风格。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/pro/zhangshengyu_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/pro/zhangshengyu.jpg",
        specialtyList: ["研究宏观动向，分析行业板块 ", "秉承趋势为主，把握波段行情"]
    }, {
        type: 'pro',
        order: 2,
        name: "罗世琴",
        professional: "高级投资顾问",
        certificate_num: "A0670617040001",
        description: "中央财经大学金融管理学专业。先后就职业中大期货、著名私募机构资产管理部、多年证券市场执业经验，担任第一财经、新浪财经特约嘉宾。,狙击短线强势热股，打造牢固交易投资矩阵。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/pro/luoshiqin_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/pro/luoshiqin.jpg",
        specialtyList: ["擅长深入浅出的为投资者解读政策面以及基本面信息，精于研判政策以及事件驱动发酵，低吸翻倍牛股。"]
    }, {
        type: 'pro',
        order: 3,
        name: "朱文杰",
        professional: "高级投资顾问",
        certificate_num: "A0670617050004",
        description: "24年证券从业经历，第一批证券分析师，曾任职于海通、国元等大型券商，擅长于基本面、技术面和行为金融学分析，具有如基本面淘宝法，估值法等实战理论，对宏观及微观分析把握有独到见解。曾获得海通证券全国投资大赛冠军。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/pro/zhuwenjie_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/pro/zhuwenjie.jpg",
        specialtyList: ["对宏观大事后独特见解，能较好的把握大趋势", "运用基本面分析寻找长期价值股", "用独特的估值模式判断价格走势", "崇尚用可以复制的交易模式让投资更简单"]
    }, {
        type: 'pro',
        order: 4,
        name: "沈 吉",
        professional: "高级投资顾问",
        certificate_num: "A0670617050006",
        description: "十六年实战经验,新生代波浪理论与中国传统哲学集大成者。西南大学金融学专业毕业，经济学学士。历任京津地区多家私募机构策略分析师、操盘手。精研趋势的形成与反转。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/pro/shenji_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/pro/shenji.jpg",
        specialtyList: ["投资理念：天时第一，赢在天时。", "操盘格言：知进退，是投资成功的关键。", "个人特点：在波段利润最大化和逃顶抄底之间寻求平衡。", "经典战法：3周期共振x（“超级牛股苗子”+动能金叉） = 超级牛股起飞"]
    }, {
        type: 'pro',
        order: 5,
        name: "贾文蒙",
        professional: "高级投资顾问",
        certificate_num: "A0670617020002",
        description: "笔名：东燊，资深投资顾问，中国人民大学金融学毕业，10多年证券实战经验，曾担任国泰金安首席分析师。善用“四维分析决策系统”，独创定位倍增交易体系。善于跟庄交易，捕捉强势牛股。追求收益持续稳定倍增，多年来为股民提供优质高效的服务，赢得市场认可。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/pro/jiawenmeng_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/pro/jiawenmeng.jpg",
        specialtyList: ["筹码跟庄术：分析筹码分布，识别跟踪主力，洞察筹码变化，精准把握行情趋势。", "抄底术：成交量萎缩到位，指标超卖到位，热点冷却到位，“抄底术”变身“摇钱树”。","四维决策系统：集合“量、价、势、空”四大要素，注重对市场情绪和力度的把握。"]
    }],
    gold: [{
        type: 'gold',
        order: 6,
        name: "赵毓羴",
        professional: "高级投资顾问",
        certificate_num: "A0670617060004",
        description: "有多年证券从业经历、曾先后任职于国内知名证券公司，技术分析以道氏理论、波浪理论为基础，运用各种技术指标在实战中取得丰硕的战果，获得过建行举办的股指期货大赛全国区季度总冠军、年度总亚军的成绩。对股指运行方向有很明确的判断。对宏观基本面和行业分析有独道的方法。善于发掘中长线牛股、精通短线波段式操作技巧。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/gold/zhaoyushan_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/gold/zhaoyushan.jpg",
        specialtyList: ["把握市场热点趋势", "耐心等待投资机会", "合理运用产品组合","科学控制资金持仓"]
    }, {
        type: 'gold',
        order: 7,
        name: "田建勇",
        professional: "高级投资顾问",
        certificate_num: "A0670617020005",
        description: "高级分析师，从事证券十余年，曾担任某私募公司操盘手。以自身累积的实战操盘经验为基础，技术分析方面善于解读走势结构本身的内在运动规律，在个股专业分析和持续稳定收益为他赢得了很高的市场声誉。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/gold/tianjianyong_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/gold/tianjianyong.jpg",
        specialtyList: ["精准把握趋势方向", "实战经验沉淀扎实", "形成独特战法体系"]
    }, {
        type: 'gold',
        order: 8,
        name: "曹向东",
        professional: "高级投资顾问",
        certificate_num: "A0670617050008",
        description: "8年实战操盘经验，既从事过私募操盘，又做过理论研究，深谙游资风格，善于捕捉短线热点，注重基本面分析，尊重趋势投资，形成了短线热点和中线趋势结合的投资方法，创立了市场驱动的操盘体系。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/gold/caoxiangdong_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/gold/caoxiangdong.jpg",
        specialtyList: ["投资理念：尊重市场   控制回撤", "交易风格：短线主题热点捕捉  中线价格趋势投机", "选股方法：技术面验证，基本面驱动。", "擅长领域：量价分析 主力思路 ", "擅长从量价挖掘主力思路  创立市场驱动操盘体系"]
    }, {
        type: 'gold',
        order: 9,
        name: "徐 晨",
        professional: "高级投资顾问",
        certificate_num: "A0670617020003",
        description: "国家二级理财规划师CHFP，国际金融理财师CFP，证券分析师，金融投资学学士，曾任职于中信建投高级投资顾问，长期担任中央人民广播电台经济之声、第一财经频道等多家知名媒体特邀嘉宾。多年从事投资研究工作。善于把握主题型投资机会，深刻领悟主力机构投资运作规律，精研于主升浪翻倍行情的研究。对重点跟踪个股波段能力惊人，以其严谨的仓位管理和投资组合，成功在熊市实现年复利增长368%，坚信胜者为王，追求资产收益持续稳健增长，深受投资者信赖。%，坚信胜者为王，追求资产收益持续稳健增长，深受投资者信赖。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/gold/xuchen_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/gold/xuchen.jpg",
        specialtyList: ["股海沉浮", "自创趋势交易体系"]
    }, {
        type: 'gold',
        order: 10,
        name: "张宇航",
        professional: "高级投资顾问",
        certificate_num: "A0670617070003",
        description: "高级分析师，理学学士。七年的实盘交易经验。曾担私募公司量化研究员、交易员。有自己的系统交易策略，能够达到稳定盈利。侧重于股票市场的选股方向，选股策略研究，商品市场的跨期、期现、驱动力套利研究。崇尚复利价值理念，以稳定获利为交易目标。",
        imgUrl: "http://www.yuetougu.com/public/other/app-zqcl/images/gold/zhangyuhang_decorate.png",
        photo:"http://www.yuetougu.com/public/other/app-zqcl/images/gold/zhangyuhang.jpg",
        specialtyList: ["能够达到稳定盈利"]
    }]

}





var version = (function() {
    var container, items
    return {
        init: function() {
            container = $('.app-zqcl')
            items = container.find('.app-zq-container')
            container.on('click', '.app-btn', function() {
                $(this).addClass('select').siblings().removeClass('select');
                var version = $(this).data('version')
                professional.render(version)
            })
        }
    }
})()

var create = function(arr) {
    return arr.map(function(item) {
        item._description = item.description.length > 35 ? item.description.substr(0, 35) + '..' : item.description
        return `<div class="app-item-teacher app-item-pro1" data-order="${item.order}" data-type="${item.type}">
        <div class="app-item-teacher app-item-pro2">
            <div class="app-item-photo"><img src="${item.photo}" alt=""></div>
            <div class="app-teacher-msg">
                <div class="app-teacher-name">${item.name}<span class="app-teacher-professional">${item.professional}</span></div>
                <div class="app-teacher-certificateNum">投顾编号：${item.certificate_num}</div>
                <div class="app-teacher-description">${item._description}</div>
            </div>
        </div>
    </div>`
    }).join('')
}

var createTag = function(item) {
            item = item[0]
          var specialtyList = _.map(item.specialtyList,function(item){
            return `<span class="item">${item}</span>`
          }).join('')

        return `<div class="zq-shade-wrap">
        <div class="zq-shade-first zq-shade-first-top">
        <div class="zq-shade-photo"><img src="${item.imgUrl}" alt=""></div>
        <div class="zq-shade-teacherNum">${item.name}<span class="zq-shade-tnum">投顾编号：${item.certificate_num}</span></div>
    </div>

    <div class="zq-shade-second">
    <div class="zq-shade-first">
        <div class="zq-shade-title">个人简介</div>
        <p class="zq-shade-text">${item.description}</p>
    </div>
    <div class="zq-shade-first">
        <div class="zq-shade-title">交易特点</div>
        <div class="zq-shaed-specialtyList">${specialtyList}</div></div></div></div>`
}




var types = {
    pro: $('.app-zq-pro-wrap'),
    gold: $('.app-zq-gold-wrap')
}

var professional = (function() {
    var container, item,shadow,shadow_msg
    return {
        init: function() {
            container = $('.app-zqcl')
            item = container.find('.app-item-pro1')
            shadow = container.find('.app-zq-shade')
            shadow_msg = shadow.find('.zq-shade-content')

                //点击老师显示详情
            container.on('click', '.app-item-pro1', function() {
                var type = $(this).data('type')
                var order = $(this).data('order')
                professional.shade(type, order)
            })
            shadow.on('click',function(){
            shadow.find('.zq-shade-content').addClass('down').removeClass('up')
                    shadow.hide()
            })
        },
        render: function(type) {
            types[type].find('.app-item-content').html(create(_data[type]))
            types[type].show()
            professional.hidden(type)
        },
        hidden: function(type) {
            if (type == 'pro') {
                types['gold'].hide()
            } else {
                types['pro'].hide()
            }
        },
        shade: function(type, id) {
            var data = _.filter(_data[type], function(item) {
                return item.order == id
            })
            shadow_msg.html(createTag(data))

            shadow.show()
            shadow.find('.zq-shade-content').removeClass('down').addClass('up')
        }
    }
})()


$(function() {
    version.init()
    professional.init()
    professional.render('pro')
})
