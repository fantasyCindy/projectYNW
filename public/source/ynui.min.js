"use strict";var ynUI={};ynUI.checkbox=function(n){this.props=_.extend({container:null,values:null,select:0,multi:!1,onChange:function(){}},n)},ynUI.checkbox.prototype={render:function(){var n=this,t=this.props,e=(function(){t.container||layer.msg("ynUI.checkbox : container not defined")}(),function(){return _.map(t.values,function(n,e){var a=t.select===e?"select":"";return'<span class="ynUI-checkbox-item" data-value="'+n.value+'">\n                    <span class="icon outer"><span class="icon inner '+a+'" data-value="'+n.value+'"></span></span>\n                    <span class="txt">'+n.text+"</span>\n                </span>"})}());t.container.html(e);(function(){t.container.on("click",".ynUI-checkbox-item .outer",function(){var e=$(this).parent().parent();t.multi?$(this).find(".inner").toggleClass("select"):(e.find(".inner.select").removeClass("select"),$(this).find(".inner").addClass("select")),t.onChange(n.getValues())})})();return this},getValues:function(){var n=[],t=this.props;return t.container.find(".ynUI-checkbox-item").each(function(){$(this).find(".select").length>0&&n.push($(this).data("value"))}),n}},ynUI.slider=function(n){this.props=_.extend({container:null,range:[1,100],color:"black",unit:"",formatText:null,onMove:function(n){}},n),this.props.formatText=n.formatText||this.props.range},ynUI.slider.prototype={result:null,render:function(){var n=this.props,t=this,e=Math.abs(n.range[1]-n.range[0]),a=function(){var t=n.formatText[0],e=n.formatText[1];return'<div class="ynUI-slider">\n                        <span class="indicate-left-text indicate-text">'+t+'</span>\n                        <div class="inline track">\n                            <span class="selectbar '+n.color+'"></span>\n                            <span class="scrollbar">\n                                <span class="indicate"></span>\n                            </span>\n                        </div>\n                        <span class="indicate-right-text indicate-text">'+e+'</span>\n                        <input type="text" class="result" value="'+n.range[0]+'"/>\n                        <span class="unit">'+n.unit+"</span>\n                    </div>"}();n.container.html(a),this.result=n.container.find(".result");var i=n.range[0];(function(){function a(n){o.css("left",n),c.css("width",n)}var s=!1,r=n.container.find(".track"),o=n.container.find(".scrollbar"),c=n.container.find(".selectbar"),l=r.width(),u=r.offset().left,d=u+l;o.on("mousedown",function(){s=!0}),$("body").on("mousemove",function(i){if(s){var r=Math.floor(i.pageX);if(!(r>d||r<u)){var o=r-u;a(o),n.onMove({result:t.result,percent:o/l,sum:e,range:n.range})}}}),$("body").on("mouseup",function(){s=!1}),t.result.change(function(){var t=$(this).val();""===t&&$(this).val(i),t=+t;var s=_.inRange(t,n.range[0],n.range[1]);if(s){var r=(t+Math.abs(n.range[0]))/e*l;a(r),i=t}else $(this).val(i)})})();return this},setOffset:function(n){var t=_.inRange(n,this.props.range[0],this.props.range[1]);t?(this.result.val(n),this.result.trigger("change")):layer.msg("ynui.slider : offset value is invalid ")}};var UICommon={};UICommon.favorite=function(){},UICommon.favorite.prototype={container:null,render:function(n){}},ynUI.track=function(n){_.extend(this,n)},ynUI.track.prototype={container:null,ratio:0,height:8,trackColor:"#ddd",trainColor:"red",style:"",render:function(){var n=this,t=_.now(),e=function(){var e="";return n.style&&(e=n.style.replace("bg-","")),'<div class="ynui-track-item">\n                        <div class="ynui-track" style="height:'+n.height+"px;background:"+n.trackColor+';">\n                            <div id="'+t+'-train" class="ynui-train '+n.style+'" style="width:0%;background:'+n.trainColor+";height:"+n.height+'px;"></div>\n                        </div>\n                        <div class="ynui-track-text '+e+'" id="'+t+'-text">'+n.ratio+"%</div>\n                    </div>"}();this.container.append(e),$("#"+t+"-train").velocity({width:this.ratio+"%"},{duration:"500"})}};